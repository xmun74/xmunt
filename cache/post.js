export const cachedPosts = [
  {
    slug: 'crlf',
    title: 'ê°œí–‰.ì¤„ë°”ê¿ˆ.EOL(end-of-line)ë¬¸ìë€? - CR, LF',
    content:
      '\n# ì–´ì©Œë‹¤ LFë¥¼ ê²€ìƒ‰â€¦?\n\në‹¤ì§œê³ ì§œ LFì™€ CRì— ëŒ€í•´ì„œ ì•Œê³ ì‹¶ì–´ì„œ(?!) ì´ë¥¼ ê²€ìƒ‰í•´ë³¸ ê±´ ì•„ë‹ˆê³ \nì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ë¥¼ ë§Œë‚˜ì„œ ì´ì— ëŒ€í•´ ì•Œì•„ë³´ê²Œë˜ì—ˆë‹¤.\nìœˆë„ìš° í™˜ê²½ì—ì„œ(ì¤‘ìš”) eslint, prettierë¥¼ ì„¤ì •í•˜ë˜ ì¤‘ ì½”ë“œì˜ ë§ˆì¹¨ë¶€ë¶„ë§ˆë‹¤ ì—ëŸ¬ê°€ í‘œì‹œë˜ê³  ìˆì—ˆë‹¤.\n\n### ì—ëŸ¬\n\n```\nDelete `â`\n```\n\n![241013-173454](/images/posts/crlf/241013-173454.png)\n\n<br />\n\n### ì›ì¸\n\n- íšŒì‚¬ëŠ” ìœˆë„ìš°ê³  ê°œì¸ ë…¸íŠ¸ë¶ì€ ë§¥ì¸ë°,\n  ë§¥ì—ì„œ ì‘ì„±í–ˆë˜ prettierrcë¥¼ ê·¸ëŒ€ë¡œ ë³µë¶™í–ˆë”ë‹ˆ ë¬¸ì œê°€ ë°œìƒí–ˆë˜ ê²ƒì´ë‹¤.\n\n### í•´ê²° ë°©ë²•\n\n- "endOfLine": "lf"ì—ì„œ "auto"ë¡œ ë³€ê²½\n  `"endOfLine": "auto",`\n\n```js\n{\n  "semi": true,\n  "singleQuote": false,\n  "tabWidth": 2,\n  "trailingComma": "es5",\n  "arrowParens": "avoid",\n  "bracketSameLine": false,\n  "bracketSpacing": true,\n  //  "endOfLine": "lf", // ì‚­ì œ\n  "endOfLine": "auto", // ì¶”ê°€\n   "printWidth": 120,\n  "proseWrap": "preserve"\n}\n\n```\n\n- Prettier v2.0.0ë¶€í„° endOfLineì˜ ê¸°ë³¸ê°’ì´ autoì—ì„œ lfë¡œ ë³€ê²½ë¨\n  - [Options Â· Prettier](https://prettier.io/docs/en/options.html#end-of-line)\n\n---\n\n<br /><br />\n\n# ì¤„ë°”ê¿ˆì˜ ì‹œì‘\n\n![](https://velog.velcdn.com/images/xmun74/post/267298e1-ed2e-46c7-9f27-4ca5a9ac02d7/image.gif)\n\n- [ì°¸ê³  ì˜ìƒ](https://www.youtube.com/watch?v=FkUXn5bOwzk)\n\n![241013-173532](/images/posts/crlf/241013-173532.png)\n\nLFì™€ CRì´ë€ ìš©ì–´ëŠ” `íƒ€ìê¸°`ì—ì„œ ë¶€í„° ì˜ë¯¸ê°€ ì‹œì‘ëœë‹¤.\n\níƒ€ìë¥¼ ì…ë ¥í•  ë•Œë§ˆë‹¤ ì¢…ì´ê°€ ì˜¤ë¥¸ìª½ì—ì„œ ì™¼ìª½ìœ¼ë¡œ ì›€ì§ì´ëŠ”ë°\ní•œ ì¤„ì„ ë‹¤ ì…ë ¥í•´ì„œ ì˜¤ë¥¸ìª½ ëì— ë‹¤ë‹¤ë¥´ë©´ ë‹¤ìŒì¤„ + ë§¨ ì²˜ìŒìœ¼ë¡œ ì´ë™í•´ì•¼í•œë‹¤.\nì´ë•Œ 2ê°€ì§€ì˜ ë™ì‘ì´ ì´ë¤„ì§„ë‹¤.\n\n1. ì™¼ìª½ ë ˆë²„ë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë‹¹ê²¨ì„œ ì¢…ì´ì˜ ë§¨ ì™¼ìª½ìœ¼ë¡œ ì´ë™í•˜ê³ \n2. ë‹¤ìŒì¤„ë¡œ ë„˜ì–´ê°€ê¸° ìœ„í•´ ì¢…ì´ë¥¼ ìœ„ë¡œ ì˜¬ë ¤ì„œ ì„¸ë¡œ ì¤„ë„˜ê¹€ì„ í•œë‹¤.\n\n- `Carriage`ë€ ì¢…ì´ë¥¼ ê³ ì •í•´ì£¼ëŠ” ë¡¤ì²˜ëŸ¼ ìƒê¸´ ì¥ì¹˜ë‹¤.\n- `Carriage Return`ì€ ë ˆë²„ë¥¼ ë‹¹ê²¨ì„œ ì¢…ì´ë¥¼ ë§¨ ì™¼ìª½ìœ¼ë¡œ ì´ë™ì‹œí‚¤ê¸°ëŠ” ê²ƒì„ ëœ»í•œë‹¤.\n- `Line Feed`ëŠ” í•œì¤„ë§Œí¼ ì¢…ì´ë¥¼ ìœ„ë¡œ ì˜¬ë ¤ì„œ ì„¸ë¡œ ì¤„ë„˜ê¹€í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.\n\n<br />\n\n### 1. CR `\\n`\n\nCarriage Return : ì»¤ì„œë¥¼ ë§¨ì•ìœ¼ë¡œ ì´ë™ (ê°€ë¡œ)\n\n### 2. LF `\\r`\n\nLine Feed : ì»¤ì„œëŠ” ê·¸ëŒ€ë¡œì¸ ìƒíƒœì—ì„œ ë‹¤ìŒì¤„ë¡œ ì´ë™ (ì„¸ë¡œ)\n\n### CRLF `\\r\\n`\n\nCarriage Return Line Feed : ì»¤ì„œ ë§¨ì• ì´ë™ + ë‹¤ìŒì¤„ ì´ë™\n\n- CRê³¼ LFì˜ ì¡°í•©\n\n<br /><br />\n\n## ìš´ì˜ì²´ì œ ë³„ ê°œí–‰\n\nì½”ë“œ ì‘ì„±í•  ë•Œ í‚¤ë³´ë“œ `ì—”í„°` í‚¤ë¥¼ ëˆ„ë¥¼ë•Œë§ˆë‹¤ ê°œí–‰ë¬¸ìë¼ëŠ” ë³´ì´ì§€ ì•ŠëŠ” ë¬¸ìê°€ ì‚½ì…ëœë‹¤.\nê·¸ëŸ°ë° ìš´ì˜ì²´ì œë§ˆë‹¤ ê¸°ë³¸ìœ¼ë¡œ ì±„íƒí•˜ê³  ìˆëŠ” line ending ê°œí–‰ë¬¸ì(ì¤„ë°”ê¿ˆ) ì²˜ë¦¬ë°©ì‹ì´ ë‹¤ë¥´ë‹¤.\n\n#### 1. Windows OS\n\n- ë‘ê°€ì§€ë¥¼ ì¡°í•©í•œ CRLF `\\r\\n` ì±„íƒ\n- ìœˆë„ìš°ì—ì„œ LF ê°œí–‰ìœ¼ë¡œ ëœ íŒŒì¼ì„ ì½ì„ ë•Œ ê¹¨ì§ í˜„ìƒ ë°œìƒ\n  1. ì¤„ë°”ê¿ˆ ì¶©ëŒë¡œ ê¸€ìê°€ ë¶™ì—¬ì„œ ë³´ì—¬ì§\n  2. ê¸€ì ì œì¼ ë§ˆì§€ë§‰ì— íŠ¹ìˆ˜ë¬¸ì `^M` ì´ ì¶œë ¥ë¨\n\n#### 2. UNIX ë° MAC OS(9 ë²„ì „ ì´í›„)\n\n- LF `\\n` ì±„íƒ\n- MAC OS 9 ì´ì „ ë²„ì „ (ë§¤í‚¨í† ì‹œ:Machintosh) - CR ì±„íƒ\n  ì›ë˜ ì´ˆì°½ê¸° 9ë²„ì „ ì´ì „ì—ëŠ” CRë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ,\n  ê·¸ ì´í›„ë¶€í„°ëŠ” Unixì™€ ì¼ì¹˜í•˜ëŠ” LFë¡œ ë³€ê²½ëë‹¤.\n\n![241013-173706](/images/posts/crlf/241013-173706.png)\n\n> - ì´ìŠ¤ì¼€ì´í”„ ì‹œí€€ìŠ¤ë€?\n>   í”„ë¦°íŠ¸í•  ìˆ˜ ì—†ì§€ë§Œ ê°œë…ìƒ ìˆëŠ” ë¬¸ì (ì˜ˆ: ê°œí–‰`\\n`, íƒ­`\\t`)\n\n<br/>\n- ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ keyCodeê°€ 13ì´ë©´ ì—”í„°ë¥¼ ì˜ë¯¸í•˜ëŠ”ë° ì´ ì•„ìŠ¤í‚¤ì½”ë“œì—ì„œ ë‚˜ì˜¨ ê²ƒì´ë‹¤.\n\n<br /><br />\n\n# ê·¸ëŸ¬ë©´ ì™œ ì§€ê¸ˆì€ ê°œí–‰ë°©ì‹ì´ ë‚˜ëˆ ì¡Œë‚˜?\n\n1963~1968ë…„ê¹Œì§€ ISO(êµ­ì œí‘œì¤€í™”ê¸°êµ¬)ì—ì„œëŠ” ê°œí–‰ë¬¸ìë¡œ CR+LFë¥¼ ì±„íƒí–ˆë‹¤. ë°‘ ì‚¬ì§„ì˜ í…”ë ˆíƒ€ì´í”„ë¼ëŠ” ì „ì‹ íƒ€ìê¸°ì—ì„œ ì£¼ë¡œ ì‚¬ìš©ëë‹¤.\n\nê·¸ëŸ¬ë‹¤ê°€ 1964ë…„ ë“±ì¥í•œ ë©€í‹±ìŠ¤ ìš´ì˜ì²´ì œì—ì„œë¶€í„° ê°œí–‰ë¬¸ìë¥¼ LFë§Œìœ¼ë¡œ ì±„íƒí•˜ê¸° ì‹œì‘í–ˆë‹¤. ì´ëŠ” ì»´í“¨í„°ê°€ ë§‰ ë“±ì¥í•˜ë˜ ì‹œê¸°ì—¬ì„œ ë©”ëª¨ë¦¬ ë¹„ìš©ì´ ë¹„ìŒŒê¸° ë•Œë¬¸ì— ë°”ì´íŠ¸ê°€ ì‘ì€ LFë§Œì€ ì±„íƒí•œ ê²ƒì´ë‹¤.\nUnixì™€ ë¦¬ëˆ…ìŠ¤ë„ ë©€í‹±ìŠ¤ì˜ ê´€ë¡€ë¥¼ ì´ì–´ë‚˜ê°€ê²Œ ëë‹¤.\nìœˆë„ìš°ëŠ” 1981ë…„ ë“±ì¥í•œ DOS ìš´ì˜ì²´ì œì˜ CR+LF ë°©ì‹ì˜ ê´€ë¡€ë¥¼ ë”°ë¥´ê²Œ ëœ ê²ƒì´ë‹¤.\n\n- [í…”ë ˆíƒ€ì´í”„ (ì „ì‹ íƒ€ìê¸°)](https://ko.wikipedia.org/wiki/%EC%A0%84%EC%8B%A0%ED%83%80%EC%9E%90%EA%B8%B0)\n  ![241013-173750](/images/posts/crlf/241013-173750.png)\n\n<br /><br /><br /><br />\n\n# Gitì—ì„œì˜ ì¤„ ë\n\nGitìœ¼ë¡œ ê°œë°œìë“¤ê³¼ í˜‘ì—…í•˜ëŠ”ë° ìœˆë„ìš°ì™€ ë§¥ì„ í˜¼ìš©í•´ì„œ ì½”ë“œë¥¼ ì˜¬ë¦¬ê³  ìˆì—ˆë‹¤ë©´,\nì»´í“¨í„°ì—ì„œëŠ” CRLFì™€ LFì˜ ê° ë°”ì´íŠ¸ ê°’ì´ ë‹¤ë¥´ê¸° ë–„ë¬¸ì— ë‹¤ë¥´ê²Œ ì¸ì‹í•œë‹¤.\nê·¸ë˜ì„œ í˜•ìƒê´€ë¦¬ íˆ´ì—ì„œëŠ” ê°œí–‰ë°©ì‹ì´ ë‹¤ë¥´ë©´ diffë¡œ ì¸ì‹ë˜ì–´ ì„œë¡œ ë‹¤ë¥¸ ì½”ë“œë¼ê³  ë³´ê²Œ ëœë‹¤.\në”°ë¼ì„œ git commití•  ë•Œ ì‹¤ì œ ë³€ê²½í•˜ì§€ ì•Šì€ íŒŒì¼ë„ ê°œí–‰ë°©ì‹ì´ ë‹¤ë¥¸ ê²ƒ ë•Œë¬¸ì— ë³€ê²½ëœ ê²ƒìœ¼ë¡œ(CRLFì—ì„œ LFë¡œ ë³€í™˜ ë˜ëŠ” ë°˜ëŒ€) ì˜ëª» ì¸ì‹í•˜ê²Œ ëœë‹¤.\n\n- ìœˆë„ìš°ì—ì„œ `git add .` ì‹œ ë°‘ê³¼ ê°™ì€ warningì„ ë§Œë‚˜ê²Œ ëœë‹¤.\n\n```\nwarning: LF will be replaced by CRLF in íŒŒì¼ê²½ë¡œ\nThe file will have its original line endings in your working directory\n```\n\nì´ëŠ” ì»¤ë°‹ ë‚´ì—­, ì½”ë“œ ì´ë ¥ê´€ë¦¬ì— ì¢‹ì§€ ì•Šìœ¼ë¯€ë¡œ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.\n\n> í˜‘ì—… ì‹œ ê°œë°œì ê°„ ì‚¬ìš©ì¤‘ì¸ OSê°€ ë‹¤ë¥¼ ê²½ìš° Gitì—ì„œ ì˜ˆê¸°ì¹˜ ì•Šì€ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.\n\n### [í•´ê²°ë°©ë²•](https://docs.github.com/ko/get-started/getting-started-with-git/configuring-git-to-handle-line-endings?platform=mac)\n\n- Windows OS\n\n```bash\ngit config --global core.autocrlf true\n```\n\n1. Gitì—ì„œ ê°€ì ¸ì˜¬ ë•Œ - Git LF -> Windows CRLFë¡œ ë³€ê²½\n2. Gitì— ì „ì†¡í•  ë•Œ - Window CRLF -> Git LFë¡œ ë³€ê²½\n\n- Mac OS\n\n```bash\ngit config --global core.autocrlf input\n```\n\n- [Prettier ì°¸ê³ ](https://prettier.io/docs/en/options.html#end-of-line)\n\n<br /><br /><br /><br />\n\n#### VSCode ê°œí–‰ í™•ì¸\n\n- ìœˆë„ìš° VSCodeëŠ” ê°œí–‰ì´ CRLFë¡œ ê¸°ë³¸ì„¤ì • ë˜ì–´ ìˆë‹¤.\n  ![241013-173810](/images/posts/crlf/241013-173810.png)\n\n- ë§¥ VSCodeëŠ” ê°œí–‰ì´ LFë¡œ ê¸°ë³¸ì„¤ì • ë˜ì–´ ìˆë‹¤.\n  ![241013-173817](/images/posts/crlf/241013-173817.png)\n\n<br /><br /><br /><br />\n\n# ì°¸ê³ \n\n- [Carriage return - wiki](https://en.wikipedia.org/wiki/Carriage_return#Computers)\n\n- [Why is the line terminator CR+LF? - Microsoft, Raymond Chen](https://devblogs.microsoft.com/oldnewthing/20040318-00/?p=40193)\n\n- https://www.aleksandrhovhannisyan.com/blog/crlf-vs-lf-normalizing-line-endings-in-git/\n\n- [ê°œë°œ ìš©ì–´ : ìºë¦¬ì§€ ë¦¬í„´(CR), ë¼ì¸ í”¼ë“œ (LF) ì•Œì•„ë³´ê¸°](https://jw910911.tistory.com/90)\n\n- [LFì™€ CRLFì˜ ì°¨ì´ (Feat. Prettier)](https://velog.io/@jakeseo_me/LFì™€-CRLFì˜-ì°¨ì´-Feat.-Prettier)\n',
  },
  {
    slug: 'giscus',
    title: 'Next.js ë¸”ë¡œê·¸ì— ëŒ“ê¸€ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸° - Giscus',
    content:
      "\n# ëŒ“ê¸€ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì\n\n#### ëŒ“ê¸€ê¸°ëŠ¥ì„ êµ¬í˜„í•œ ì˜¤í”ˆì†ŒìŠ¤ë“¤\n\nì˜¤í”ˆì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ ì†ì‰½ê²Œ ëŒ“ê¸€ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\nê·¸ ì¤‘ [giscus](https://giscus.app/ko)ëŠ” Github APIë¥¼ ì‚¬ìš©í•˜ì—¬ Discussionsìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ê¸° ë•Œë¬¸ì— ëŒ€ëŒ“ê¸€ì„ ì‘ì„±í•  ìˆ˜ ìˆê³  ì‹œê°„ìˆœ/ì¸ê¸°ìˆœ ì •ë ¬, ë¦¬ì•¡ì…˜ ì¶”ê°€, ì§€ì—° ë¡œë”© ë“±ì„ ì§€ì›í•´ì¤˜ì„œ í•´ë‹¹ ì˜¤í”ˆì†ŒìŠ¤ë¥¼ ì„ íƒí–ˆë‹¤.\n\n1. [giscus](https://giscus.app/ko) - Github Discussions ê¸°ëŠ¥ì„ ì‚¬ìš©\n2. [utterances](https://utteranc.es/) - Github Issue ê¸°ëŠ¥ì„ ì‚¬ìš©\n3. [disqus](https://disqus.com/)\n\n<br></br>\n\n# Setting\n\n1. Github ë¸”ë¡œê·¸ í”„ë¡œì íŠ¸ ë ˆí¬ê°€ `Public`ì´ì–´ì•¼ í•¨\n2. [Discussions ê¸°ëŠ¥ í™œì„±í™”](https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/enabling-or-disabling-github-discussions-for-a-repository)\n\n- ë ˆí¬ Settings - Featuresíƒ­ì— Discussions ì²´í¬\n  ![](https://velog.velcdn.com/images/xmun74/post/a9d1c359-10f6-4adb-b278-ef75eb261b45/image.png)\n\n3. í•´ë‹¹ ë ˆí¬ì— [giscus ì•± ì„¤ì¹˜](https://github.com/apps/giscus)\n4. [í•œê¸€ ê³µì‹ë¬¸ì„œ](https://giscus.app/ko)ë”°ë¼ ì„¤ì •í•˜ê¸°\n   ì„¤ì • ë¶€ë¶„ ë³´ë©´ì„œ ì›í•˜ëŠ”ëŒ€ë¡œ configë¥¼ ì •í•˜ë©´ ìë™ìœ¼ë¡œ `script` íƒœê·¸ë¥¼ ìƒì„±í•´ì£¼ëŠ”ë° ì´ `script` íƒœê·¸ë¥¼ ì½”ë“œì— ë„£ìœ¼ë©´ ëœë‹¤.\n   ```html\n   <script\n     src=\"https://giscus.app/client.js\"\n     data-repo=\"[ë³µë¶™]\"\n     data-repo-id=\"[ë³µë¶™]\"\n     data-category=\"General\"\n     data-category-id=\"[ë³µë¶™]\"\n     data-mapping=\"pathname\"\n     data-strict=\"0\"\n     data-reactions-enabled=\"1\"\n     data-emit-metadata=\"0\"\n     data-input-position=\"bottom\"\n     data-theme=\"preferred_color_scheme\"\n     data-lang=\"ko\"\n     data-loading=\"lazy\"\n     crossorigin=\"anonymous\"\n     async\n   ></script>\n   ```\n\n# ë¸”ë¡œê·¸ì— ì ìš©í•œ ì½”ë“œ\n\n- Next.jsë¥¼ ê¸°ë°˜ìœ¼ë¡œ `script`íƒœê·¸ì— config ì†ì„± ì ìš©í•œ ì½”ë“œ\n\n  ```tsx\n  import { useRouter } from 'next/router'\n  import { useEffect, useRef, useState } from 'react'\n  import { useRecoilValue } from 'recoil'\n  import { getLocalStorage } from '../lib/localStorage'\n  import themeState from '../states/atoms/theme'\n\n  export default function Giscus() {\n    const refEl = useRef<HTMLDivElement>(null)\n    const router = useRouter()\n\n    function getInitTheme() {\n      if (typeof window !== 'undefined') {\n        const localTheme = getLocalStorage('theme')\n        if (localTheme) {\n          return localTheme\n        }\n        return 'light'\n      }\n      return 'light'\n    }\n    const theme = useRecoilValue(themeState) === 'dark' ? 'dark' : 'light' // í…Œë§ˆ í† ê¸€ë²„íŠ¼ í´ë¦­ ì‹œ ë³€ê²½í•˜ê¸°\n\n    useEffect(() => {\n      const curTheme = getInitTheme() === 'dark' ? 'dark' : 'light' // ìƒˆë¡œê³ ì¹¨ ì‹œ ì €ì¥ëœ í…Œë§ˆ ë¶ˆëŸ¬ì˜¤ê¸°\n      if (!refEl.current || refEl.current.hasChildNodes()) return\n\n      const scriptEl = document.createElement('script')\n      scriptEl.src = 'https://giscus.app/client.js'\n      scriptEl.async = true\n      scriptEl.crossOrigin = 'anonymous'\n      scriptEl.setAttribute('data-repo', 'xmun74/xmunt')\n      scriptEl.setAttribute('data-repo-id', 'R_kgDOIwVyxg')\n      scriptEl.setAttribute('data-category', 'General')\n      scriptEl.setAttribute('data-category-id', 'DIC_kwDOIwVyxs4CUrIr')\n      scriptEl.setAttribute('data-mapping', 'pathname')\n      scriptEl.setAttribute('data-strict', '0')\n      scriptEl.setAttribute('data-reactions-enabled', '1')\n      scriptEl.setAttribute('data-emit-metadata', '0')\n      scriptEl.setAttribute('data-input-position', 'bottom')\n      scriptEl.setAttribute('data-theme', curTheme)\n      scriptEl.setAttribute('data-lang', 'en')\n      scriptEl.setAttribute('data-loading', 'lazy')\n\n      refEl.current.appendChild(scriptEl)\n    }, [])\n\n    useEffect(() => {\n      const iframe = document.querySelector<HTMLIFrameElement>(\n        'iframe.giscus-frame',\n      )\n      iframe?.contentWindow?.postMessage(\n        { giscus: { setConfig: { theme } } },\n        'https://giscus.app',\n      )\n    }, [theme])\n\n    return <section ref={refEl} />\n  }\n  ```\n\n- themeì— ë§ê²Œ ëŒ“ê¸€í…Œë§ˆë„ ë³€ê²½í•´ì•¼í•´ì„œ í…Œë§ˆì™€ ê´€ë ¨ëœ ì½”ë“œë¥¼ ì¶”ê°€í–ˆë‹¤.\n  https://github.com/giscus/giscus/issues/336 ë¥¼ ì°¸ê³ í•˜ì—¬ ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤.\n\n#### ì°¸ê³ \n\nhttps://github.com/giscus/giscus/issues/336\n",
  },
  {
    slug: 'git-branch',
    title: 'Git ë¸Œëœì¹˜ ì „ëµ',
    content:
      '\n# Git Flow\n\nê¹ƒ í”Œë¡œìš°ëŠ” 2010ë…„ë„ Vincent Driessenì´ ì œì•ˆí•œ ì „ëµì´ë‹¤. ë¸Œëœì¹˜ ì „ëµì„ ê²€ìƒ‰í•˜ë©´ ë‚˜ì˜¤ëŠ” ìœ ëª…í•œ ë„ì‹ë„ë„ ë°‘ í¬ìŠ¤íŒ… í•˜ë‹¨ ë§í¬ì— ë“¤ì–´ê°€ë©´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n\n- [A successful Git branching model - Vincent Driessenì´ ì œì•ˆí•œ ë¸Œëœì¹˜ ì „ëµ(2010ë…„)](https://nvie.com/posts/a-successful-git-branching-model/)\n\n![241027-221924](/images/posts/git-branch/241027-221924.png)\n\nìœ„ ê·¸ë¦¼ì— ì •ì˜ëœ ë¸Œëœì¹˜ë¥¼ ë‚˜ì—´í•˜ë©´ ë°‘ì²˜ëŸ¼ êµ¬ì„±ë˜ì–´ ìˆë‹¤.\n\n1. `master(main)` : ë°°í¬ëœ í”„ë¡œë•ì…˜ ë¸Œëœì¹˜\n2. `develop` : ë‹¤ìŒ ë²„ì „ ê°œë°œ ì™„ë£Œ í›„ main ë¸Œëœì¹˜ë¡œ ë¨¸ì§€\n3. features(`feature/branch-name`) : ê¸°ëŠ¥ ê°œë°œ í›„ develop ë¸Œëœì¹˜ë¡œ ë¨¸ì§€\n4. releases(`release/v1.1`)\n   : develop ë¸Œëœì¹˜ì—ì„œ ë”°ì™€ì„œ bugfixë‚˜ ìˆ˜ì •ì„ í•˜ê³  ë°°í¬ ì¤€ë¹„ í…ŒìŠ¤íŠ¸ë¥¼ ë§ˆì¹˜ë©´ main, develop ë¸Œëœì¹˜ì— ë¨¸ì§€\n5. hotfixes(`hotfix/v1.1`)\n   : ë°°í¬ í›„ ë¬¸ì œ ë°œìƒ ì‹œ mainì—ì„œ ê°€ì ¸ì™€ì„œ ë¬¸ì œí•´ê²° í›„ main, develop ë¸Œëœì¹˜ì— ë¨¸ì§€\n\n<br />\n\n#### ğŸ’ ëˆ„ê°€ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì í•©í•œê°€ìš”?\n\n1. ì•ˆì •ì ìœ¼ë¡œ ê´€ë¦¬ ê°€ëŠ¥í•œ ì¥ê¸°ê°„ì˜ ë¦´ë¦¬ìŠ¤ ì£¼ê¸°ë¥¼ ê°€ì§„ íŒ€\n2. ë³‘ë ¬ì ìœ¼ë¡œ ë‹¤ì¤‘ ë²„ì „ê´€ë¦¬ê°€ í•„ìš”í•œ `ì•±, ë¼ì´ë¸ŒëŸ¬ë¦¬/í”„ë ˆì„ì›Œí¬` ë“±ì— ì í•©í•  ìˆ˜ ìˆë‹¤.\n   - ì´ìœ \n     - **ì•±**ì„ ì‚¬ìš©ìê°€ ì—…ë°ì´íŠ¸ ì•ˆí•  ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— ì´ì „ ë²„ì „ë„ ì§€ì›í•´ì•¼ í•¨\n     - **ë¼ì´ë¸ŒëŸ¬ë¦¬/í”„ë ˆì„ì›Œí¬**ë“¤ì€ íŠ¹ì • ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜ê°€ ê°€ëŠ¥í•¨.\n       ì˜ˆ) `npm -D react@^16.8.0 react-dom@16.8.0`\n\n> ### ì›¹ ê°œë°œìë“¤ì€ Git Flowê°€ ë³µì¡í•´ìš” ğŸ¤¯\n>\n> `ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œìë“¤ì€ ...`\n>\n> - í•˜ë£¨ì— **ì—¬ëŸ¬ ë²ˆ ë°°í¬**í•˜ê¸°ë„ í•˜ëŠ”ë°\n>   ë³µì¡í•œ git flowëŠ” ì‘ì—… ì†ë„ë¥¼ ëŠ¦ì¶”ê³ , ë‹¤ì–‘í•œ ë¸Œëœì¹˜ë¥¼ ê´€ë¦¬í•˜ëŠ”ë° ë³µì¡ë„ê°€ ì¦ê°€í•œë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë¹ ë¥¸ ê°œë°œ ì‚¬ì´í´ê³¼ ì•ˆë§ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n>\n> - ë³‘ë ¬ì ìœ¼ë¡œ ë‹¤ì¤‘ ë²„ì „ê´€ë¦¬ê°€ ì•„ë‹Œ, **ê°€ì¥ ìµœì‹ ì˜ ë‹¨ì¼ ë²„ì „ë§Œì„ ê´€ë¦¬**í•˜ë©´ ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\n>   ì´ì— ëŒ€í•œ ë‚´ìš©ì€ Vincent Driessenë‹˜ì˜ [ê¸€ ìƒë‹¨](https://nvie.com/posts/a-successful-git-branching-model/) `ë°˜ì„±ë¬¸`ì´ë¼ëŠ” ì½”ë©˜íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n>   ![241027-221940](/images/posts/git-branch/241027-221940.png)\n\n---\n\n<br /><br />\n\n# [GitHub Flow](https://githubflow.github.io/)\n\n: main ë¸Œëœì¹˜ì™€ í•¨ê»˜ ê¸°ëŠ¥ ë¸Œëœì¹˜ë¡œëŠ” featureë¥¼ ì‚¬ìš©í•˜ëŠ” ì „ëµ\n\n1. `master(main)` : ë°°í¬ë˜ëŠ” ë¸Œëœì¹˜\n2. `features` : ê¸°ëŠ¥ ë¸Œëœì¹˜\n\n- ë°”ë¡œ ë°‘ì—ì„œ ì†Œê°œí•˜ëŠ” TBDì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ì°¨ì´ì ì„ ë§í•´ë³´ìë©´ ë°‘ê³¼ ê°™ì€ ë‚´ìš©ì´ ìˆë‹¤.\n- GitHubì—ì„œì˜ ë¸Œëœì¹˜ëŠ” ì¥ê¸°ê°„ì˜ ê¸°ëŠ¥ ë¸Œëœì¹˜ë¼ëŠ” ì ì—ì„œ ì°¨ì´ê°€ ìˆë‹¤.\n- GitHub FlowëŠ” ê¸°ëŠ¥ì´ ì™„ë£Œëœ ì´í›„ì— ë¨¸ì§€ ìˆ˜í–‰í•˜ì§€ë§Œ, TBDëŠ” í•˜ë£¨ì—ë„ ì—¬ëŸ¬ë²ˆ ë³‘í•©ì„ ìˆ˜í–‰í•œë‹¤.\n- GitHub FlowëŠ” ê¸°ëŠ¥ ê°œë°œ ì£¼ê¸°ê°€ ê¸´ ë°˜ë©´, TBDëŠ” ë¹ ë¥´ë©´ì„œ ì ì§„ì ì¸ ê°œë°œ ì£¼ê¸°ë¥¼ ê°€ì ¸ê°„ë‹¤.\n\n<br /><br /><br /><br />\n\n---\n\n# [Trunk-based Development(TBD)](https://trunkbaseddevelopment.com/)\n\n: ëª¨ë“  ê°œë°œìê°€ `trunk(or main)` ë‹¨ì¼ ë¸Œëœì¹˜ë¥¼ í•­ìƒ ë°°í¬ ê°€ëŠ¥í•œ ìƒíƒœë¡œ ìœ ì§€í•˜ëŠ” ë°©ì‹.\n\n- ê° ê°œë°œìë“¤ì€ ì‹ ê·œ ê¸°ëŠ¥ì„ ë°”ë¡œ mainì— ì‘ì€ ë‹¨ìœ„ë¡œ commití•œë‹¤.\n- ë¸Œëœì¹˜ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì‘ì€ ë‹¨ìœ„ì˜ ì§§ì€ ìˆ˜ëª…ì„ ê°€ì§„ feature ë¸Œëœì¹˜ë¥¼ ì‚¬ìš©í•œë‹¤.\n- ë¹ ë¥¸ ë¦´ë¦¬ìŠ¤ê°€ ê°€ëŠ¥\n- [Google](https://cloud.google.com/architecture/devops?hl=ko), Facebook ë“± ëŒ€ê·œëª¨ ì—°ì† ë°°í¬, ê³ ì† ë¦´ë¦¬ìŠ¤ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ëŒ€ê·œëª¨ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹.\n\n> trunk(ë‚˜ë¬´ ì¤„ê¸°:ì£¼ìš”ì½”ë“œ)ë¼ëŠ” ëª…ì¹­ê³¼ branch(ë‚˜ë­‡ê°€ì§€:ê¸°ëŠ¥,ë³€ê²½ì‚¬í•­)ë¥¼ ë¹„ìœ ë¡œ ì‚¬ìš©.\n\n![241027-221952](/images/posts/git-branch/241027-221952.png)\n\n#### íŠ¹ì§•\n\n1. ì§§ì€ ìˆ˜ëª…(sort-lived)ì˜ ê¸°ëŠ¥ ë¸Œëœì¹˜\n   : ë¨¸ì§€ ì§€ì˜¥(ì¶©ëŒí•´ê²° ë¬¸ì œ)ì„ ë˜ë„ë¡ í”¼í•˜ê¸° ìœ„í•´ì„œ ì¥ê¸°ê°„ì˜ ë¸Œëœì¹˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. commitì˜ ë‹¨ìœ„ë¥¼ ì‘ê²Œ ê°€ì ¸ê°€ê±°ë‚˜, ë¸Œëœì¹˜ì˜ ê¸°ê°„ì„ ì§§ê²Œ ê°€ì ¸ê°„ë‹¤.\n2. ë¹ ë¥¸ ì½”ë“œ ë¦¬ë·°, í˜ì–´ í”„ë¡œê·¸ë˜ë°\n   : mainì— ë°”ë¡œ commit í•´ì•¼ë˜ê¸° ë•Œë¬¸ì— ì½”ë“œì˜ ì•ˆì •ì„±ê³¼ í’ˆì§ˆì´ ë³´ì¥ë˜ì–´ì•¼í•œë‹¤. ê·¸ë˜ì„œ ì´ë¥¼ ìœ„í•´ì„œ í˜ì–´ í”„ë¡œê·¸ë˜ë°ì´ë‚˜ ì½”ë“œë¦¬ë·° ë“±ì˜ ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.\n   í˜ì–´ í”„ë¡œê·¸ë˜ë°ì„ í•˜ë©´ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ì½”ë“œ ë‚´ìš©ì— ëŒ€í•´ì„œ ê³µìœ , ì˜¤ë¥˜ ê²€ì¶œ ë“±ì˜ ì‘ì—…ì„ í•˜ê±°ë‚˜ ì•„ë‹ˆë©´ ë¹ ë¥¸ ì½”ë“œë¦¬ë·°ë¥¼ í†µí•´ì„œë¼ë„ ì½”ë“œ í’ˆì§ˆì„ ë†’ì´ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\n3. ìë™í™” í…ŒìŠ¤íŠ¸ êµ¬ì¶•\n   : ë§ˆì°¬ê°€ì§€ë¡œ ì½”ë“œ ì•ˆì •ì„±ê³¼ í’ˆì§ˆì„ ë³´ì¥í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ ê³¼ì •ì´ í•„ìš”í•˜ë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í–ˆì„ ë•Œ ë¨¸ì§€ê°€ ë˜ë„ë¡ ìë™í™” í…ŒìŠ¤íŠ¸ê°€ êµ¬ì¶•ë˜ì–´ì•¼ í•œë‹¤.\n4. ì†Œê·œëª¨ CI/CD ìë™í™”\n5. í° ê¸°ëŠ¥ ê°œë°œì˜ ê²½ìš°ëŠ” Feature Toggles ì‚¬ìš©\n   : í° ë‹¨ìœ„ì˜ ì‹ ê·œ ê¸°ëŠ¥ì´ì–´ì„œ ì¥ê¸°ê°„ ì‘ì—…ì´ ì´ë¤„ì§ˆ ê²½ìš°ì— mainì— í‘¸ì‹œí•  ê²½ìš°, í•´ë‹¹ ê¸°ëŠ¥ì€ ì•„ì§ ìš´ì˜ì— ë³´ì´ì§€ ì•Šê²Œ ë¹„í™œì„±í™”í•´ì•¼í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ì´ëŸ° ê²½ìš°ëŠ” ì•„ì§ ì‘ì—… ì§„í–‰ì¤‘ì¸ ê¸°ëŠ¥ì„ ë¹„í™œì„±í™”í•œ ìƒíƒœë¡œ ë³‘í•©í•  ìˆ˜ ìˆë„ë¡ Feature Toggleë¥¼ ì‚¬ìš©í•œë‹¤. ë˜ëŠ” ë¸Œëœì¹˜ ì¶”ìƒí™”([Branch by abstraction](https://trunkbaseddevelopment.com/branch-by-abstraction/))ë¥¼ í™œìš©í•œë‹¤.\n\n<br />\n\n#### [Feature Toggles(Feature Flags)](https://martinfowler.com/articles/feature-toggles.html)ë€?\n\n- íŠ¹ì • ê¸°ëŠ¥ì„ ë°°í¬ ì´í›„ ë¹„í™œì„±í™” ë˜ëŠ” í™œì„±í™”í•´ì„œ í† ê¸€í•  ìˆ˜ ìˆìŒ.\n- íŠ¹ì • ê¸°ëŠ¥ì„ íŠ¹ì • ìœ ì €ì—ê²Œë§Œ ìš´ì˜í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ê²Œ í™œì„±í™”í•  ìˆ˜ ìˆìŒ.\n\n---\n\n<br /><br />\n\n## GitLab Flow\n\n: GitLabì„ í™œìš©í•˜ì—¬ Merge, CI/CDì™€ ì—°ê´€ë˜ê³  ë‹¤ì–‘í•œ í™˜ê²½ì—ì„œì˜ ë°°í¬ì— ì´ˆì ì´ ë§ì¶°ì§„ ì „ëµ - [GitLab ì°¸ê³ ](https://about.gitlab.com/blog/2023/07/27/gitlab-flow-duo/)\n\n1. `master(main)`\n   : featureê°€ ì™„ë£Œë˜ì–´ prì„ ë°›ê³  productionì— ë‚˜ê°€ëŠ” ë¸Œëœì¹˜(ì´ì „ developê³¼ ë™ì¼)\n2. `feature` : masterì—ì„œ íŒŒìƒë˜ê³  ë¨¸ì§€\n3. `pre-production`\n   : masterì™€ production ì‚¬ì´ì˜ ë‹¨ê³„ë¡œ í…ŒìŠ¤íŠ¸ ì„œë²„ì— ë°°í¬í•´ì„œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë¸Œëœì¹˜\n4. `production` : ë°°í¬ ë¸Œëœì¹˜\n\n---\n\n<br /><br /><br /><br />\n\n# ì°¸ê³ \n\n- https://trunkbaseddevelopment.com/\n- [A successful Git branching model - Vincent Driessen](https://nvie.com/posts/a-successful-git-branching-model/)\n',
  },
  {
    slug: 'github-actions-be-01',
    title: 'Github Actions - ë°±ì—”ë“œ CI/CD êµ¬ì¶•í•˜ê¸°',
    content:
      "\n## ë„ì… ë°°ê²½\n\n#### [ë¬¸ì œ] í”„ë¦¬í‹°ì–´ EC2 ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì„œë²„ ë¹Œë“œê°€ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦°ë‹¤.\n\n![](https://velog.velcdn.com/images/xmun74/post/62f62e8b-b94b-4c90-b403-c76f1bca95f3/image.png)\nnodeJS, express, Typescriptë¡œ ë°±ì—”ë“œë¥¼ ë§Œë“¤ì–´ì„œ ì¸ìŠ¤í„´ìŠ¤ ë‚´ì—ì„œ ë¹Œë“œí•˜ëŠ” ê³¼ì •ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° EC2 ì¸ìŠ¤í„´ìŠ¤ì—ì„œ `yarn tsc` ë¹Œë“œ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ë©´ 30ë¶„ ì´ìƒ ê·¸ëƒ¥ ì €ëŒ€ë¡œ ë©ˆì¶°ìˆì—ˆìŠµë‹ˆë‹¤.\nê³„ì† ì € ìƒíƒœë¡œ ë†”ë‘ë©´ ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœê²€ì‚¬(ì—°ê²°ì„± ê²€ì‚¬)ì—ì„œ í†µê³¼ë˜ì§€ ì•ŠëŠ” ìƒí™©ìœ¼ë¡œ ë°”ë€Œê¸°ë„ í–ˆìŠµë‹ˆë‹¤. ìƒíƒœê²€ì‚¬ê°€ í†µê³¼ê°€ ì•ˆë˜ëŠ” ìƒíƒœë¡œ ë°”ë€Œë©´ EC2 ì¸ìŠ¤í„´ìŠ¤ ì½˜ì†”ê³¼ SSH í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì ‘ì†ì´ ë¶ˆê°€í•´ì§€ëŠ” ë¬¸ì œë¡œ ì´ì–´ì¡ŒìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ìƒíƒœê²€ì‚¬ë¥¼ í†µê³¼ì‹œí‚¤ê¸° ìœ„í•´ ì¸ìŠ¤í„´ìŠ¤ ì¤‘ì§€í–ˆë‹¤ê°€ ë‹¤ì‹œ ì‹œì‘í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.\n\n#### [ì›ì¸] í”„ë¦¬í‹°ì–´ t2.micro ì¸ìŠ¤í„´ìŠ¤ ë©”ëª¨ë¦¬ ë¶€ì¡±\n\ní”„ë¦¬í‹°ì–´ë¡œ ì‚¬ìš©ì¤‘ì´ë˜ t2.micro ì¸ìŠ¤í„´ìŠ¤ëŠ” 1G ë©”ëª¨ë¦¬ë°–ì— ì•ˆë¼ì„œ ì„œë²„ ë¹Œë“œê°€ ì¤‘ë‹¨ë˜ê±°ë‚˜ ì˜¤ë˜ ê±¸ë¦°ë‹¤ê³  í•©ë‹ˆë‹¤. ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ì„ ë°”ê¾¸ê³  ëˆì„ ë” ë‚´ë©´ ê°„ë‹¨í•œ ë¬¸ì œì§€ë§Œ, ê°œì¸ í”„ë¡œì íŠ¸ì˜€ê¸° ë•Œë¬¸ì— í”„ë¦¬í‹°ì–´ ê³„ì •ì„ ì‚¬ìš©í•˜ì—¬ ë¬´ë£Œë¡œ ì´ìš©í•´ì•¼ í•œë‹¤ëŠ” ì œí•œì„ ë‘ê³  ì§„í–‰í•´ì•¼í–ˆìŠµë‹ˆë‹¤.\n\n#### [í•´ê²° ë°©ë²•]\n\n1. [ìŠ¤ì™‘ íŒŒì¼ë¡œ ë””ìŠ¤í¬ì˜ RAMì„ ì„ì‹œ ë©”ëª¨ë¦¬ë¡œ ëŒì–´ì™€ ì‚¬ìš©í•˜ëŠ” ê²ƒ](https://repost.aws/ko/knowledge-center/ec2-memory-swap-file)\n   ë‹¨ì \n   - ìŠ¤ì™‘ ê³µê°„ì€ ë””ìŠ¤í¬ì— ìœ„ì¹˜í•˜ê¸° ë•Œë¬¸ì— RAMì— ë¹„í•´ ëŠë¦° HDDì„ ì‚¬ìš©í•˜ê²Œ ë˜ì–´ I/O ì†ë„ê°€ ëŠë ¤ì ¸ì„œ ì„œë²„ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆìŒ\n2. ì¸ìŠ¤í„´ìŠ¤ ì™¸ í™˜ê²½ì—ì„œ ë¹Œë“œ, ë°°í¬í•˜ê¸° (CI/CD)\n\n1ë²ˆ ë°©ë²•ì€ ì„œë²„ ì„±ëŠ¥ ì €í•˜ì™€ ë©”ëª¨ë¦¬ ê´€ë¦¬ ë³µì¡ì„±ì´ ì¦ê°€í•œë‹¤ëŠ” ë‹¨ì ì´ ì¡´ì¬í•˜ê¸°ë•Œë¬¸ì— í˜„ì¬ ìƒí™©ì—ì„œëŠ” 2ë²ˆì¸ ì¸ìŠ¤í„´ìŠ¤ ì™¸ í™˜ê²½ì—ì„œ ë¹Œë“œ/ë°°í¬í•˜ëŠ” ë°©ë²•ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤.\nì›ë˜ëŠ” CI/CDë¥¼ ë¹Œë“œ/ë°°í¬ ìë™í™”ì˜ ë„êµ¬ë¼ê³ ë§Œ ìƒê°í–ˆì—ˆëŠ”ë° ìœ„ ë°°ê²½ì²˜ëŸ¼ ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•œ ë¬¸ì œ ìƒí™©ì—ì„œ í•´ê²° ë°©ë²•ìœ¼ë¡œ ì„ íƒí•  ìˆ˜ ìˆìŒì„ ë‹¤ì‹œ ë°°ìš¸ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n<br /><br />\nCI/CDë¡œëŠ” Github Actions, ì  í‚¨ìŠ¤ ë“±ì´ ìˆìŠµë‹ˆë‹¤. Github ActionsëŠ” ë¬´ë£Œ ê³„ì •ìœ¼ë¡œ í˜„ì¬ ì›” 2000ë¶„, 500MBê¹Œì§€ ë¬´ë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  í•©ë‹ˆë‹¤. ([GitHub Actions ì²­êµ¬ ì •ë³´](https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions#included-storage-and-minutes))\nê·¸ë˜ì„œ Github Actionsë¥¼ ì‚¬ìš©í•´ì„œ êµ¬ì¶•í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\n\n<br /><br /><br /><br />\n\n---\n\n<br />\n\n# Github Action íë¦„\n\n> Githubì— PUSH(íŠ¸ë¦¬ê±°) - Build - Test - Deploy\n\nì œ NodeJS ë°±ì—”ë“œëŠ” Testê°€ ì—†ê¸° ë•Œë¬¸ì— ì¼ë‹¨ í¬ê²Œ Buildì™€ Deployì˜ íë¦„ìœ¼ë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.\nì‹œì‘í•˜ê¸°ì— ì•ì„œ ë£¨íŠ¸ì— `.github/workflows` í´ë” ìƒì„± í›„ `íŒŒì¼ëª….yml`íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.\n\n#### ì§„í–‰ ê³¼ì •\n\n1. Github íŠ¹ì • ë¸Œëœì¹˜ì— Pushí•˜ë©´\n2. ë¹Œë“œí•œ ë‹¤ìŒ ë¹Œë“œëœ ê²°ê³¼ë¬¼ì„ ì••ì¶•\n3. ì••ì¶•ëœ ë¹Œë“œ ê²°ê³¼ë¬¼ì„ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì „ì†¡\n4. ë°°í¬ ê³¼ì •ì„ ë‹´ì€ sell script ì‹¤í–‰\n\n## 1. Github íŠ¹ì • ë¸Œëœì¹˜ì— PUSHí•˜ë©´\n\n```yml\nname: CI-CD-server\n\non:\n  push:\n    branches:\n      - master\n```\n\n- `on` : `jobs`ì´ ì‹¤í–‰ë  ìƒí™© ì •ì˜.\n  master ë¸Œëœì¹˜ì— pushí•  ë•Œ jobsë¥¼ ì‹¤í–‰í•˜ê²Œ í–ˆìŠµë‹ˆë‹¤.\n\n## 2. ë¹Œë“œí•œ ë‹¤ìŒ ë¹Œë“œëœ ê²°ê³¼ë¬¼ì„ ì••ì¶•\n\n```yml\njobs:\n  build-and-deploy-server:\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        node-version: [18.x]\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: â” Use Node.js ${{ matrix.node-version }}\n        uses: actions/setup-node@v3\n        with:\n          node-version: ${{ matrix.node-version }}\n\n      - name: â” Install packages\n        run: yarn\n```\n\n- `jobs` - ì‹¤í–‰ë  ì‘ì—… ë‚´ìš©ì„ ì‘ì„±.\n\n1. `actions/checkout@v3`\n   Runner(workflow ì‹¤í–‰í™˜ê²½)ê°€ í˜„ì¬ Github ì €ì¥ì†Œ ì†ŒìŠ¤ì½”ë“œì— ì²´í¬ì•„ì›ƒë©ë‹ˆë‹¤.\n2. `â” Use Node.js ${{ matrix.node-version }}`\n   ì¸ìŠ¤í„´ìŠ¤ì™€ ë™ì¼í•œ node ë²„ì „(18.x)ìœ¼ë¡œ ì ìš©í•©ë‹ˆë‹¤.\n3. `â” Install packages`\n   yarn ëª…ë ¹ì–´ë¡œ íŒ¨í‚¤ì§€ë“¤ ì„¤ì¹˜í•©ë‹ˆë‹¤.\n\n```yml\n\t  - name: â” Build server\n        env:\n          COOKIE_SECRET: ${{ secrets.COOKIE_SECRET}}\n          MYSQL_USERNAME: ${{ secrets.MYSQL_USERNAME}}\n          MYSQL_PWD: ${{ secrets.MYSQL_PWD}}\n          MYSQL_HOST: ${{ secrets.MYSQL_HOST}}\n          PORT: ${{ secrets.PORT}}\n          KAKAO_ID: ${{ secrets.KAKAO_ID}}\n          FRONTEND_URL: ${{ secrets.FRONTEND_URL}}\n          REDIS_HOST: ${{ secrets.REDIS_HOST}}\n          REDIS_PORT: ${{ secrets.REDIS_PORT}}\n          REDIS_PWD: ${{ secrets.REDIS_PWD}}\n        run: |\n          yarn build\n\n      - name: â” Package dist Folder\n        run: tar -czvf dist.tar.gz dist\n```\n\n4. `â” Build server`\n   env í™˜ê²½ë³€ìˆ˜ë“¤ì„ ê°€ì ¸ì˜¤ê³  ë¹Œë“œí•˜ê¸°\n5. `â” Package dist Folder`\n   ë¹Œë“œí•œ dist í´ë”ë¥¼ tar íŒŒì¼ë¡œ ì••ì¶•í•˜ê¸°\n\n## 3. ì••ì¶•ëœ ë¹Œë“œ ê²°ê³¼ë¬¼ì„ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì „ì†¡\n\n```yml\n- name: â” Deploy to Amazon ECS\n  uses: appleboy/scp-action@master\n  with:\n    host: ${{ secrets.EC2_IP }}\n    username: ${{ secrets.EC2_USER }}\n    key: ${{ secrets.EC2_PEM_KEY }}\n    source: 'dist.tar.gz'\n    target: ${{ secrets.SERVER_PATH }}\n```\n\n#### [appleboy/scp-action@master](https://github.com/appleboy/scp-action)\n\n: GitHub Actionsì—ì„œ ì‚¬ìš©ë˜ëŠ” SCP(Secure Copy Protocol)ë¥¼ ì´ìš©í•œ íŒŒì¼ ì „ì†¡ ì•¡ì…˜ì…ë‹ˆë‹¤. ì´ëŠ” workflowê°€ ì‹¤í–‰ëœ í›„ì— ìƒì„±ëœ íŒŒì¼ë“¤ì„ ë‹¤ë¥¸ ì„œë²„ë¡œ ì•ˆì „í•˜ê²Œ ë³µì‚¬í•˜ëŠ” ë° ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n- ì•¡ì…˜ì— ì „ë‹¬í•  ê°’ (ìœ ì¶œí•˜ë©´ ì•ˆë¨)\n  - host: EC2 í¼ë¸”ë¦¿ IP ì£¼ì†Œ\n  - username: EC2 ì¸ìŠ¤í„´ìŠ¤ ì ‘ì†ìœ„í•œ ì‚¬ìš©ìëª…\n  - key: ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•  ë•Œ ë‹¤ìš´ë°›ì€ pem key\n  - source: ë³µì‚¬í•  íŒŒì¼. ë¹Œë“œí´ë”ë¥¼ ì••ì¶•í•œ íŒŒì¼ì„ ì ì—ˆìŠµë‹ˆë‹¤.\n  - target: ë³µì‚¬í•œ íŒŒì¼ì´ ì „ì†¡ë  ì„œë²„ ë‚´ ê²½ë¡œ.\n\n#### Githubì— secrets ë“±ë¡í•˜ê¸°\n\n1. GitHub ë ˆí¬ì—ì„œ Settings > Secrets > `New repository secret` í´ë¦­\n2. `Name` í•„ë“œì— ì§€ì •í•  ì´ë¦„(ì˜ˆ:EC2_KEY)ì„ ì…ë ¥í•˜ê³ ,\n   `Value` í•„ë“œì— ë³µì‚¬í•œ í‚¤ ë‚´ìš©ì„ ë¶™ì—¬ë„£ê¸°\n3. `Add secret` í´ë¦­í•˜ì—¬ ì €ì¥\n\n#### pem íŒŒì¼ ë¡œì»¬ì—ì„œ ì—¬ëŠ” ë°©ë²•\n\n1. ë¡œì»¬ í„°ë¯¸ë„ì—ì„œ í•´ë‹¹ pemíŒŒì¼ì´ ìœ„ì¹˜í•˜ëŠ” í´ë”ë¡œ ê°€ì„œ\n2. `cat íŒŒì¼ëª….pem` ì…ë ¥\n3. (-----BEGIN RSA PRIVATE KEY----- ë¡œ ì‹œì‘í•˜ì—¬ -----END RSA PRIVATE KEY----- ë¡œ ëë‚˜ëŠ” ë¶€ë¶„) ì „ì²´ë¥¼ ë³µì‚¬\n4. GitHub Secretsì— ë“±ë¡í•˜ê¸°\n\n## 4. ë°°í¬ ê³¼ì •ì„ ë‹´ì€ sell script ì‹¤í–‰\n\n```yml\n- name: â” Execute shell script\n  uses: appleboy/ssh-action@master\n  with:\n    host: ${{ secrets.EC2_IP }}\n    username: ${{ secrets.EC2_USER }}\n    key: ${{ secrets.EC2_PEM_KEY }}\n    script: |\n      cd ${{ secrets.SERVER_PATH }}\n      sudo tar -xzvf dist.tar.gz\n      git pull origin ë¸Œëœì¹˜ëª…\n      yarn\n      pm2 kill\n      pm2 start dist/index.js\n```\n\n#### [appleboy/ssh-action@master](https://github.com/appleboy/ssh-action)\n\n: SSH(Secure Shell: ì›ê²© ì»´í“¨í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì œì–´í•˜ê³  ì „ì†¡í•˜ê¸° ìœ„í•œ í”„ë¡œí† ì½œ)ë¥¼ í†µí•´ ì›ê²© ì„œë²„ì— ì ‘ì†í•˜ì—¬ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ëŠ” ì•¡ì…˜.\n\n- host, username, keyëŠ” scpì™€ ë˜‘ê°™ì´ ì…ë ¥í–ˆìŠµë‹ˆë‹¤.\n- script\n  í‰ì†Œ ì½”ë“œë¥¼ pushí•˜ê³  ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë°˜ë³µ ì‘ì—…í•˜ë˜ ëª…ë ¹ì–´ë“¤ì„ scriptì— ì‘ì„±í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ìœ„ì—ì„œ ì••ì¶•í–ˆë˜ íŒŒì¼ì„ ì••ì¶•í•´ì œí•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.\n  ```bash\n  cd í”„ë¡œì íŠ¸í´ë”\n  sudo tar -xzvf dist.tar.gz  #ë¹Œë“œí´ë” íŒŒì¼ì••ì¶• í•´ì œ\n  git pull origin ë¸Œëœì¹˜ëª…\n  yarn\n  pm2 kill  #ì‹¤í–‰ì¤‘ì´ë˜ pm2 ì¢…ë£Œ\n  pm2 start dist/index.js   #pm2 ì‹¤í–‰í•˜ê¸°\n  ```\n\n---\n\n## ì „ì²´ ì½”ë“œ\n\n```yml\nname: CI-CD-server\n\non:\n  push:\n    branches:\n      - master\n\njobs:\n  build-and-deploy-server:\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        node-version: [18.x]\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: â” Use Node.js ${{ matrix.node-version }}\n        uses: actions/setup-node@v3\n        with:\n          node-version: ${{ matrix.node-version }}\n\n      - name: â” Install packages\n        run: yarn\n\n      - name: â” Build server\n        env:\n          COOKIE_SECRET: ${{ secrets.COOKIE_SECRET}}\n          MYSQL_USERNAME: ${{ secrets.MYSQL_USERNAME}}\n          MYSQL_PWD: ${{ secrets.MYSQL_PWD}}\n          MYSQL_HOST: ${{ secrets.MYSQL_HOST}}\n          PORT: ${{ secrets.PORT}}\n          KAKAO_ID: ${{ secrets.KAKAO_ID}}\n          FRONTEND_URL: ${{ secrets.FRONTEND_URL}}\n          REDIS_HOST: ${{ secrets.REDIS_HOST}}\n          REDIS_PORT: ${{ secrets.REDIS_PORT}}\n          REDIS_PWD: ${{ secrets.REDIS_PWD}}\n        run: |\n          yarn build\n\n      - name: â” Package dist Folder\n        run: tar -czvf dist.tar.gz dist\n\n      - name: â” Deploy to Amazon ECS\n        uses: appleboy/scp-action@master\n        with:\n          host: ${{ secrets.EC2_IP }}\n          username: ${{ secrets.EC2_USER }}\n          key: ${{ secrets.EC2_PEM_KEY }}\n          source: 'dist.tar.gz'\n          target: ${{ secrets.SERVER_PATH }}\n\n      - name: â” Execute shell script\n        uses: appleboy/ssh-action@master\n        with:\n          host: ${{ secrets.EC2_IP }}\n          username: ${{ secrets.EC2_USER }}\n          key: ${{ secrets.EC2_PEM_KEY }}\n          script: |\n            cd ${{ secrets.SERVER_PATH }}\n            sudo tar -xzvf dist.tar.gz\n            git pull origin ë¸Œëœì¹˜ëª…\n            yarn\n            pm2 kill\n            pm2 start dist/index.js\n```\n\n- Githubì— push í›„, CI/CDê°€ ì˜ ì‘ë™í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n  ![](https://velog.velcdn.com/images/xmun74/post/660cd926-c776-4ef7-8081-ee4cc8557032/image.png)\n\n<br /><br />\n\n---\n\n<br /><br /><br /><br /><br />\n\nì°¸ê³ \n\n- [zero-black ë²¨ë¡œê·¸ - [github-actions] ë¦¬ì•¡íŠ¸ ë¹Œë“œí•˜ê¸°](https://velog.io/@zero-black/github-actions-%EB%A6%AC%EC%95%A1%ED%8A%B8-%EB%B9%8C%EB%93%9C%ED%95%98%EA%B8%B0)\n- [oscar0421 ë²¨ë¡œê·¸ -[github action] ë¹Œë“œë¶€í„° ë°°í¬ê¹Œì§€!](https://velog.io/@oscar0421/github-action-%EB%B9%8C%EB%93%9C%EB%B6%80%ED%84%B0-%EB%B0%B0%ED%8F%AC%EA%B9%8C%EC%A7%80#workflow-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0)\n",
  },
  {
    slug: 'github-actions-fe-01',
    title: 'Github Actions - í”„ë¡ íŠ¸ì—”ë“œ CI/CD êµ¬ì¶•í•˜ê¸° (S3, CloudFront)',
    content:
      '\n# IAM\n\nIAM(Identity and Access Management)\n: ì™¸ë¶€ì—ì„œ AWS ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ì•ˆì „í•˜ê²Œ ì œì–´í•˜ëŠ” ì„œë¹„ìŠ¤\n\n- ì˜ˆì‹œ\n  - Github Actionsì—ì„œ S3ì— ì ‘ê·¼í•  ë•Œ.\n  - NodeJSì—ì„œ S3ì— ì´ë¯¸ì§€ ì—…ë¡œë“œí•˜ê¸° ìœ„í•´ì„œ S3ì— ì ‘ê·¼í•  ë•Œ\n\n---\n\n# 1. IAM ì‚¬ìš©ì ìƒì„±í•˜ê¸°\n\nGithub Actionsì—ì„œ S3ì— ì—…ë¡œë“œí•˜ê³  CloudFrontì˜ ìºì‹œë¥¼ ë¬´íš¨í™”í•˜ê¸° ìœ„í•´ì„œ IAM ì‚¬ìš©ìë¥¼ ì‚¬ìš©í•˜ì—¬ ì ‘ê·¼í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n- IAM - ì‚¬ìš©ì ë©”ë‰´ - ì‚¬ìš©ì ìƒì„±\n  ![](https://velog.velcdn.com/images/xmun74/post/af81dce3-b0ba-4ff2-978e-cd90feebb2de/image.png)\n- ì‚¬ìš©ì ì´ë¦„ ì…ë ¥\n  ![](https://velog.velcdn.com/images/xmun74/post/3bce27ab-0ad6-4784-90bb-580d58ff895b/image.png)\n- ì§ì ‘ ì •ì±… ì—°ê²° ì²´í¬ í›„\n  `AmazonS3FullAccess`ì™€ `CloudFrontFullAccess` ì²´í¬.\n  Github Actionsì—ì„œ S3ì™€ CloudFrontì— ì ‘ê·¼í•  ê²ƒì´ê¸°ì— ìœ„ì— 2ê°œë¥¼ ì²´í¬í•´ì¤¬ë‹¤.\n  ![](https://velog.velcdn.com/images/xmun74/post/a5748d37-d2d8-4374-aaba-8a8b10a0bf21/image.png)\n  ![](https://velog.velcdn.com/images/xmun74/post/948ecdfd-49dc-4905-9a2d-9525edc5d41e/image.png)\n- ê²€í†  í›„ ì‚¬ìš©ì ìƒì„±\n  ![](https://velog.velcdn.com/images/xmun74/post/62162fb4-96b0-49fd-999c-d7d2342b9cf5/image.png)\n- ìƒì„±ëœ ì‚¬ìš©ì ì´ë¦„ í´ë¦­\n  ![](https://velog.velcdn.com/images/xmun74/post/a322554a-2a01-4be6-935b-3ebbee72a87c/image.png)\n- ë³´ì•ˆ ìê²© ì¦ëª… íƒ­ - ì•¡ì„¸ìŠ¤ í‚¤ ë§Œë“¤ê¸°\n  : ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì•¡ì„¸ìŠ¤ í‚¤ë¥¼ ìƒì„±í•œë‹¤.\n  ![](https://velog.velcdn.com/images/xmun74/post/71f79d3d-c8d2-4e4b-8ab7-20a30f36f060/image.png)\n- ì‚¬ìš© ì‚¬ë¡€ - ì„œë“œ íŒŒí‹° (ê¹ƒí—™ ë“±)\n  ![](https://velog.velcdn.com/images/xmun74/post/65c2955f-aa20-4a12-96b8-2e4ea98a4b8d/image.png)\n- ì„¤ëª… íƒœê·¸ ì„¤ì • - ì„¤ì •í•˜ê³  - ì•¡ì„¸ìŠ¤ í‚¤ ë§Œë“¤ê¸°\n  ![](https://velog.velcdn.com/images/xmun74/post/40ebafd2-3611-418f-aa58-6326643e4fcf/image.png)\n- ì•¡ì„¸ìŠ¤ í‚¤ ìƒì„±ë¨\n  ğŸš¨ ì´ í˜ì´ì§€ì—ì„œ ë°”ë¡œ ë‚˜ê°€ì§€ ë§ê³  ê¹ƒí—™ secretsì— ë“±ë¡í•˜ê¸°\n  í˜ì´ì§€ë¥¼ ë‚˜ê°€ë©´ ë‹¤ì‹œ ì•¡ì„¸ìŠ¤ í‚¤ë¥¼ ë³´ê±°ë‚˜ ë‹¤ìš´ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!\n  ì´ í‚¤ëŠ” ì ˆëŒ€ ì™¸ë¶€ë¡œ ìœ ì¶œí•˜ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì— Github Secretì— ë“±ë¡í•˜ì—¬ ê¹ƒí—™ì— ì˜¬ë¼ê°€ì§€ ì•Šê²Œ í•©ë‹ˆë‹¤.\n  ![](https://velog.velcdn.com/images/xmun74/post/456d57cd-92aa-4f84-9165-8dd045e13aa1/image.png)\n- âœ…[í•„ìˆ˜] ê¹ƒí—™ ë ˆí¬ - Settings > Actions > New ~ secret í•´ì„œ ë“±ë¡í•˜ê¸°\n  ![](https://velog.velcdn.com/images/xmun74/post/f767e337-a5ab-4469-b491-b7318aa063a3/image.png)\n\n---\n\n# 2. Github Actions CI/CD ì‘ì„±\n\n#### jobs ì§„í–‰ ê³¼ì •\n\n1. NodeJS ì„¸íŒ…\n2. yarn install\n3. build í•˜ê¸°\n4. AWS ì¸ì¦ ì •ë³´ ì„¤ì •\n5. AWS S3ì— ë°°í¬í•˜ê¸°\n6. [AWS CloudFront ìºì‹œ ë¬´íš¨í™”](https://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html)\n\n```yml\nname: CI-CD-biblical-web\n\non:\n  push:\n    branches:\n      - master\n    paths:\n      - \'apps/web/**\'\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        node-version: [18.x]\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: â” Use Node.js ${{ matrix.node-version }}\n        uses: actions/setup-node@v3\n        with:\n          node-version: ${{ matrix.node-version }}\n\n      - name: â” Monorepo install\n        uses: ./.github/actions/yarn-install\n\n      - name: â” Build web\n        working-directory: apps/web\n        env:\n          API_URL: ${{ secrets.API_URL}}\n          USER_IMG_FIELD: ${{ secrets.USER_IMG_FIELD}}\n          CLIENT_URL: ${{ secrets.CLIENT_URL}}\n        run: |\n          yarn build\n\n      - name: â” Configure AWS credentials\n        uses: aws-actions/configure-aws-credentials@v4\n        with:\n          aws-access-key-id: ${{ secrets.AWS_KEY_ID }}\n          aws-secret-access-key: ${{ secrets.AWS_SECRET_KEY }}\n          aws-region: ap-northeast-2\n\n      - name: â” Deploy to AWS S3\n        run: |\n          aws s3 sync --delete --region ap-northeast-2 apps/web/dist s3://S3ë²„í‚·ëª…\n\n      - name: â” Invalidate AWS CloudFront Cache\n        run: |\n          aws cloudfront create-invalidation --distribution-id ${{ secrets.AWS_DISTRIBUTION_ID }} --paths "/*"\n```\n\n#### AWS S3ì— ë°°í¬í•˜ê¸°\n\n`aws s3 sync --delete --region ap-northeast-2 apps/web/dist s3://ë²„í‚·ëª…`\n\n- sync : S3 ë²„í‚·ê³¼ ë¡œì»¬í´ë” ê°„ ë™ê¸°í™”í•˜ê¸°\n- --delete : ë¡œì»¬ì—ì„œ ì‚­ì œëœ íŒŒì¼ì€ S3 ë²„í‚·ì—ì„œë„ ì‚­ì œëœë‹¤\n- --region ap-northeast-2 : ë¦¬ì „ì„ ì„œìš¸ë¡œ ì§€ì •\n- apps/web/dist : ë¹Œë“œí´ë” ê²½ë¡œ\n  <br />\n\n#### AWS CloudFront ìºì‹œ ë¬´íš¨í™”\n\n`aws cloudfront create-invalidation --distribution-id ${{ secrets.AWS_DISTRIBUTION_ID }} --paths "/*"`\n\n- --paths "/\\*" : ëª¨ë“  íŒŒì¼ì— ëŒ€í•œ ìºì‹œ ë¬´íš¨í™”\n- ìºì‹œ ë¬´íš¨í™”í•˜ëŠ” ì´ìœ \n  : CloudFrontì˜ ìºì‹œ ì •ì±…ì„ `CachingOptimized`ë¡œ ì„ íƒí•œ ê²½ìš°,\n  ìºì‹œ ìœ ì§€ì‹œê°„ì´ ê¸°ë³¸ TTL 24ì‹œê°„ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤. ë”°ë¼ì„œ S3 ë²„í‚·ì„ ì¬ì—…ë¡œë“œ í›„ ë³€ê²½ëœ ì‚¬í•­ì„ ë°°í¬ëœ cloudfrontì—ì„œ ë°”ë¡œ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´ ìºì‹œ ë¬´íš¨í™”ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤.\n- ì°¸ê³ ë¡œ ìºì‹œ ê°ì²´ ë¬´íš¨í™”ëŠ” ë§¤ì›” 1000ê°œ ê²½ë¡œê¹Œì§€ ë¬´ë£Œì´ê³  ê·¸ ì´ìƒë¶€í„° ê²½ë¡œë‹¹ 0.005 USD ë¹„ìš©ì´ ë°œìƒí•œë‹¤. ([CloudFront ë¹„ìš©](https://aws.amazon.com/ko/cloudfront/pricing/))\n\n<br /><br /><br /><br /><br />\n',
  },
  {
    slug: 'google-analytics',
    title: 'NextJS ë¸”ë¡œê·¸ì— Google Analytics ì¶”ê°€í•˜ê¸°',
    content:
      "\n# [Google Analytics](https://analytics.google.com/analytics)\n\nêµ¬ê¸€ì—ì„œ ë¬´ë£Œë¡œ ì œê³µí•˜ëŠ” ë„êµ¬ë¡œ ì‚¬ì´íŠ¸ì— ë“¤ì–´ì˜¤ëŠ” ì‚¬ìš©ì ìœ ì…, ì¡°íšŒìˆ˜, ì‚¬ìš©ì ìœ í˜• ë“±ì„ ë¶„ì„í•˜ì—¬ í†µê³„ë¥¼ ë‚´ì¤€ë‹¤\n\n1. ê´€ë¦¬ - ë°ì´í„°ìŠ¤íŠ¸ë¦¼ - ìŠ¤íŠ¸ë¦¼ ì¶”ê°€ - ë‚´ì‚¬ì´íŠ¸ ì…ë ¥\n2. íƒœê·¸ ì•ˆë‚´ë³´ê¸° - `ì§ì ‘ ì„¤ì¹˜`\n3. íŒŒì¼ ì„¤ì • - [NextJS ì˜ˆì‹œ](https://github.com/vercel/next.js/blob/canary/examples/with-google-analytics/pages/_app.js)\n\n- ê³µì‹ì˜ˆì‹œê°€ gtag.jsì—¬ì„œ ts íƒ€ì… ì •ì˜ë¥¼ ìœ„í•´ ì„¤ì¹˜\n\n  ```bash\n  npm i -D @types/gtag.js\n  ```\n\n- `lib/gtag.tsx` ìƒì„±\n\n```tsx:lib/gtag.tsx showLineNumbers\nimport { useRouter } from 'next/router'\nimport { useEffect } from 'react'\n\nexport const GA_TRACKING_ID = `G-ë¡œ ì‹œì‘í•˜ëŠ” idë³µë¶™`\n\n// https://developers.google.com/analytics/devguides/collection/gtagjs/pages\nexport const pageview = (url: URL) => {\n  window.gtag('config', GA_TRACKING_ID, {\n    page_path: url,\n  })\n}\n\n// https://developers.google.com/analytics/devguides/collection/gtagjs/events\nexport const event = (\n  action: Gtag.EventNames,\n  { event_category, event_label, value }: Gtag.EventParams,\n) => {\n  window.gtag('event', action, {\n    event_category,\n    event_label,\n    value,\n  })\n}\n\n// page view\nexport const useGtag = () => {\n  const router = useRouter()\n  useEffect(() => {\n    const handleRouteChange = (url: URL) => {\n      pageview(url)\n    }\n    router.events.on('routeChangeComplete', handleRouteChange)\n    router.events.on('hashChangeComplete', handleRouteChange)\n    return () => {\n      router.events.off('routeChangeComplete', handleRouteChange)\n      router.events.off('hashChangeComplete', handleRouteChange)\n    }\n  }, [router.events])\n}\n```\n\n- `_app.tsx`ì— ì¶”ê°€í•˜ê¸°\n\n```tsx:_app.tsx showLineNumbers\nimport Script from 'next/script'\nimport * as gtag from '../lib/gtag'\nimport isDev from '../lib/isDev'\n// ìƒëµ\nexport default function App({ Component, pageProps }: AppProps) {\n  gtag.useGtag()\n\n  return (\n    <RecoilRoot>\n      {/* ìƒëµ */}\n      {!isDev && (\n        <>\n          <Script\n            id=\"gtag-init\"\n            dangerouslySetInnerHTML={{\n              __html: `\n                window.dataLayer = window.dataLayer || [];\n                function gtag(){dataLayer.push(arguments);}\n                gtag('js', new Date());\n                gtag('config', '${gtag.GA_TRACKING_ID}', {\n                  page_path: window.location.pathname,\n                });\n              `,\n            }}\n          />\n          {/* Global Site Tag (gtag.js) - Google Analytics */}\n          <Script\n            strategy=\"afterInteractive\"\n            src={`https://www.googletagmanager.com/gtag/js?id=${gtag.GA_TRACKING_ID}`}\n          />\n        </>\n      )}\n\n      {/* ìƒëµ */}\n      <Component {...pageProps} />\n    </RecoilRoot>\n  )\n}\n\n```\n\n- `{!isDev && ( ... ) }` ë°°í¬ ëª¨ë“œì¼ë•Œë§Œ í•´ë‹¹ scriptë¥¼ ì¶”ê°€í•˜ê²Œ í•¨\n- ë°°í¬ í›„ ì‚¬ì´íŠ¸ html Elementsíƒ­ì—ì„œ `id=\"gtag-init\"`ìœ¼ë¡œ ê²€ìƒ‰í•´ì„œ ì˜ ì¶”ê°€ëëŠ”ì§€ í™•ì¸í•˜ê¸°\n- êµ¬ê¸€ ì• ë„ë¦¬í‹±ìŠ¤ì— í‘œì‹œë˜ê¸°ê¹Œì§€ 24-48ì‹œê°„ ì •ë„ ê±¸ë¦°ë‹¤ê³  í•œë‹¤..\n\n## ì‹¤ì‹œê°„ ì‚¬ìš©ì ìˆ˜ ë³´ê¸°\n\n- [Google Analytics](https://analytics.google.com/analytics)ì— ì™¼ìª½ íƒ­ì—ì„œ `ë³´ê³ ì„œ` í´ë¦­ - `ì‹¤ì‹œê°„` í´ë¦­\n  ë°‘ì²˜ëŸ¼ ì‹¤ì‹œê°„ ì‚¬ìš©ì ìˆ˜ë¥¼ ë¶„ì„í•œ í†µê³„ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤!\n  ![230316-132736](/images/posts/google-analytics/230316-132736.png)\n\n# Google Search Consoleê³¼ ì—°ê²°\n\nêµ¬ê¸€ì—ì„œ ê²€ìƒ‰í•´ì„œ ë“¤ì–´ì˜¨ í†µê³„ë¥¼ ë³´ê¸° ìœ„í•´ì„œ ì—°ê²°í•˜ê¸°\n\n- ê´€ë¦¬ì - Search Console ë§í¬ - ì—°ê²°\n  ![230309-161524](/images/posts/google-analytics/230309-161524.png)\n\n#### êµ¬ê¸€ ì½˜ì†”ì—ì„œ ì‚¬ì´íŠ¸ í†µê³„ë³´ê¸°\n\n- [êµ¬ê¸€ ì½˜ì†”](https://search.google.com/search-console) - ê°œìš” - ì˜¤ë¥¸ìª½ ìƒë‹¨ `Search Console Insights` í´ë¦­\n\n---\n\n#### ì°¸ê³ \n\n- [nextjsì˜ˆì‹œ](https://github.com/vercel/next.js/tree/canary/examples/with-google-analytics)\n- https://kimyanglogging.tistory.com/3\n- https://velog.io/@yunsungyang-omc/Next.js-Google-Analystics-%EC%9D%B4%EC%8B%9D%ED%95%98%EA%B8%B0\n",
  },
  {
    slug: 'module-federation-01',
    title: 'Module Federationì´ë€?',
    content:
      "\n## ë“¤ì–´ê°€ë©°\n\nëª¨ë“ˆ í˜ë”ë ˆì´ì…˜ì´ë¼ëŠ” í‚¤ì›Œë“œê°€ ì™œ ë“±ì¥í–ˆëŠ”ì§€ ê·¸ ë°°ê²½ì„ ì ì‹œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ë¨¼ì € ëª¨ë“ˆ í˜ë”ë ˆì´ì…˜ì€ ê²°êµ­ MFE ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•œ ë°©ì‹ë“¤ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ê·¸ëŸ¬ê¸°ì— ì•ì„œ MFEê°€ ë¬´ì—‡ì¸ì§€ ê°„ë‹¨í•˜ê²Œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n<br />\n\n## MFE(Micro-Frontend) ë“±ì¥\n\nThoughtWorks Technology Radar(ê¸°ìˆ  íŠ¸ë Œë“œ ì¡°ì‚¬ ì‚¬ì´íŠ¸)ë¥¼ ì‚´í´ë³´ë©´ ëŒ€ëµ 2016ë…„ë„ë¶€í„° 'ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ' ì•„í‚¤í…ì³ì— ëŒ€í•œ ê°œë…ì´ ì•Œë ¤ì§€ê¸° ì‹œì‘í•˜ë©´ì„œ ì´ ì•„í‚¤í…ì³ë¥¼ ì ìš©í•˜ë ¤ëŠ” ì‹œë„ê°€ ëŠ˜ì–´ë‚¬ìŠµë‹ˆë‹¤.\nì´ ê°œë…ì´ ë°œì „í•˜ê²Œëœ ê³¼ì •ì„ ì‚´í´ë³´ë©´,\në¨¼ì € ê¸°ì¡´ì— ì‚¬ìš©í–ˆë˜ `ëª¨ë†€ë¦¬ì‹`(í•œ íŒ¨í‚¤ì§€ ì•ˆ ì—¬ëŸ¬ ê°œì˜ ì„œë¹„ìŠ¤) ì•„í‚¤í…ì³ì˜ ë‹¨ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ í™•ì¥ì˜ ì–´ë ¤ì›€, ì„œë¹„ìŠ¤ ë³„ ë°°í¬ê°€ ì–´ë ¤ì›€, ê¸´ ë¹Œë“œì‹œê°„ ë“±ì— ëŒ€í•œ í•´ê²°ì±…ìœ¼ë¡œ `ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤` ì•„í‚¤í…ì³ê°€ ë“±ì¥í–ˆëŠ”ë° ì´ ì›ì¹™ì„ í”„ë¡ íŠ¸ì—”ë“œ ì§„ì˜ì— ì ìš©í•œ ê²ƒì´ `MFE(Micro-Frontend)`ì…ë‹ˆë‹¤.\n<br />\n\në¬¼ë¡  ë¬´ì¡°ê±´ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì³ê°€ ì •ë‹µì´ë¼ëŠ” ë§ì€ ì•„ë‹™ë‹ˆë‹¤. [ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í•œê³„ì ì— ëŒ€í•œ ê¸€](https://news.hada.io/topic?id=7839)ì„ ì°¸ê³ í•˜ì—¬ ì„œë¹„ìŠ¤ ê·œëª¨ë‚˜ ë¹„ìš©ê³¼ ìƒì‚°ì„± ê°„ íŠ¸ë ˆì´ë“œì˜¤í”„ ë“±ì„ ë”°ì ¸ë³´ë©°, ì •ë§ ìš°ë¦¬ ì„œë¹„ìŠ¤ì— ë§ëŠ”ì§€ ê²€í† í•œ í›„ì— ë„ì…í•˜ëŠ” ê²ƒì´ ì ì ˆí•©ë‹ˆë‹¤.\n<br />\n\nMFEë¥¼ ê°„ë‹¨íˆ ì„¤ëª…í•˜ìë©´ í•œ íŒ¨í‚¤ì§€ì— ë¬¶ì—¬ìˆë˜ ê±°ëŒ€í•œ ì„œë¹„ìŠ¤ë¥¼ ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ë¡œ ìª¼ê°œì„œ `ë…ë¦½ì ìœ¼ë¡œ ë°°í¬`í•˜ê³ , ìª¼ê°œì§„ ì„œë¹„ìŠ¤ë¥¼ `í†µí•©`í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ë°‘ì²˜ëŸ¼ ëª¨ë…¸ë ˆí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¹´ë“œì¶”ì²œ, ë¹„ëŒ€ë©´ ê³„ì¢Œê°œì„¤, ë¶€ë™ì‚° ë“±ì˜ ì„œë¹„ìŠ¤ë¡œ ìª¼ê°œëŠ” ê²ƒì„ ì‚´í´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- [ìë£Œ ì°¸ê³ ](https://speakerdeck.com/raon0211/toseuyi-maikeuropeuronteuendeu-akitegceo-geurigo-jadonghwa?slide=37)\n  ![](https://velog.velcdn.com/images/xmun74/post/ab6b86fe-51d9-4bc2-8652-d8840b19222a/image.png)\n  <br />\n\nê·¸ë ‡ë‹¤ë©´ ë°‘ì˜ ê·¸ë¦¼ì²˜ëŸ¼ ë¶„ë¦¬ëœ ì—¬ëŸ¬ ê°œì˜ ì„œë¹„ìŠ¤ë“¤ì´ ë…ë¦½ì ì¸ CI/CDë¥¼ ì§„í–‰í•˜ê³  í•˜ë‚˜ì˜ ì›¹ í˜ì´ì§€ë¡œ ì¡°ë¦½í•´ì•¼í•˜ëŠ” í†µí•© ê³¼ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.\n\n- [ê·¸ë¦¼ ì°¸ê³ ](https://martinfowler.com/articles/micro-frontends.html)\n  ![](https://velog.velcdn.com/images/xmun74/post/ecd52c29-6fe2-4d06-87a6-61f18a60ca93/image.png)\n\n<br /><br />\n\n## í†µí•© ë°©ì‹\n\n[ë§ˆí‹´ íŒŒìš¸ëŸ¬ ì‚¬ì´íŠ¸ì˜ ê¸€](https://martinfowler.com/articles/micro-frontends.html#IntegrationApproaches)ì—ì„œ ì†Œê°œëœ ë°©ì‹ë“¤ì„ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ë°©ì‹ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ í•´ë‹¹ ê¸€ì„ ì°¸ê³ í•˜ì‹œê³ , ì´ ì™¸ì—ë„ ì—¬ëŸ¬ ë°©ì‹ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ë‚˜ëˆ ì§„ ì½”ë“œ ì¡°ê°ë“¤ì„ í•˜ë‚˜ë¡œ í†µí•©í•˜ëŠ” ë°©ì‹ë“¤ì…ë‹ˆë‹¤.\nê·¸ ì¤‘ JavaScriptë¥¼ í†µí•œ ëŸ°íƒ€ì„ í†µí•© ë°©ì‹ìœ¼ë¡œ Moduel Federationì´ ìˆìŠµë‹ˆë‹¤.\n<br />\n\n1. ì„œë²„ ì¸¡ í…œí”Œë¦¿ êµ¬ì„±\n2. ë¹Œë“œ íƒ€ì„ í†µí•©\n3. iframeì„ í†µí•œ ëŸ°íƒ€ì„ í†µí•©\n4. JavaScriptë¥¼ í†µí•œ ëŸ°íƒ€ì„ í†µí•©\n   - ì§ì ‘ êµ¬í˜„í•˜ê¸°\n   - Sigle-SPA ë¼ì´ë¸ŒëŸ¬ë¦¬\n   - Module Federation\n5. ì›¹ ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•œ ëŸ°íƒ€ì„ í†µí•©\n\n<br />\n\nìœ„ ë°©ì‹ ì¤‘ì—ì„œ JavaScriptë¥¼ í†µí•œ ëŸ°íƒ€ì„ í†µí•©ìœ¼ë¡œ Module Federationì— ëŒ€í•œ êµ¬í˜„ì€ ë°‘ê³¼ ê°™ì€ ë°©ì‹ë“¤ì´ ìˆìŠµë‹ˆë‹¤.\n\n<br />\n\n- Webpack5ì˜ [ModuleFederationPlugin](https://webpack.kr/plugins/module-federation-plugin/)\n  : Webpack5ë¶€í„° ë‚´ì¥ëœ ëª¨ë“ˆ í˜ë”ë ˆì´ì…˜ í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤.\n- [vite-plugin-federation](https://github.com/originjs/vite-plugin-federation)\n  : ëª¨ë“ˆ í˜ë”ë ˆì´ì…˜ì„ ì§€ì›í•˜ëŠ” Vite/Rollup í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ, Webpackì—ì„œ ì˜ê°ì„ ë°›ì•˜ê³  Webpack Module Federationê³¼ í˜¸í™˜ì´ ë©ë‹ˆë‹¤.\n\n<br /><br />\n\n# Module Federation\n\n: `ëŸ°íƒ€ì„ì— í†µí•©`ë˜ì–´ ê° ì•±ì´ ì„œë¡œ `ì½”ë“œë¥¼ ê³µìœ `í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.\n\n`ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì½”ë“œ`ë¥¼ `ëŸ°íƒ€ì„`ì— ê°€ì ¸ì™€ì„œ `ë™ì  ë¡œë“œ`í•  ìˆ˜ ìˆëŠ” í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤. ì–‘ë±¡í–¥ìœ¼ë¡œ ëª¨ë“ˆ í˜ë”ë ˆì´ì…˜ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— A ì•±ì—ì„œ B ì•±ì˜ ì½”ë“œë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆê³  ì´ ë°˜ëŒ€ ìƒí™©ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n2020ë…„ 10ì›”ì— ë¦´ë¦¬ì¦ˆëœ Webpack5ë¶€í„° ì¶”ê°€ëœ ë‚´ì¥ ê¸°ëŠ¥ìœ¼ë¡œ ì²˜ìŒ ì†Œê°œëìŠµë‹ˆë‹¤. ë„·í”Œë¦­ìŠ¤ë‚˜ ì•„ë§ˆì¡´, AWS ë“± í•´ì™¸ ëŒ€ê¸°ì—…ì—ì„œë„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ê³  í•©ë‹ˆë‹¤.\n<br />\n\n#### Q, ì™œ ëŸ°íƒ€ì„ì— í•˜ë‚˜?\n\në¹Œë“œ íƒ€ì„ì—ì„œ í†µí•©í•œë‹¤ë©´, ë§Œì•½ A ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë“ˆì´ ìˆ˜ì •ë  ë•Œ ì´ë¥¼ ì‚¬ìš©í•˜ë˜ ë‹¤ë¥¸ B,C ì• í”Œë¦¬ì¼€ì´ì…˜ë„ ë‹¤ì‹œ ë¹Œë“œ/ë°°í¬í•´ì•¼í•´ì„œ ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œì˜ ì¥ì ì¸ ë…ë¦½ì  ë°°í¬ê°€ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.\nëŸ°íƒ€ì„ì— í†µí•©í•˜ë©´, A ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë“ˆì´ ì—…ë°ì´íŠ¸ë˜ë©´ ì´ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë˜ B ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬ ì•ˆí•´ë„ A ì½”ë“œì˜ ë³€ê²½ì‚¬í•­ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë©ë‹ˆë‹¤. ë”°ë¼ì„œ ëŸ°íƒ€ì„ì— ê° ì„œë¹„ìŠ¤ê°€ ê°œë³„ì ìœ¼ë¡œ ë°°í¬í•´ì„œ ë™ì ìœ¼ë¡œ ë¡œë”©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\n<br /><br />\n\n### ì£¼ìš” ìš©ì–´ ì •ë¦¬\n\n- ëª¨ë“ˆ : Webpackìœ¼ë¡œ ë²ˆë“¤ë§ ê°€ëŠ¥í•œ ë¦¬ì†ŒìŠ¤ (JS, CSS, HTML, JSON, Asset ..)\n\n1. Host - í•˜ë‚˜ë¡œ í†µí•©ëœ ì»¨í…Œì´ë„ˆ.\n2. Remote - Hostë¡œ í†µí•©ë  ëª¨ë“ˆ.\n   ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•˜ë„ë¡ ë…¸ì¶œ(expose)í•´ì•¼ í•œë‹¤.\n3. Local - í˜„ì¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ ë‹¨ì¼ ë¹Œë“œì— í¬í•¨ë˜ëŠ” ì¼ë°˜ì ì¸ ëª¨ë“ˆ\n4. Exposes - ì›ê²© ëª¨ë“ˆë¡œ ë…¸ì¶œí•  ë¶€ë¶„ ì§€ì •.\n   exposeí•˜ë©´ Hostê°€ ì›ê²© ëª¨ë“ˆì˜ ì½”ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\n5. Container - ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¡œë“œ ê°€ëŠ¥í•œ ë‹¨ìœ„\n   ![](https://velog.velcdn.com/images/xmun74/post/95ba106b-f474-4edd-af1b-4bf5a7921b22/image.png)\n\n<br /><br />\n\n## ê°„ë‹¨í•œ ì½”ë“œ ì˜ˆì‹œ\n\n### 1. ì›ê²©ì—ì„œ Webpack ì„¤ì •í•˜ê¸°\n\nì˜ˆë¥¼ ë“¤ì–´ app1 ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ Header.jsë¥¼ ê³µìœ í•˜ë ¤ê³  exposeí•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤.\n\n- `name`ì€ ëª¨ë“ˆ í˜ë”ë ˆì´ì…˜ì„ ìˆ˜í–‰í•˜ëŠ” ì•± ê°„ ìœ ì¼í•œ container ì´ë¦„ì´ì–´ì•¼ í•©ë‹ˆë‹¤.\n- `filename`ì€ í•´ë‹¹ ì•±ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ëŠ” Manifest íŒŒì¼ëª…ì„ ì§€ì •í•˜ëŠ” ì˜µì…˜ìœ¼ë¡œ ê¸°ë³¸ê°’ì´ remoteEntry.jsì…ë‹ˆë‹¤.\n- `exposes`ëŠ” ë…¸ì¶œí•  ëª¨ë“ˆë“¤ì„ ì •ì˜í•©ë‹ˆë‹¤. value ê²½ë¡œì— ìœ„ì¹˜í•œ ë¡œì»¬ ëª¨ë“ˆì„ key ê²½ë¡œì˜ ì›ê²© ëª¨ë“ˆë¡œ exposeí•©ë‹ˆë‹¤.\n\n```js\n// ì›ê²©a-services/webpack.config.js\nconst { ModuleFederationPlugin } = require('webpack').container\n\nmodule.exports = {\n  plugins: [\n    new ModuleFederationPlugin({\n      name: 'app1', // ì›ê²© ëª¨ë“ˆ ì´ë¦„ - ì¤‘ë³µ ë¶ˆê°€\n      filename: 'remoteEntry.js',\n      exposes: {\n        // ì›ê²© ëª¨ë“ˆì—ì„œ ê³µìœ í•  í•­ëª©\n        // `./Header` pathë¡œ `./src/components/Header.tsx`ì˜ ë¡œì»¬ ëª¨ë“ˆì„ exposeí•¨\n        './Header': './src/components/Header.js',\n      },\n    }),\n    // ë²ˆë“¤ë§í•  ë•Œ remoteEntry.js íŒŒì¼ ìƒì„±\n  ],\n}\n```\n\n### 2. í˜¸ìŠ¤íŠ¸ì—ì„œ Webpack ì„¤ì •í•˜ê¸°\n\n- `remotes` - ì‚¬ìš©í•  ì›ê²© ëª¨ë“ˆ ëª©ë¡\n\n```js\nnew ModuleFederationPlugin({\n    name: 'app2', // í˜¸ìŠ¤íŠ¸ ì´ë¦„\n    remotes: {\n       app1: 'app1@http://localhost:3001/remoteEntry.js',\n    },\n}),\n```\n\n- í˜¸ìŠ¤íŠ¸ì—ì„œ ì›ê²© ëª¨ë“ˆ importí•´ì„œ ì‚¬ìš©í•˜ê¸°\n\n```jsx\nimport êµ¬í˜„ì²´ from '{container ì›ê²© ëª¨ë“ˆ ì´ë¦„}/{exposesì˜ key ê°’}'\n// Static import\nimport Header from 'app1/Header'\n// Dynamic import\nconst Header = React.lazy(() => import('app1/Header'))\n```\n\n### 3. ê³µìœ  ëª¨ë“ˆ ì„¤ì •í•˜ê¸°\n\n- í˜¸ìŠ¤íŠ¸ë‚˜ ì›ê²© ëª¨ë“ˆ ì „ë¶€ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê³µìœ  ëª¨ë“ˆì´ ìˆë‹¤ë©´ ì´ë¥¼ ì„¤ì •í•˜ì—¬ ëŸ°íƒ€ì„ì— 1ë²ˆë§Œ ë¡œë”©í•˜ê²Œ í•˜ëŠ” ì„¤ì •ì…ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ìš”ì²­ íšŸìˆ˜ê°€ ì¤„ì–´ë“¤ê²Œ ë©ë‹ˆë‹¤.\n- [SharedConfig](https://github.com/webpack/webpack/blob/1f99ad6367f2b8a6ef17cce0e058f7a67fb7db18/declarations/plugins/sharing/SharePlugin.d.ts#L41)ë¥¼ ë³´ë©´ ë‹¤ì–‘í•œ ì˜µì…˜ë“¤ì´ ìˆìŠµë‹ˆë‹¤.\n\n```js\nnew ModuleFederationPlugin({\n  shared: {\n    ...deps,\n    react: {\n      sigleton: true,\n      requiredVersion: '^18.0.0',\n    },\n  },\n})\n```\n\n<br /><br />\n\n---\n\n# ë§ˆì¹˜ë©°\n\nMFEëŠ” ë³µì¡ë„ê°€ ë†’ê¸° ë•Œë¬¸ì— ëŒ€ê·œëª¨ ì„œë¹„ìŠ¤ì—ì„œ ì„œë¹„ìŠ¤ íŠ¹ì„±ì— ë”°ë¼ì„œ í™•ì‹¤í•œ ì¥ì ì´ ìˆì„ ë•Œ ë„ì…í•˜ëŠ” ê²ƒì´ ë§ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\në‹¤ë¥¸ ë°œí‘œ ìë£Œë“¤ì„ ì°¾ì•„ë³¼ ë•Œ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ , ì˜ì‚¬ê²°ì • ë“± ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œë§ˆë‹¤ ì ìš©í•˜ê³  ì„ íƒí•˜ëŠ” ë°©ì‹ì´ ë‹¤ ë‹¬ë¼ì„œ ì™„ë²½í•œ best practiceëŠ” ì—†ë‹¤ê³  ëŠê»´ì¡ŒìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ì¶”ê°€ë¡œ [module-federation-examples](https://github.com/module-federation/module-federation-examples) ê¹ƒí—™ì—ì„œ SSR, ì–‘ë°©í–¥ í˜¸ìŠ¤íŠ¸ ë“± ë‹¤ì–‘í•œ ì˜ˆì œë“¤ì„ ì†Œê°œí•˜ê³  ìˆìœ¼ë‹ˆ ì°¸ê³ í•˜ë©´ ë©ë‹ˆë‹¤.\n\n<br /><br /><br /><br />\n\nì°¸ê³ \n\n- [Micro Frontends - Martin Fowler ì‚¬ì´íŠ¸](https://martinfowler.com/articles/micro-frontends.html)\n- [Module Federation - Webpack ê³µì‹ë¬¸ì„œ](https://webpack.js.org/concepts/module-federation/)\n- https://github.com/module-federation/module-federation-examples\n- [Webpack 5 Module Federationìœ¼ë¡œ Micro-Frontends ìš´ì˜í•˜ê¸° - FEConf ìœ íŠœë¸Œ](https://www.youtube.com/watch?v=0Eq6evGKJ68)\n- [[SaaS] Micro Frontendsë¥¼ ìœ„í•´ Module Federation ì ìš©í•˜ê¸° - ê°•ë‚¨ì–¸ë‹ˆ ë¸”ë¡œê·¸](https://blog.gangnamunni.com/post/saas-microfrontends/)\n",
  },
  {
    slug: 'nextjs-infinite-scroll-two',
    title: 'ë¬´í•œìŠ¤í¬ë¡¤ êµ¬í˜„ì—ì„œ ë’¤ë¡œê°€ê¸° ì‹œ ìŠ¤í¬ë¡¤ ìœ ì§€ë¥¼ í•´ë³´ì',
    content:
      "\n# ë’¤ë¡œê°€ê¸° ì‹œ ì´ì „ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¡œ ë³µêµ¬í•˜ê¸°\n\në¬´í•œ ìŠ¤í¬ë¡¤ë¡œ ë§ì€ ëª©ë¡ë“¤ì„ ìŠ¤í¬ë¡¤í•´ì„œ ë‚´ë ¸ë‹¤ê°€\n1ê°œ ê¸€ì„ í´ë¦­í•œ í›„\në’¤ë¡œê°€ê¸°ë¥¼ ëˆŒë €ëŠ”ë° ë§¨ ìœ„ë¡œ ë˜ëŒì•„ê°€ì¡Œë‹¤.\nì•„ê¹Œ ê·¸ ìœ„ì¹˜ë¡œ ê³„~ì† ìŠ¤í¬ë¡¤í•´ì„œ ë‚´ë ¤ê°€ìë‹ˆ ì—¬ê°„ ë¶ˆí¸í•œ ê²Œ ì•„ë‹ˆë‹¤...\nì´ëŸ¬í•œ ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ì´ì „ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ê¸°ì–µí•´ì„œ ë³µêµ¬í•  í•„ìš”ê°€ ìˆë‹¤!\n\n### êµ¬í˜„í•  ê²ƒ\n\n- ê²½ë¡œ ë³€ê²½ ì „(ê¸€ ëª©ë¡ -> ê¸€ ìƒì„¸)ì— ìŠ¤í¬ë¡¤ìœ„ì¹˜ ì €ì¥í•˜ê¸°\n- ë’¤ë¡œê°€ê¸°ë¥¼ í•´ì„œ í•´ë‹¹ ê²½ë¡œì— ì™”ëŠ” ì§€ ì²´í¬\n- ë’¤ë¡œê°€ê¸°ë¡œ ì™”ìœ¼ë©´ ì €ì¥í–ˆë˜ ìŠ¤í¬ë¡¤ìœ„ì¹˜ë¡œ ë³µêµ¬\n\n### êµ¬í˜„ ì½”ë“œ\n\n```tsx:useScrollRestoration.tsx\nimport { useRouter } from 'next/router'\nimport { useEffect } from 'react'\nimport {\n  getSessionStorage,\n  removeWebStorage,\n  setSessionStorage,\n} from '../webStorage'\n\nexport default function useScrollRestoration() {\n  const router = useRouter()\n\n  useEffect(() => {\n    let scrollStore: null | { x: number; y: number }\n\n    const onRouteChangeStart = () => {\n      setSessionStorage('scroll-position', {\n        x: window.pageXOffset,\n        y: window.pageYOffset,\n      })\n      //   console.log('1. ê²½ë¡œë³€ê²½ ì „ ì €ì¥', window.pageXOffset, window.pageYOffset)\n    }\n\n    const onRouteChangeComplete = () => {\n      if (scrollStore) {\n        const { x, y } = scrollStore\n        // console.log('3. ê²½ë¡œë³€ê²½ í›„ (ë³µêµ¬)', scrollStore)\n        setTimeout(() => window.scrollTo(x, y), 50)\n        scrollStore = null\n        removeWebStorage('scroll-position', 'session')\n      }\n    }\n\n    router.beforePopState(() => {\n      scrollStore = getSessionStorage('scroll-position')\n      //   console.log('2. ë’¤ë¡œê°€ê¸° ì „ ì‹¤í–‰', scrollStore)\n      return true\n    })\n    router.events.on('routeChangeStart', onRouteChangeStart)\n    router.events.on('routeChangeComplete', onRouteChangeComplete)\n\n    return () => {\n      router.events.off('routeChangeStart', onRouteChangeStart)\n      router.events.off('routeChangeComplete', onRouteChangeComplete)\n    }\n  }, [])\n}\n```\n\nìœ„ í•´ë‹¹ ì½”ë“œë¥¼ `_app.tsx`ì—ì„œ ì‹¤í–‰ì‹œì¼°ë‹¤. ë¨¼ì € ì½”ë“œë¥¼ ë³´ë©´ì„œ ì„¤ëª…í•´ë³´ìë©´,\nnext-routerì˜ [router.events](https://nextjs.org/docs/api-reference/next/router#routerevents)ë¥¼ í™œìš©í•˜ì—¬ ê²½ë¡œê°€ ì´ë™ë  ë•Œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê²Œ í–ˆë‹¤.\nì°¸ê³ ë¡œ ë¼ìš°í„° ì´ë²¤íŠ¸ëŠ” useEffectì—ì„œ êµ¬ë…í•˜ì—¬ ì‹¤í–‰í•´ì•¼í•œë‹¤.\n\n- `routeChangeStart(url, { shallow })` - ê²½ë¡œê°€ ë³€ê²½ë˜ê¸° ì‹œì‘í• ë•Œ ë°œìƒ\n\n- `routeChangeComplete(url, { shallow })` - ê²½ë¡œê°€ ì™„ì „íˆ ë³€ê²½ë˜ë©´ ë°œìƒ\n\n- [router.beforePopState](https://nextjs.org/docs/api-reference/next/router) - ê²½ë¡œ ì‘ë™ ì „ ì‹¤í–‰í•¨. returnê°’ì´ trueë©´ popstateë¥¼ í˜¸ì¶œí•¨\n\n  - [popstate](https://developer.mozilla.org/en-US/docs/Web/API/Window/popstate_event) : ë’¤ë¡œê°€ê¸°/ì•ìœ¼ë¡œê°€ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ í˜¸ì¶œë¨\n\n#### êµ¬í˜„ ê³¼ì •\n\n> ê²½ë¡œ ì´ë™ ì˜ˆì‹œ : ê¸€ ëª©ë¡ (ìŠ¤í¬ë¡¤ í›„)=> ê¸€ ìƒì„¸\n\n1. ê²½ë¡œ ì´ë™ ì‹œì‘ë  ë•Œ(routeChangeStart) ìŠ¤í¬ë¡¤ìœ„ì¹˜ë¥¼ sessionStorageì— ì €ì¥\n2. ë’¤ë¡œê°€ê¸° í´ë¦­í•´ì„œ ê²½ë¡œ ì‘ë™ë˜ê¸° ì „ì—(beforePopState) sessionStorageì— ì €ì¥ëœ ê°’ì„ ë³€ìˆ˜(scrollStore)ì— í• ë‹¹í•¨\n3. ê²½ë¡œ ì™„ì „íˆ ë³€ê²½ëœ í›„(routeChangeComplete) ë³€ìˆ˜ì— ì €ì¥ëœ ê°’ì´ ìˆìœ¼ë©´ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ë³µêµ¬ í›„ ë‹¤ì‹œ ì´ˆê¸°í™”í•´ì¤Œ\n\n# ë¬¸ì œ\n\n# ì°¸ê³ \n\nhttps://coffeeandcakeandnewjeong.tistory.com/94\nhttps://helloinyong.tistory.com/300\n",
  },
  {
    slug: 'nextjs-infinite-scroll',
    title: 'Intersection Observer APIë¡œ ë¬´í•œìŠ¤í¬ë¡¤ êµ¬í˜„í•˜ê¸°',
    content:
      "\n## ì ìš©í•˜ëŠ” ì´ìœ \n\nì´ì „ì—ëŠ” ë¸”ë¡œê·¸ì—ì„œ ê¸€ ëª©ë¡ í˜ì´ì§€ì— ì ‘ì†í–ˆì„ ë•Œ ëª¨ë“  ê¸€ì„ ì¶œë ¥í•´ì£¼ê³  ìˆì—ˆìŠµë‹ˆë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ 100ê°œ ê¸€ì´ ìˆë‹¤ë©´ 1ë²ˆ ìš”ì²­ì— 100ê°œë¥¼ ë°›ì•„ì˜¤ëŠ” ë°©ì‹ì´ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ê¸´ ëª©ë¡ì„ ë Œë”ë§í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í˜ì´ì§€ë„¤ì´ì…˜ì´ë‚˜ ë¬´í•œìŠ¤í¬ë¡¤ì„ ì ìš©í•˜ì—¬ í•„ìš”í•œ ë°ì´í„°ë§Œ ë‚˜ëˆ  ë°›ì„ ìˆ˜ ìˆê²Œ í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ êµ¬í˜„í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤.\n<br/>\në¨¼ì € í˜ì´ì§€ë„¤ì´ì…˜ì€ í˜ì´ì§€ ì´ë™ì„ ìœ„í•´ ë”°ë¡œ í´ë¦­ì„ í•´ì•¼í•˜ì§€ë§Œ\në¬´í•œìŠ¤í¬ë¡¤ì€ ê·¸ëƒ¥ ìŠ¤í¬ë¡¤ë§Œ í•˜ë©´ ì¶”ê°€ ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në”°ë¼ì„œ ì‚¬ìš©ì ê²½í—˜ì„ ë†’ì´ê¸° ìœ„í•´ì„œ ìŠ¤í¬ë¡¤ë§Œí•´ì„œ ìƒˆ ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ë¬´í•œìŠ¤í¬ë¡¤ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ë¬´í•œìŠ¤í¬ë¡¤ ë°©ì‹ì„ Intersection Opserver APIë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•˜ê³ ì í•©ë‹ˆë‹¤.\n\n### ë¬´í•œ ìŠ¤í¬ë¡¤ í•œê³„ì \n\n- ë’¤ë¡œê°€ê¸° ì‹œ ì´ì „ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ê¸°ì–µí•˜ëŠ” ì¶”ê°€ ì‘ì—… í•„ìš”\n- í‘¸í„° ì°¾ê¸° ì–´ë ¤ì›Œì§\n\n## ë¬´í•œìŠ¤í¬ë¡¤ êµ¬í˜„ ë°©ë²•\n\n1. scroll event\n\n   - throttleì´ë‚˜ requestAnimationFrameìœ¼ë¡œ êµ¬í˜„\n     : ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•´ì„œ ìœ„ì— í•´ë‹¹ëœ ì¶”ê°€ ì‘ì—…ì´ í•„ìš”í•˜ë‹¤\n\n2. Intersection Opserver API\n\n#### êµ¬í˜„ ì‚¬í•­\n\n- ìµœí•˜ë‹¨ê¹Œì§€ ìŠ¤í¬ë¡¤í•˜ë©´ Nê°œ ë°ì´í„° fetchí•˜ê¸°\n- ë°›ì•„ì˜¬ ë‹¤ìŒ ë°ì´í„° ì—†ê±°ë‚˜ ë¡œë”©ì¤‘ì¼ ë•Œ fetch ì¤‘ì§€\n\n#### ì¶”ê°€ êµ¬í˜„ ì‚¬í•­\n\n- ëª©ë¡ì—ì„œ ìŠ¤í¬ë¡¤ ë‚´ë¦¬ê³  1ê°œ ìƒì„¸í˜ì´ì§€ë¡œ ë“¤ì–´ê°”ë‹¤ê°€\n  ë’¤ë¡œê°€ê¸° ëˆ„ë¥´ë©´ ì´ì „ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ê¸°ì–µí•˜ê¸°\n- ë¡œë”©ì¤‘ì¼ ë•Œ, ìŠ¤ì¼ˆë ˆí†¤ UI ë¡œë“œ\n\n---\n\n# Intersection Opserver API\n\n[Intersection Opserver API](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API) ëŠ” ìƒìœ„ìš”ì†Œë‚˜ viewportì—ì„œ í•´ë‹¹ ìš”ì†Œê°€ êµì°¨ë  ë•Œ ë³€ê²½ì‚¬í•­ì„ ë¹„ë™ê¸°ì‹ìœ¼ë¡œ ê´€ì°°í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” APIë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì»´í“¨í„° í™”ë©´ì—ì„œ íŠ¹ì • ìš”ì†Œê°€ ë³´ì—¬ì§ˆ ë•Œë¥¼ ê´€ì°°í•˜ì—¬ ì½œë°±í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê²Œ í•˜ëŠ” ê²ƒì´ë‹¤.\n\n## 1. Intersection Opserver ê°œë…\n\n#### Intersection Observer ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•˜ê¸°\n\n```js\nlet options = {\n  root: document.querySelector('#scrollArea'),\n  rootMargin: '0px',\n  threshold: 1.0,\n}\n\n// Intersection Opserver ìƒì„±\n// ìš”ì†Œê°€ ê´€ì°°ë˜ë©´ 1ë²ˆì§¸ ì¸ìì¸ ì½œë°±í•¨ìˆ˜ ì‹¤í–‰, 2ë²ˆì¨° ì¸ìë¡œ ì˜µì…˜ ì§€ì •\nlet observer = new IntersectionObserver(callback, options)\n```\n\n#### options\n\n- `root` - ëŒ€ìƒì´ rootì— ë“¤ì–´ì˜¤ë©´ ì½œë°±í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•¨. (ê¸°ë³¸ê°’ì¸ `null`ì€ viewportê°€ ì§€ì •ë¨)\n- `rootMargin` - rootì˜ marginê°’ [ìƒ,ì˜¤,í•˜,ì™¼] ì§€ì • ê°€ëŠ¥. (ê¸°ë³¸ê°’ 0)\n- `threshold` - ëŒ€ìƒì˜ ê°€ì‹œì„± ë¹„ìœ¨ì„ ë‚˜íƒ€ë‚´ëŠ” ìˆ«ìë‚˜ ë°°ì—´ë¡œ, ëŒ€ìƒì´ ì–¼ë§ˆë‚˜ ë³´ì´ëŠëƒì— ë”°ë¼ ì½œë°±í•¨ìˆ˜ ì‹¤í–‰í•¨. 0.5 - ëŒ€ìƒì´ rootì—ì„œ 50% ë³´ì´ë©´ ê°ì§€ / 1.0- ëŒ€ìƒ ì „ì²´ê°€ ë³´ì´ë©´ ê°ì§€ (ê¸°ë³¸ê°’ 0)\n\n#### callback í•¨ìˆ˜\n\níƒ€ê²Ÿ ìš”ì†Œì˜ ê´€ì°°ì´ ì‹œì‘ë  ë•Œ ì‹¤í–‰ë˜ëŠ” ì½œë°±í•¨ìˆ˜\n\n```js\nlet callback = (entries, observer) => {\n  entries.forEach((entry) => {\n    // entry.isIntersecting :targetì˜ êµì°¨ì—¬ë¶€ë¥¼ booleanê°’ìœ¼ë¡œ ì¶œë ¥\n    // entry.target\n  })\n}\n```\n\n- `entries` - targetì˜ ë°°ì—´. í˜„ì¬ìƒíƒœì— ëŒ€í•œ ì†ì„±ë“¤ì´ ì¡´ì¬í•¨.\n- `observer` - ì½œë°±í•¨ìˆ˜ í˜¸ì¶œí•œ observer\n\n#### ë©”ì„œë“œ\n\n```js\n// íƒ€ê²Ÿ ê´€ì°° ì‹œì‘\nobserver.observe(target)\n// íƒ€ê²Ÿ ê´€ì°° ì¤‘ë‹¨\nobserver.unobserve(target)\n// ëª¨ë“  ê´€ì°° ì¤‘ë‹¨\nobserver.disconnect()\n```\n\n#### ê´€ì°°í•  ìš”ì†Œ íƒ€ê²ŸíŒ…í•˜ê¸°\n\n```tsx\n/* JS ë²„ì „ */\nlet target = document.querySelector(\"#listItem\");\nobserver.observe(target);\n\n/* React + TS ë²„ì „ */\nlet target = useRef<HTMLDivElement>(null);\nobserver.observe(target.current as Element);\n// ...\nreturn (\n{/* ... */}\n<div ref={target}></div>\n)\n```\n\n---\n\n## 2. ì»¤ìŠ¤í…€ í›… ë§Œë“¤ê¸°\n\nì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë§Œë“¤ì–´ë‘ë©´ ë¬´í•œ ìŠ¤í¬ë¡¤, ìŠ¤ì¼ˆë ˆí†¤ UI, ì§€ì—° ë¡œë”© ë“±ì—ì„œë„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ Hookìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ êµ¬í˜„í•´ë´…ì‹œë‹¤.\n\n```tsx:useIntersect.tsx\n/* NextJS + TS ë²„ì „ */\nimport { useCallback, useEffect, useRef } from 'react'\n\ninterface IntersectionObserverInit {\n  root?: Element | Document | null\n  rootMargin?: string\n  threshold?: number | number[]\n}\n\ntype IntersectHandler = (\n  entry: IntersectionObserverEntry,\n  observer: IntersectionObserver,\n) => void\n\nconst defaultOptions = {\n  root: null,\n  rootMargin: '0px',\n  threshold: 1.0,\n}\n\nexport default function useIntersect(\n  onIntersect: IntersectHandler,\n  options?: IntersectionObserverInit,\n) {\n  const target = useRef<HTMLDivElement>(null)\n\n  const callback = useCallback(\n    (entries: IntersectionObserverEntry[], observer: IntersectionObserver) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          onIntersect(entry, observer)\n        }\n      })\n    },\n    [onIntersect],\n  )\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(callback, {\n      ...defaultOptions,\n      ...options,\n    })\n    if (target.current) {\n      observer.observe(target.current as Element)\n    }\n    return () => observer && observer.disconnect()\n  }, [target, callback, options])\n\n  return target\n}\n```\n\n#### Reactì—ì„œëŠ” useEffect ì•ˆì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\n\nuseEffectì—ì„œ ë Œë”ë§ì´ ë˜ê³  ë‚˜ì„œ í•´ë‹¹ targetì´ ìˆì„ ë•Œ `observe()`ë¡œ ê´€ì°°ì„ ì‹œì‘í•˜ê³ \n`return()`ë¬¸ì—ì„œ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ `disconnect()`í•˜ì—¬ ê´€ì°°ì„ ì¤‘ë‹¨í•œë‹¤.\n\n<br />\n\n### Hook ì‚¬ìš©ì²˜\n\n```tsx\nexport default function Blog() {\n  const [blogs, setBlogs] = useState([])\n  const [page, setPage] = useState(0)\n  const [nextPage, setNextPage] = useState(true)\n  const [isLoading, setIsLoading] = useState(false)\n\n  const fetchData = async () => {\n    setIsLoading(true)\n    const { contents, pageNumber, isLastPage } = await blogsApi.getBlogs(\n      page,\n      8,\n    )\n    setBlogs(blogs.concat(contents))\n    setPage(pageNumber + 1)\n    setNextPage(!isLastPage)\n    setIsLoading(false)\n  }\n\n  const target = useIntersect(async (entry, observer) => {\n    observer.unobserve(entry.target)\n    if (nextPage && !isLoading) {\n      fetchData() // ë‹¤ìŒí˜ì´ì§€ ìˆê³  ë¡œë”©ì¤‘ ì•„ë‹ë•Œ fetch í•˜ê¸°\n    }\n  })\n  return (\n    <>\n      {/* fetchë¡œ ë°›ì€ limitìˆëŠ” Nê°œ ëª©ë¡ ... */}\n      <div ref={target}>{isLoading && <div>Loading...</div>}</div>\n    </>\n  )\n}\n```\n\n#### ìµœí•˜ë‹¨ê¹Œì§€ ìŠ¤í¬ë¡¤í•˜ë©´ Nê°œ ë°ì´í„° fetchí•˜ê¸°\n\nfetchë¡œ ë°›ì•„ì˜¨ ì œí•œëœ ê°œìˆ˜ë¥¼ ê°€ì§„ ëª©ë¡ì´ ìˆê³ , ê·¸ ëª©ë¡ ë°”ë¡œ ë°‘ì— targetì„ ë‘ì–´ì„œ targetì— ë„ë‹¬í–ˆì„ ë•Œ ìƒˆ ë°ì´í„°ë¥¼ fetch ë°›ë„ë¡ í–ˆìŠµë‹ˆë‹¤.\n\n#### ë‹¤ìŒ ë°ì´í„°ê°€ ìˆê³ , ë¡œë”©ì¤‘ì´ ì•„ë‹ ë•Œë§Œ fetchí•˜ê¸°\n\nìµœí•˜ë‹¨ê¹Œì§€ ìŠ¤í¬ë¡¤í–ˆì„ ë•Œ ë°ì´í„° fetchë¥¼ ê³„ì† ë°˜ë³µí•˜ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì—\nì¡°ê±´ë¬¸ì— í•´ë‹¹ë  ë•Œë§Œ fetchí•˜ë„ë¡ êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ ë°ì´í„°ê°€ ìˆê³ , ë¡œë”©ì¤‘ì´ ì•„ë‹ë•Œë§Œ fetchë¥¼ í•˜ë„ë¡ í•©ë‹ˆë‹¤.\n\n# ë§ˆì¹˜ë©°\n\nëª©ë¡ì„ ì¶œë ¥í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë¬´í•œ ìŠ¤í¬ë¡¤ì´ ìˆì§€ë§Œ ì´ ë°©ë²•ì—ë„ í•œê³„ì ì´ ìˆìŠµë‹ˆë‹¤. ë°‘ì²˜ëŸ¼ ì¶”ê°€ êµ¬í˜„í•´ì•¼ ë  ì‚¬í•­ë“¤ì´ ìˆìŠµë‹ˆë‹¤.\n\n- ë’¤ë¡œê°€ê¸° ì‹œ ì´ì „ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ê¸°ì–µí•˜ê¸°\n- ë¶ˆëŸ¬ì˜¨ ë°ì´í„°ë§Œí¼ DOM ë…¸ë“œ ì¦ê°€í•˜ê¸° ë•Œë¬¸ì— ë Œë”ë§ ìµœì í™” ì‘ì—… í•„ìš”\n- ë¡œë”©ì¤‘ì¼ ë•Œ ìŠ¤ì¼ˆë ˆí†¤ UI ì¶œë ¥í•˜ê¸°\n\nì´ ì¤‘ì—ì„œ ë’¤ë¡œê°€ê¸° êµ¬í˜„ì€ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ê¸°ì–µí•´ì•¼í•œë‹¤ëŠ” ì ì´ ìˆìŠµë‹ˆë‹¤.\në¨¼ì € ë¬´í•œìŠ¤í¬ë¡¤ë¡œ ë°ì´í„°ë¥¼ Nê°œê¹Œì§€ ë¡œë“œí•œ ì´í›„ì— ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™í–ˆë‹¤ê°€ ë’¤ë¡œê°€ê¸°ë¡œ ëŒì•„ì˜¤ë©´ ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\nê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•˜ë ¤ë©´ ìƒì„¸í˜ì´ì§€ë¥¼ ëª¨ë‹¬ë¡œ êµ¬í˜„í•˜ê±°ë‚˜ ì´ì „ ë°ì´í„°ë¥¼ ì „ë¶€ ì €ì¥í•´ë†“ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ì´ì „ ë°ì´í„°ê°€ 100í˜ì´ì§€ê°€ ë„˜ëŠ”ë‹¤ê±°ë‚˜ ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¼ë©´ ì €ì¥í•˜ê¸°ê°€ ë¶€ë‹´ìŠ¤ëŸ½ìŠµë‹ˆë‹¤.\në˜ëŠ” ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ì— ìŠ¤í¬ë¡¤ë†’ì´ë¥¼ ì €ì¥í•´ë‘ê³ , ë’¤ë¡œê°€ê¸°ì‹œ padding-bottomìœ¼ë¡œ ì €ì¥í•´ë‘” ê°’ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ë„ 1í˜ì´ì§€ë¶€í„°~Ní˜ì´ì§€ê¹Œì§€ ì „ë¶€ ìš”ì²­ì„ ë‹¤ì‹œ í•´ì•¼ë˜ê¸° ë•Œë¬¸ì— ì„œë²„ì— ë¶€ë‹´ì´ ê°€ê³  ë¡œë”©ì‹œê°„ì´ ê¸¸ì–´ì§„ë‹¤ëŠ” ì ì´ ìˆìŠµë‹ˆë‹¤.\n<br/>\nê·¸ë¦¬ê³  ì´ì™€ ì—°ê´€ë˜ì„œ DOM ë…¸ë“œ ìˆ˜ê°€ ì¦ê°€í•œë‹¤ëŠ” ë¬¸ì œê°€ ë°œìƒë©ë‹ˆë‹¤. ì´ì „ ë°ì´í„°ë¥¼ ë‹¤ ë¶ˆì–´ì˜¤ë©´ DOM ë…¸ë“œ ìˆ˜ê°€ ì¦ê°€í•˜ê¸° ë•Œë¬¸ì— ê·¸ë§Œí¼ ë Œë”ë§ ì‹œê°„ë„ ì¦ê°€í•œë‹¤ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê°€ìƒí™”ëª©ë¡(or windowing)ì´ë¼ëŠ” ë Œë”ë§ ìµœì í™”ë°©ì‹ì„ ì ìš©í•´ì•¼ í•  í•„ìš”ì„±ì´ ìˆìŠµë‹ˆë‹¤.\nì´ì™€ ê´€ë ¨ëœ ë‚´ìš©ì€ ë‹¤ìŒ í¬ìŠ¤íŠ¸ë¶€í„° ì„¤ëª…í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\n<br/>\në¬´í•œìŠ¤í¬ë¡¤ ë°©ì‹ì´ ì‚¬ìš©ì ê²½í—˜ í–¥ìƒì— ë„ì›€ì´ ë˜ì§€ë§Œ, í•œê³„ì ì´ ìˆê³  ì´ì— ë”°ë¼ ì¶”ê°€ì ì¸ ì‘ì—…ì„ êµ¬í˜„í•´ì•¼ í•œë‹¤ëŠ” ì ì´ ìˆìŠµë‹ˆë‹¤. ëª¨ë“  ì‚¬ì´íŠ¸ê°€ ë¬´í•œìŠ¤í¬ë¡¤ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì€ ì´ëŸ¬í•œ ë¬¸ì œë“¤ì´ ìˆì—ˆê¸° ë•Œë¬¸ì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê° ë°©ì‹ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ë¹„êµí•´ì„œ í•´ë‹¹ ì„œë¹„ìŠ¤ì— ë§ëŠ” íš¨ê³¼ì ì¸ ë°©ì‹ì„ ì„ íƒí•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\n\n<br /><br /><br />\n\n---\n\n> ì°¸ê³ \n\n[ì‹¤ì „ Infinite Scroll with React - kakaoenterprise](https://tech.kakaoenterprise.com/149)\n[(React) ë¬´í•œ ìŠ¤í¬ë¡¤ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸° : used by Intersection Observer - 2](https://velog.io/@yunsungyang-omc/React-%EB%AC%B4%ED%95%9C-%EC%8A%A4%ED%81%AC%EB%A1%A4-%EA%B8%B0%EB%8A%A5-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-used-by-Intersection-Observer-2)\n[ë¬´í•œ ìŠ¤í¬ë¡¤(Infinite scroll) êµ¬í˜„í•˜ê¸°](https://velog.io/@eunoia/%EB%AC%B4%ED%95%9C-%EC%8A%A4%ED%81%AC%EB%A1%A4Infinite-scroll-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0)\n[[React] ë¬´í•œ ìŠ¤í¬ë¡¤ ì ìš©í•˜ê¸°](https://velog.io/@sjoleee_/React-%EB%AC%B4%ED%95%9C-%EC%8A%A4%ED%81%AC%EB%A1%A4#%EB%AC%B4%ED%95%9C%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%9D%84-%EB%8F%84%EC%9E%85%ED%95%98%EA%B2%8C-%EB%90%9C-%EC%9D%B4%EC%9C%A0)\n",
  },
  {
    slug: 'nextjs-setting-ts',
    title:
      'NextJs + TS ì…‹íŒ… - eslint, prettier, styled-components (husky, lint-staged, airbnb)',
    content:
      '\n[Next.js ê³µì‹ë¬¸ì„œ](https://nextjs.org/docs/basic-features/typescript)\n\n#### ê°œë°œí™˜ê²½\n\n- next.js - 13.1.1\n- typescript - 4.9.4\n- eslint (+ airbnbê·œì¹™) - 8.31.0\n- prettier - 2.8.2\n- husky - 8.0.0\n- lint-staged - 13.1.0\n- styled-components - 5.3.6\n\n# Next.js + TS ì„¤ì¹˜\n\n### 1. Next.js + TS ìƒˆ í”„ë¡œì íŠ¸ë¡œ ìƒì„±í•˜ëŠ” ë°©ë²• 1\n\n```bash\nnpx create-next-app@latest --ts í”„ë¡œì íŠ¸ëª…\n#or\nyarn create next-app --typescript í”„ë¡œì íŠ¸ëª…\n#or\npnpm create next-app --ts í”„ë¡œì íŠ¸ëª…\n\n#eslint ì„¤ì¹˜í•˜ê² ëƒëŠ” ì§ˆë¬¸ì— yes ì„ íƒ\n```\n\n```diff-json:package.json showLineNumbers\n{\n  "name": "xmunt",\n  "version": "0.1.0",\n  "private": true,\n  "scripts": {\n    "dev": "next dev",\n    "build": "next build",\n    "start": "next start",\n    "lint": "next lint"\n  },\n  "dependencies": {\n    "@next/font": "13.1.1",\n    "@types/node": "18.11.18", //ts ê´€ë ¨ íŒ¨í‚¤ì§€\n    "@types/react": "18.0.26", //ts ê´€ë ¨ íŒ¨í‚¤ì§€\n    "@types/react-dom": "18.0.10",\n    "eslint": "8.31.0",\n    "eslint-config-next": "13.1.1",\n    "next": "13.1.1",\n    "react": "18.2.0",\n    "react-dom": "18.2.0",\n    "typescript": "4.9.4"\n  }\n}\n\n```\n\n<br/><br/>\n\n### 2. ê¸°ì¡´ í”„ë¡œì íŠ¸(Next.js )ì—ì„œ Next.tsë¡œ ìƒì„±í•˜ëŠ” ë°©ë²• 2\n\n```bash\ntouch tsconfig.json\nnpm install --save-dev @types/react @types/node\nnpm run dev  # ì˜ ì‹¤í–‰ë˜ë©´ ë¨ tsconfig.jsonì— ìë™ ì„¤ì •ë¨\n```\n\n<br/><br/><br/><br/>\n\n# 1. ESLint ì„¤ì •\n\nNext.js ë²„ì „ `11.0.0` ë¶€í„° ESLintê°€ í•¨ê»˜ í†µí•©ëê¸° ë•Œë¬¸ì—\nNext ì„¤ì¹˜ ë•Œ eslint ì„¤ì¹˜ì— yesí–ˆë‹¤ë©´,\nESLintë¥¼ ì¶”ê°€ ì„¤ì¹˜í•˜ê±°ë‚˜ `.eslintrc.json`ì„ ë”°ë¡œ ìƒì„±í•˜ì§€ ì•Šì•„ë„ ë¨.\n(ë§Œì•½ next ì„¤ì¹˜í• ë•Œ eslint ì„¤ì¹˜í•˜ê² ëƒëŠ” ì§ˆë¬¸ì— no í–ˆë‹¤ë©´ í•´ì•¼ê² ì§€ë§Œ,)\n\n- airbnb, google, next ë“± ë‹¤ì–‘í•œ ê·œì¹™ë“¤ì´ ìˆë‹¤. ê·¸ ì¤‘ì— ëŒ€í‘œì ì¸ airbnb ê·œì¹™ì„ ì‚¬ìš©í•´ì„œ ì„¤ì¹˜í•˜ê³ ì í•œë‹¤.\n\n<br/>\n\n## Airbnb ê·œì¹™ ì„¤ì •\n\n### 1. `eslint-config-airbnb` - ë¦¬ì•¡íŠ¸ ê´€ë ¨ ê·œì¹™\n\n- ë¦¬ì•¡íŠ¸ ê´€ë ¨ëœ ê²½ìš° ì‚¬ìš©\n\n> - eslint-config-airbnbì˜ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ëª©ë¡ í™•ì¸ ëª…ë ¹ì–´\n\n```bash\nnpm info "eslint-config-airbnb@latest" peerDependencies\n```\n\n- ìœ„ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì¡°íšŒëœ ì¢…ì† íŒ¨í‚¤ì§€ëª©ë¡ì´ë‹¤.\n  ë²„ì „ì— ë§ëŠ” íŒ¨í‚¤ì§€ë“¤ì„ ê°™ì´ ì„¤ì¹˜í•´ì¤˜ì•¼ í•œë‹¤\n  ```bash\n  {\n    eslint: \'^7.32.0 || ^8.2.0\',\n    \'eslint-plugin-import\': \'^2.25.3\',\n    \'eslint-plugin-jsx-a11y\': \'^6.5.1\',\n    \'eslint-plugin-react\': \'^7.28.0\',\n    \'eslint-plugin-react-hooks\': \'^4.3.0\'\n  }\n  ```\n\n#### ì„¤ì¹˜í•˜ê¸°\n\n```bash\n#1. airbnb + ì¢…ì† íŒ¨í‚¤ì§€ê¹Œì§€ ì„¤ì¹˜í•˜ê¸°\nnpx install-peerdeps --dev eslint-config-airbnb\n#ë˜ëŠ” ê°ê° ê°œë³„ì  ì„¤ì¹˜\nnpm install -D eslint eslint-plugin-import eslint-plugin-react eslint-plugin-react-hooks eslint-plugin-jsx-ally\n\n#2. TypeScript ê´€ë ¨ airbnb, lint íŒ¨í‚¤ì§€ ì„¤ì¹˜í•˜ê¸°\nnpm install -D eslint-config-airbnb-typescript @typescript-eslint/eslint-plugin @typescript-eslint/parser\n```\n\n<br/><br/><br/>\n\n### 2. `eslint-config-airbnb-base` - ë¦¬ì•¡íŠ¸ ì œì™¸ ê·œì¹™\n\n- ë¦¬ì•¡íŠ¸ë¥¼ ì•ˆ ì“°ëŠ” ê²½ìš° ì„¤ì¹˜\n- ì¢…ì†ì„± íŒ¨í‚¤ì§€ í™•ì¸ ëª…ë ¹ì–´\n  ```bash\n  npm info "eslint-config-airbnb-base@latest" peerDependencies\n  ```\n\n#### ì„¤ì¹˜í•˜ê¸°\n\n```bash\nnpx install-peerdeps --dev eslint-config-airbnb-base\n```\n\n- `.eslintrc.json`ì— ì„¤ì • ì¶”ê°€\n\n```js:.eslintrc.json\n"env": {\n    "br/owser": true,\n    "node": true,\n  },\n  "extends": "airbnb-base",\n  "rules": {\n    "linebr/eak-style": 0,\n  },\n```\n\n<br/><br/><br/>\n\n# 2. Prettier ì„¤ì¹˜\n\n#### 1. Prettier ë° í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜í•˜ê¸°\n\neslintì™€ prettierë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ì‹œ ê·œì¹™ë“¤ì´ ì¶©ëŒë¨ìœ¼ë¡œ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ë“¤ì„ ì„¤ì¹˜í•´ì•¼ í•œë‹¤.\n\n```bash\nnpm install -D prettier eslint-plugin-prettier eslint-config-prettier\n```\n\n- `eslint-plugin-prettier` : eslintì—ì„œ prettierë‘ ì¶©ëŒí•  ê·œì¹™ ë¹„í™œì„±í™”\n- `eslint-config-prettier` : í¬ë§¤íŒ…í• ë•Œ prettier ì‚¬ìš©í•˜ê²Œ í•˜ê¸°\n\n#### 2. `.prettierrc` íŒŒì¼ ìƒì„±\n\n```js:.prettierrc\n{\n  "semi": false,\n  "singleQuote": true,\n  "tabWidth": 2,\n  "trailingComma": "all"\n}\n```\n\n- `"semi": false` - ì„¸ë¯¸ì½œë¡  ì‚¬ìš©ì—¬ë¶€. (Next.jsëŠ” ì„¸ë¯¸ì½œë¡  `;` ì‚¬ìš©ì•ˆí•´ì„œ falseí•¨)\n- `"singleQuote": true` - ì‘ì€ ë”°ì˜´í‘œ `\'` ì‚¬ìš©\n- `"tabWidth": 2,` - íƒ­ ë„ˆë¹„ ì„¤ì •\n- `"trailingComma": "all"` - ì—¬ëŸ¬ ì¤„ì¼ë•Œ ë§ˆì§€ë§‰ì— í›„í–‰ ì½¤ë§ˆ ì‚¬ìš©\n\n<br/><br/><br/>\n\n### `.eslintrc.json` ì„¤ì •\n\n- ì£¼ì„ì„¤ëª…ìˆëŠ” ë²„ì „\n\n```js:.eslintrc.json\n{\n  "root": true,\n  "parser": "@typescript-eslint/parser",\n  "plugins": ["@typescript-eslint", "prettier"],\n  "parserOptions": {\n    "project": "./tsconfig.json",\n    "createDefaultProgram": true\n  },\n  "env": { // ì „ì—­ê°ì²´ë¥¼ eslintê°€ ì¸ì‹í•˜ëŠ” êµ¬ê°„\n    "br/owser": true, // documentë‚˜ window ì¸ì‹ë˜ê²Œ í•¨\n    "node": true,\n    "es6": true\n  },\n  "ignorePatterns": ["node_modules/"], // eslint ë¯¸ì ìš©ë  í´ë”ë‚˜ íŒŒì¼ ëª…ì‹œ\n  "extends": [\n    "airbnb",\n    "airbnb-typescript",\n    "airbnb/hooks",\n    "next/core-web-vitals",\n    "plugin:@typescript-eslint/recommended", // ts ê¶Œì¥\n    "plugin:prettier/recommended" // eslintì˜ í¬ë§¤íŒ…ì„ prettierë¡œ ì‚¬ìš©.\n    "prettier" // eslint-config-prettier prettierì™€ ì¤‘ë³µëœ eslint ê·œì¹™ ì œê±°\n  ],\n  "rules": {\n    "react/react-in-jsx-scope": "off", // react 17ë¶€í„´ import ì•ˆí•´ë„ë¼ì„œ ê¸°ëŠ¥ ë”\n    // ê²½ê³ í‘œì‹œ, íŒŒì¼ í™•ì¥ìë¥¼ .tsë‚˜ .tsx ëª¨ë‘ í—ˆìš©í•¨\n    "react/jsx-filename-extension": ["warn", { "extensions": [".ts", ".tsx"] }],\n    "no-useless-catch": "off" // ë¶ˆí•„ìš”í•œ catch ëª»ì“°ê²Œ í•˜ëŠ” ê¸°ëŠ¥ ë”\n  }\n}\n```\n\n- rules\n  ë°°ì—´ì˜ ì²«ë²ˆì§¸ ê°’ì„ 0,1,2ë‚˜ "off", "warn", "error"ë¡œ ê·œì¹™ í‘œì‹œ\n\n## Error\n\n#### 1. `npm run lint` ì‹¤í–‰ ì‹œ ëœ¨ëŠ” ì—ëŸ¬ë‚´ìš©\n\n```bash\nError: "prettier/@typescript-eslint" has been merged\ninto "prettier" in eslint-config-prettier 8.0.0.\nSee: https://github.com/prettier/eslint-config-prettier/blob/main/CHANGELOG.md#version-800-2021-02-21\n```\n\n#### 2. ì›ì¸\n\nextendsì— `"prettier/@typescript-eslint"` ì†ì„± ë•Œë¬¸\në¸”ë¡œê·¸ê¸€ë“¤ ì°¸ê³ í•˜ë©´ì„œ í–ˆëŠ”ë° ì´ ì„¤ì • ìˆìœ¼ë©´ `npm run lint`ê°€ ì‹¤í–‰ì•ˆë¨\n\n#### 3. í•´ê²°ë°©ë²•\n\neslint-config-prettier ë²„ì „ 8ë¶€í„°\n`"prettier/@typescript-eslint"` ì†ì„±ì´ `"prettier"`ë¡œ ë³‘í•©ë¨\n\n- `prettier/@typescript-eslint`ë¥¼ extends ì„¤ì •ì—ì„œ ì œê±° í›„ `"prettier"` ì¶”ê°€\n  [ë²„ì „ 8ë¶€í„° ë³‘í•©ëœ ë‚´ìš© ê³µìœ í•œ ê¹ƒí—ˆë¸Œ ](https://github.com/prettier/eslint-config-prettier/blob/main/CHANGELOG.md#version-800-2021-02-21)\n  [perttier/@typescript-eslint ê°€ ì œê±°ëë‹¤ëŠ” ê¸€](https://stackoverflow.com/questions/65675771/eslint-couldnt-find-the-config-prettier-typescript-eslint-after-relocating)\n\n## `.eslintrc.json`\n\n- ì£¼ì„ ì—†ëŠ” ë²„ì „\n  ```js:.eslintrc.json\n  {\n    "root": true,\n    "parser": "@typescript-eslint/parser",\n    "plugins": ["@typescript-eslint", "prettier"],\n    "parserOptions": {\n      "project": "./tsconfig.json",\n      "createDefaultProgram": true\n    },\n    "env": {\n      "br/owser": true,\n      "node": true,\n      "es6": true\n    },\n    "ignorePatterns": ["node_modules/"],\n    "extends": [\n      "airbnb",\n      "airbnb-typescript",\n      "airbnb/hooks",\n      "next/core-web-vitals",\n      "plugin:@typescript-eslint/recommended",\n      "plugin:prettier/recommended",\n      "prettier"\n    ],\n    "rules": {\n      "react/react-in-jsx-scope": "off",\n      "react/jsx-props-no-spreading": 0,\n      "@typescript-eslint/semi": "off",\n      "react/jsx-filename-extension": ["warn", { "extensions": [".ts", ".tsx"] }],\n      "no-useless-catch": "off"\n    }\n  }\n  ```\n\n<br/><br/><br/><br/>\n\n# ì‹¤í–‰í•˜ê¸°\n\n> #### ì‹¤í–‰ ìˆœì„œ\n>\n> prettier(ì½”ë“œìŠ¤íƒ€ì¼ ìë™ì •ë¦¬) -> eslint(ê·œì¹™ê²€ì‚¬) -> ì½”ë“œ ìˆ˜ì •\n\n## 1. prettier ì‹¤í–‰\n\n- `npx prettier --write pages`\n  ![](https://velog.velcdn.com/images/xmun74/post/aa53cd56-3b27-4604-8014-271e34af2a92/image.png)\n\n## 2. eslint ì‹¤í–‰\n\n- `npm run lint`\n- ë§Œì•½ ë°‘ì²˜ëŸ¼ ì—ëŸ¬ê°€ ë‚œë‹¤ë©´ êµ¬ê¸€ë§í•´ì„œ `.eslintrc` rulesì—ì„œ í•´ë‹¹ ì†ì„±ì„ ë„ê±°ë‚˜ ì„¤ì •í•´ì£¼ë©´ ëœë‹¤.\n  ![](https://velog.velcdn.com/images/xmun74/post/f61cd481-12c1-4539-ac08-28dfbff020fe/image.png)\n- (ë‚œ ìœ„ì— `.eslintrc.json`ì—ì„œ í•´ë‹¹ ì†ì„±ë“¤ì„ ì„¤ì •í•´ë’€ë‹¤)\n  ![](https://velog.velcdn.com/images/xmun74/post/e4dedd9f-8ba4-403d-8aa7-bf4c646779c2/image.png)\n\n<br/><br/>\n\n---\n\n<br/><br/>\n\n# 3. huskyì™€ lint-stagedë¡œ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•˜ê¸°\n\n> git commití•  ë•Œ ë³€ê²½ëœ íŒŒì¼ë§Œ eslint, prettier ìë™ ì‹¤í–‰í•˜ê¸°\n\n### 1. husky\n\n- git hook(ì»¤ë°‹,í‘¸ì‹œ ë“±) ì œì–´í•˜ëŠ” npm ë¼ì´ë¸ŒëŸ¬ë¦¬\n- git commit ì‹œ eslint, prettier ì‹¤í–‰ ìë™í™”í•˜ê¸°\n\n### 2. lint-staged\n\n- stagedëœ íŒŒì¼ë§Œ íŠ¹ì • ëª…ë ¹ì–´ ì‹¤í–‰í•˜ëŠ” ë„êµ¬\n- commit ì‹œ ì „ì²´ê°€ ì•„ë‹ˆë¼ ë³€ê²½ëœ íŒŒì¼ë§Œ eslint, prettier ì‹¤í–‰í•˜ê¸°\n\n#### ì„¤ì¹˜í•˜ê¸°\n\n#### 1. [husky ê¶Œì¥ì„¤ì¹˜ ê³µì‹ë¬¸ì„œ](https://typicode.github.io/husky/#/?id=automatic-recommended)\n\n```bash\nnpx husky-init && npm install       # npm\nnpx husky-init && yarn              # Yarn 1\nyarn dlx husky-init --yarn2 && yarn # Yarn 2+\npnpm dlx husky-init && pnpm install # pnpm\n```\n\n- ì„¤ì¹˜í•˜ë©´ package.json ìˆ˜ì •ë¨, husky ì„¤ì¹˜ë¨, .husky/pre-commit ìƒì„±\n- ì„¤ì¹˜ í›„ package.jsonì— ì¶”ê°€ëœ ë¶€ë¶„\n\n  ```js:package.json\n    "scripts": {\n      //\n      "prepare": "husky install"\n    },\n  ```\n\n#### 2. lint-staged ì„¤ì¹˜\n\n```bash\nnpm i -D lint-staged\n```\n\n#### 3. package.jsonì— ëª…ë ¹ì–´ ì¶”ê°€í•˜ê¸°\n\në³€ê²½ëœ js,jsx,ts,tsx íŒŒì¼ë§Œ ë°‘ ëª…ë ¹ì–´ ì‹¤í–‰í•˜ê²Œ í•¨\n\n```js:package.json\n"lint-staged": {\n    "*.{js,jsx,ts,tsx}": [\n      "prettier --write",\n      "eslint --fix"\n    ]\n  }\n```\n\n#### 4. `.husky/pre-commit` ì— ëª…ë ¹ì–´ ì¶”ê°€ [(ì°¸ê³ )](https://github.com/okonet/lint-staged#examples)\n\n```bash\n#!/usr/bin/env sh\n. "$(dirname -- "$0")/_/husky.sh"\n\nnpx lint-staged # ì¶”ê°€\n\n```\n\n<br/><br/><br/><br/>\n\n# 4. styled-components ì„¤ì •\n\n#### ì„¤ì¹˜í•˜ê¸°\n\n```bash\nnpm i styled-components\nnpm i -D @types/styled-components  # ts ìœ„í•œ ì„¤ì¹˜\n```\n\n### 1. SSR ì„¤ì •í•˜ê¸°\n\n- ì²« í™”ë©´ ë Œë”ë§ ë•Œë„ css ì ìš©í•˜ê²Œ í•´ì£¼ê¸°\n- Next.jsì—ì„œ styled-componentsì— ëŒ€í•œ SSR ì¶”ê°€ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤\n\n> #### ğŸ”º ì˜›ë‚  ë°©ë²• (Next.js 12ë²„ì „ ì´í•˜)\n\n1. babel í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜\n\n```bash\nnpm i -D babel-plugin-styled-components\n```\n\n2. [`.babelrc` íŒŒì¼ ìƒì„± í›„ ì¶”ê°€](https://styled-components.com/docs/tooling#usage)\n\n```js\n{\n  "presets": ["next/babel"],\n  "plugins": [\n    [\n      "babel-plugin-styled-components",\n      {\n        "ssr": true,\n        "fileName": true,\n        "displayName": true,\n      }\n    ]\n  ]\n}\n```\n\n#### âœ… ìµœì‹ ë°©ë²• (Next.js 12 ë²„ì „ ì´ìƒ)\n\nnext ë²„ì „ 12ë¶€í„° ì»´íŒŒì¼ëŸ¬ì—ì„œ ë°”ë²¨ í”ŒëŸ¬ê·¸ì¸`babel-plugin-styled-components`ì„ í¬íŠ¸í•˜ê³  ìˆìŒ\nhttps://nextjs.org/docs/advanced-features/compiler#styled-components\n\n1. `next.config.js` ì— ì¶”ê°€ ì„¤ì •í•˜ê¸°\n\n```js:next.config.js\n/** @type {import(\'next\').NextConfig} */\nconst nextConfig = {\n  reactStrictMode: true,\n  compiler: {\n    // ì¶”ê°€\n    styledComponents: true, // ì¶”ê°€\n  },\n}\n\nmodule.exports = nextConfig\n```\n\n<br/>\n\n2. `pages/_document.tsx` ìˆ˜ì •\n\n- ì°¸ê³  - [next ê³µì‹ë¬¸ì„œ](https://nextjs.org/docs/advanced-features/custom-document#customizing-renderpage), [devê¸€](https://dev.to/sumukhakb210/using-styled-components-with-nextjs-12-and-typescript-in-2021-3439), [ì°¸ê³ ë¸”ë¡œê·¸](https://been.tistory.com/m/56)\n\n```tsx:pages/_document.tsx\nimport Document, {\n  Html,\n  Head,\n  Main,\n  NextScript,\n  DocumentContext,\n  DocumentInitialProps,\n} from \'next/document\'\nimport { ServerStyleSheet } from \'styled-components\'\n\nclass MyDocument extends Document {\n  static async getInitialProps(\n    ctx: DocumentContext,\n  ): Promise<DocumentInitialProps> {\n    const sheet = new ServerStyleSheet()\n    const originalRenderPage = ctx.renderPage\n\n    try {\n      ctx.renderPage = () =>\n        originalRenderPage({\n          enhanceApp: (App) => (props) =>\n            sheet.collectStyles(<App {...props} />),\n        })\n      const initialProps = await Document.getInitialProps(ctx)\n\n      return {\n        ...initialProps,\n        styles: (\n          <>\n            {initialProps.styles}\n            {sheet.getStyleElement()}\n          </>\n        ),\n      }\n    } finally {\n      sheet.seal()\n    }\n  }\n\n  render() {\n    return (\n      <Html>\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    )\n  }\n}\n\nexport default MyDocument\n```\n\n<br/><br/>\n\n- ssr ì ìš© ì „ ì†ŒìŠ¤ì½”ë“œì— css ì—†ìŒ\n  ![](https://velog.velcdn.com/images/xmun74/post/24654ab4-de3a-4ae6-a2d0-b00f6a27bcc7/image.png)\n- ssr ì ìš© í›„ ì†ŒìŠ¤ì½”ë“œì— cssê°€ í¬í•¨ë¨\n  ![](https://velog.velcdn.com/images/xmun74/post/614e5b02-77d1-4173-b3a2-87e4786a347a/image.png)\n\n<br/><br/>\n\n### 2. GlobalStyle, Theme ì ìš©í•˜ê¸°\n\n- `npm i styled-reset` - ê¸°ë³¸ìœ¼ë¡œ ì ìš©ë˜ëŠ” css ë¦¬ì…‹í•˜ëŠ” íŒ¨í‚¤ì§€ ì„¤ì¹˜\n\n```bash\nnpm i styled-reset\n```\n\n#### 1. GlobalStyle ì „ì—­ìŠ¤íƒ€ì¼ ì„¤ì •\n\n- `styles/GlobalStyle.ts` ìƒì„± ì˜ˆì‹œ\n\n```ts:styles/GlobalStyle.ts\nimport { createGlobalStyle } from \'styled-components\'\nimport reset from \'styled-reset\'\n\nconst GlobalStyle = createGlobalStyle`\n  ${reset}\n  * {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n  }\n  body {\n    height: 100%;\n  }\n  button {\n    cursor: pointer;\n    background-color: inherit;\n  }\n  a {\n    text-decoration:none;\n    color:inherit;\n  }\n`\nexport default GlobalStyle\n```\n\n#### 2. Theme ì ìš©í•˜ê¸°\n\n> - **Theme ì ìš© ë°©ë²•** (ì—¬ê¸°ì„  ì¼ë‹¨ ThemeProvider ì‚¬ìš©í•¨)\n\n1. ThemeProvider ì‚¬ìš©í•˜ê¸°\n2. CSS Variable ì‚¬ìš©í•˜ê¸°\n\n- `styles/theme.ts` ìƒì„± ì˜ˆì‹œ\n\n```ts\nimport { DefaultTheme } from \'styled-components\'\n\nexport const lightTheme: DefaultTheme = {\n  accent1: \'#f5fbfc\',\n  accent2: \'#f8c291\',\n  accent3: \'#d35400\',\n  text: \'#000000\',\n  bg1: \'#ffffff\',\n}\n\nexport const darkTheme: DefaultTheme = {\n  accent1: \'#121212\',\n  accent2: \'#bdc3c7\',\n  accent3: \'#2c3e50\',\n  text: \'#ffffff\',\n  bg1: \'#121212\',\n}\n```\n\n#### 3. `pages/_app.tsx` ì¶”ê°€\n\n```tsx\nimport type { AppProps } from \'next/app\'\nimport { useState } from \'react\'\nimport { RecoilRoot } from \'recoil\'\nimport { ThemeProvider } from \'styled-components\'\nimport GlobalStyle from \'../styles/GlobalStyle\'\nimport Layout from \'../components/Layout\'\nimport { darkTheme, lightTheme } from \'../styles/theme\'\n\nexport default function App({ Component, pageProps }: AppProps) {\n  return (\n    <RecoilRoot>\n      <ThemeProvider theme={darkTheme}>\n        <GlobalStyle />\n        <Component {...pageProps} />\n      </ThemeProvider>\n    </RecoilRoot>\n  )\n}\n```\n\n#### 4. `styles/styled.d.ts` ìƒì„±\n\ní…Œë§ˆ ë³€ìˆ˜ë“¤ì˜ íƒ€ì…ì„ ì„ ì–¸í•˜ëŠ” íŒŒì¼\n\n```ts:styles/styled.d.ts\nimport \'styled-components\'\n\ndeclare module \'styled-components\' {\n  export interface DefaultTheme {\n    accent1: string\n    accent2: string\n    accent3: string\n    text: string\n    bg1: string\n  }\n}\n```\n\n<br/><br/>\n\n---\n\n<br/><br/><br/><br/><br/>\n\n# ì°¸ê³ \n\n[ë°‘ë°”ë‹¥ë¶€í„° Next.js ê°œë°œ í™˜ê²½ êµ¬ì¶•í•˜ê¸° - All in One](https://leo-xee.github.io/Next/next-setup-allinone/)\nhttps://kbwplace.tistory.com/151\neslint ì˜µì…˜ ì„¤ëª… ì°¸ê³  - https://abangpa1ace.tistory.com/194\n[husky, lint-stagedë¡œ git commit ì „ì— eslint, prettier ì²´í¬í•˜ê¸°](https://kyounghwan01.github.io/blog/etc/husky/#husky-lint-staged-%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5)\n\në‹¤í¬ëª¨ë“œ ì°¸ê³ \n\n- [ë²¨ë¡œí¼íŠ¸ - ë²¨ë¡œê·¸ì— ë‹¤í¬ ëª¨ë“œ ì ìš©í•˜ê¸°](https://velog.io/@velopert/velog-dark-mode#%EB%8B%A4%ED%81%AC-%ED%85%8C%EB%A7%88-%EB%8F%84%EC%9E%85%EC%9D%84-%EC%9C%84%ED%95%9C-%EA%B8%B0%EC%88%A0%EC%A0%81%EC%9D%B8-%EC%A4%80%EB%B9%84)\n- [styled-components typscriptë¡œ ì„¸íŒ…í•˜ê¸°](https://kyounghwan01.github.io/blog/React/styled-components/styled-components-preset/#package-json-%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5)\n',
  },
  {
    slug: 'open-graph',
    title: 'NextJSë¡œ ë§Œë“  ë¸”ë¡œê·¸ ì´ì˜ê²Œ ê³µìœ í•˜ê¸° - Open Graph',
    content:
      '\n#### ì •ë³´ê°€ ì—†ëŠ” ë¯¸ë¦¬ë³´ê¸°\n\n![230314-185422](/images/posts/open-graph/230314-185422.png)\në§Œì•½ ìœ„ì²˜ëŸ¼ ë¸”ë¡œê·¸ë¥¼ ê³µìœ í–ˆëŠ”ë°\nì•„ë¬´ëŸ° ì •ë³´ê°€ ì—†ê³  ë­í•˜ëŠ” ì‚¬ì´íŠ¸ì¸ì§€ë„ ëª¨ë¥´ê² ë‹¤ë©´?\në§í¬ ëˆ„ë¥´ê¸°ê°€ ì‹«ì–´ì§„ë‹¤...\n\n<br></br>\n\n#### ì •ë³´ê°€ í’ë¶€í•œ ë¯¸ë¦¬ë³´ê¸°\n\n![230314-185428](/images/posts/open-graph/230314-185428.png)\nì´ë²ˆì—” ìœ„ì²˜ëŸ¼ SNSì— ë¸”ë¡œê·¸ ë§í¬ë¥¼ ê³µìœ í• ë•Œ\nì¢€ ë” ì´ì˜ë©´ì„œ ì •ë³´ë„ í’ë¶€í•˜ê²Œ ë¯¸ë¦¬ë³¼ ìˆ˜ ìˆë‹¤ë©´?\në³´ëŠ” ì‚¬ëŒë“¤ë„ ê¶ê¸ˆí•´ì„œ ë§í¬ë¥¼ í´ë¦­í•  ê²ƒì´ë‹¤!\n\n<br></br><br></br>\n\n# Open Graph\n\në§í¬ë¥¼ ê³µìœ í–ˆì„ ë•Œ ì •ë³´ë¥¼ í‘œì‹œí•´ì£¼ëŠ” open graphë¥¼ ì ìš©í•´ë³´ì!\nOpen GraphëŠ” í†µì¼ëœ ë©”íƒ€ë°ì´í„°ë¥¼ ì‘ì„±í•˜ë„ë¡ ì •ì˜í•œ ê·œì•½ì´ë‹¤. Facebook, TwitterëŠ” ìì²´ í”„ë¡œí† ì½œì„ ê°€ì§€ê³  ìˆë‹¤.\nìì„¸í•œ ë©”íƒ€ë°ì´í„° ë° ì†ì„±ì€ [Open Graph Protocol](https://ogp.me/)ë¥¼ ì°¸ê³ í•˜ë©´ ëœë‹¤.\n\n<br></br>\n\n## og ë©”íƒ€ë°ì´í„° ì‘ì„±í•˜ê¸°\n\n`next-seo` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ë„ ë˜ì§€ë§Œ ë³µì¡í•œ ì‚¬ì´íŠ¸êµ¬ì¡°ê°€ ì•„ë‹ˆë¼ê³  íŒë‹¨í•˜ì—¬ ì§ì ‘ `meta`íƒœê·¸ë¥¼ ì‘ì„±í–ˆë‹¤.\n\n- ê¸°ë³¸ ë©”íƒ€ë°ì´í„° ì˜ˆì‹œ\n  ë°‘ì˜ 4ê°€ì§€ ì†ì„±ì€ í•„ìˆ˜ë¡œ ì‘ì„±í•´ì•¼í•˜ëŠ” ì†ì„±ì´ë‹¤.\n\n```html\n<head>\n  <meta property="og:title" content="The Rock" />\n  <meta property="og:type" content="video.movie" />\n  <meta property="og:url" content="https://www.imdb.com/title/tt0117500/" />\n  <meta\n    property="og:image"\n    content="https://ia.media-imdb.com/images/rock.jpg"\n  />\n  ...\n</head>\n```\n\n- ë¸”ë¡œê·¸ì— ì ìš©í•œ ì½”ë“œ\n\n```tsx\n<Head>\n  {/* HTML Meta Tags */}\n  <title>{`${post?.title} | ${pageConfig.title}`}</title>\n  <meta name="description" content={`${pageConfig.title}`} />\n  <meta name="viewport" content="width=device-width, initial-scale=1" />\n\n  {/* Facebook Meta Tags */}\n  <meta\n    property="og:url"\n    content={`https://xmunt.vercel.app/blog/${post?.slug}`}\n  />\n  <meta property="og:type" content="website" />\n  <meta\n    property="og:site_name"\n    content={`${post?.title} | ${pageConfig.title}`}\n  />\n  <meta property="og:title" content={`${post?.title} | ${pageConfig.title}`} />\n  <meta property="og:description" content={post?.description} />\n  <meta property="og:image" content={`${DOMAIN}${post?.coverImage}`} />\n\n  {/* Twitter Meta Tags */}\n  <meta name="twitter:card" content="summary_large_image" />\n  <meta property="twitter:domain" content="xmunt.vercel.app" />\n  <meta\n    property="twitter:url"\n    content={`https://xmunt.vercel.app/blog/${post?.slug}`}\n  />\n  <meta name="twitter:title" content={`${post?.title} | ${pageConfig.title}`} />\n  <meta name="twitter:description" content={post?.description} />\n  <meta name="twitter:image" content={`${pageConfig.siteImg}`} />\n  <meta name="twitter:label1" content="Category" />\n  <meta name="twitter:data1" content={`${post?.category}`} />\n</Head>\n```\n\n#### ì§ì ‘ ë©”íƒ€íƒœê·¸ í•˜ë‚˜í•˜ë‚˜ ì‘ì„±í•˜ëŠ”ê²Œ ë²ˆê±°ë¡­ë‹¤ë©´?\n\n[Open Graph prewiew & generate](https://www.opengraph.xyz/url/https%3A%2F%2Fxmunt.vercel.app%2F) ì´ ì‚¬ì´íŠ¸ì—ì„œëŠ” ë©”íƒ€ë°ì´í„°ê°€ ì ìš©ëëŠ”ì§€ ê° SNS ë³„ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ë³¼ ìˆ˜ ìˆê³ , ì†ì„±ì„ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ë©”íƒ€íƒœê·¸ ìƒì„±ë„ í•´ì¤€ë‹¤.\n\n<br></br><br></br>\n\n# ë¬¸ì œ: ì¹´ì¹´ì˜¤í†¡ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸ê°€ ì•ˆë  ë•Œ\n\n### ìƒí™©\n\në¶„ëª…íˆ `meta` íƒœê·¸ ë‹¤ ì ìš©í•´ì„œ ë°°í¬í–ˆê³  ë‹¤ë¥¸ ì‚¬ì´íŠ¸ë“¤ì—ì„  ì˜ ì ìš©ë˜ëŠ”ë°\nì¹´í†¡ì—ì„œë§Œ,, ê³„ì† ogê°€ ì ìš©ì•ˆëœ ë¯¸ë¦¬ë³´ê¸°ê°€ ë³´ì˜€ì—ˆë‹¤!\n\n![230314-185422](/images/posts/open-graph/230314-185422.png)\n\n### ì›ì¸\n\n- ìºì‹œê°€ ë¬¸ì œ!\n- og `meta`íƒœê·¸ë¥¼ ì•ˆ ë„£ì—ˆì„ ë•Œ ì´ë¯¸ ì¹´í†¡ì— url ê³µìœ ë¥¼ í–ˆì—ˆë˜ ê²ƒ!\n- pc, ëª¨ë°”ì¼ì—ì„œ ì´ë¯¸ ì „ì— url ê³µìœ ë¥¼ í–ˆì—ˆì–´ì„œ í•´ë‹¹ url ìºì‹œê°€ ë‚¨ì•„ìˆì–´ì„œ ê·¸ ì „ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ë¶ˆëŸ¬ì™”ë˜ ê²ƒì´ì—ˆë‹¤.\n\n### í•´ê²°\n\nì´ëŸ´ ë•ŒëŠ” ì¹´ì¹´ì˜¤í†¡ ìºì‹œë¥¼ ì‚­ì œí•˜ë©´ ëœë‹¤! ìºì‹œ ì‚­ì œ í›„ ogê°€ ë°˜ì˜ëœ ë¯¸ë¦¬ë³´ê¸°ë¡œ ì˜ ë³´ì—¬ì¡Œë‹¤!\n\n#### PC ìºì‹œ ì‚­ì œí•˜ê¸°\n\n[ì¹´ì¹´ì˜¤ ê³µìœ  ë””ë²„ê±°](https://developers.kakao.com/tool/debugger/sharing)ì—ì„œ URL ì…ë ¥ í›„ ìºì‹œ ì´ˆê¸°í™”\n\n#### ëª¨ë°”ì¼ ìºì‹œ ì‚­ì œí•˜ê¸°\n\nì¹´í†¡ í•˜ë‹¨ ë§¨ ì˜¤ë¥¸ìª½ `...`ì„¤ì •íƒ­ - ë§¨ ì•„ë˜ ì•± ê´€ë¦¬ - ì €ì¥ê³µê°„ ê´€ë¦¬ - ìºì‹œ ë°ì´í„° ì‚­ì œ(ì‚¬ì§„,ë™ì˜ìƒ,ìŒì„±íŒŒì¼ì€ ìœ ì§€ë¨)\n',
  },
  {
    slug: 'optimization-01',
    title: 'ë¹Œë“œ ì†ë„ ìµœì†Œí™”? ê·¼ë° ì´ì œ Webpackê³¼ Reactì„ ê³ë“¤ì¸',
    content:
      "\n> í”„ë¡œì íŠ¸ê°€ ì»¤ì§ˆ ìˆ˜ë¡ ë²ˆë“¤ í¬ê¸°ëŠ” ë¬´ê±°ì›Œì§€ê³  ë¹Œë“œ ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì²« í˜ì´ì§€ì— ì§„ì…í•  ë•Œ ëŠë¦° ì´ˆê¸° ë¡œë”©ì„ ê²½í—˜í•˜ì§€ ì•Šê²Œ í•˜ê¸° ìœ„í•´ì„œ Webpackê³¼ Reactë¥¼ í™œìš©í•˜ì—¬ ì½”ë“œë¥¼ ë¶„í• í•˜ê³  ë¹Œë“œ ì†ë„ë¥¼ ê°œì„ í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n<br /><br />\n\n### ğŸ•– ë¹Œë“œ ì‹œê°„ ì¸¡ì •í•˜ê¸°\n\n- [speed-measure-webpack-plugin](https://github.com/stephencookdev/speed-measure-webpack-plugin)ë¡œ Webpack loaderì™€ pluginì˜ ë¹Œë“œ ì†ë„ë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì‚¬ìš© ì˜ˆì‹œ\n  ```js\n  // webpack.common.js\n  const SpeedMeasurePlugin = require('speed-measure-webpack-plugin')\n  const smp = new SpeedMeasurePlugin()\n  const webpackConfig = smp.wrap({\n    plugins: [\n      //...\n    ],\n  })\n  ```\n\n### ğŸ“ ë²ˆë“¤ í¬ê¸° ë¶„ì„í•˜ê¸°\n\n- [webpack-bundle-analyzer](https://github.com/webpack-contrib/webpack-bundle-analyzer)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë²ˆë“¤ í¬ê¸°ë¥¼ ë¶„ì„í–ˆìŠµë‹ˆë‹¤.\n- ì‚¬ìš© ì˜ˆì‹œ\n\n  ```js\n  // webpack.production.js\n  const BundleAnalyzerPlugin =\n    require('webpack-bundle-analyzer').BundleAnalyzerPlugin\n  const { merge } = require('webpack-merge')\n  const common = require('./webpack.common.js')\n\n  module.exports = merge(common, {\n    mode: 'production',\n    plugins: [\n      new BundleAnalyzerPlugin({\n        openAnalyzer: true, // ë³´ê³ ì„œë¥¼ ë¸Œë¼ìš°ì €ë¡œ ìë™ ì˜¤í”ˆ\n      }),\n    ],\n    //...\n  })\n  ```\n\n### Webpack ê°œë°œ ëª¨ë“œ ì°¸ê³ ì‚¬í•­\n\n1. devtool : ì›¹íŒ© ê³µì‹ ë¬¸ì„œì—ì„œëŠ” `eval-cheap-module-source-map` ì„ ê¶Œì¥\n2. ì œì™¸í•´ì•¼ í•  í”ŒëŸ¬ê·¸ì¸\n   ì™œëƒí•˜ë©´ ê°œë°œ ëª¨ë“œì¼ë•ŒëŠ” ë¹Œë“œ ì†ë„ê°€ ë¹ ë¥´ê³  ë””ë²„ê¹…í•˜ê¸° ì‰¬ì›Œì•¼í•˜ê¸° ë•Œë¬¸ì— ì••ì¶• ë“± ìµœì í™” ì‘ì—…ì´ ë¶ˆí•„ìš”í•©ë‹ˆë‹¤.\n   - TerserPlugin\n   - [fullhash]/[chunkhash]/[contenthash]\n   - AggressiveSplittingPlugin\n   - AggressiveMergingPlugin\n   - ModuleConcatenationPlugin\n\n<br /><br />\n\n---\n\n<br /><br />\n\n# ë¹Œë“œ ì‹œê°„ ìµœì í™” ë°©ë²•\n\ndevelopment ëª¨ë“œì—ì„œëŠ” ë¹ ë¥¸ ë¹Œë“œ ì†ë„ì™€ ë””ë²„ê¹…ì´ í¸í•˜ê¸° ìœ„í•´ íŒŒì¼ì••ì¶• ë“±ì˜ ìµœì í™” ì‘ì—…ì´ ë¶ˆí•„ìš”í•˜ì§€ë§Œ, production ëª¨ë“œì¼ ë•ŒëŠ” ë²ˆë“¤ í¬ê¸°ë¥¼ ì¤„ì—¬ì•¼í•˜ê¸° ë•Œë¬¸ì— ì••ì¶•(Minify), ë‚œë…í™” ë“±ì˜ ìµœì í™” ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ë²ˆë“¤ í¬ê¸°ë¥¼ ì¤„ì´ê±°ë‚˜ ë¹Œë“œ ì†ë„ë¥¼ ìµœì í™”í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\n<br />\n\n> **ì••ì¶•(Minify)**\n> : ê³µë°±/ë“¤ì—¬ì“°ê¸°, ì£¼ì„, debugger, console.log ë“±ì„ ì œê±°í•˜ëŠ” ì‘ì—…\n> **ë‚œë…í™”(Uglify)**\n> : ê¸°ì¡´ ë³€ìˆ˜ëª…, í•¨ìˆ˜ëª…ì„ ë‹¤ë¥´ê²Œ ì¹˜í™˜í•˜ëŠ” ë³´ì•ˆ ì²˜ë¦¬ ì‘ì—…. ë‚œë…í™” ë‹¨ê³„ê°€ ë†’ì„ ìˆ˜ë¡ ì½”ë“œë¥¼ í•´ì„í•˜ê³  ì‹¤í–‰í•˜ëŠ” ì‹œê°„ì´ ëŠ˜ì–´ë‚œë‹¤.\n\n <br />\n\n1. ë¶ˆí•„ìš”í•œ loader, plugin ì œê±°\n2. loader êµì²´í•˜ê¸°\n3. Code Splitting\n\n<br /><br />\n\n## 1. ë¶ˆí•„ìš”í•œ loader, plugin ì œê±°\n\n#### Webpack v5ë¶€í„° ì¶”ê°€ëœ Asset ëª¨ë“ˆ ìœ í˜• ì‚¬ìš©í•˜ê¸°\n\nv5 ì´ì „ê¹Œì§„ `file-loader`, `url-loader`, `raw-loader`ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ, v5 ì´í›„ë¶€í„° ì´ loaderë“¤ì„ ëŒ€ì²´í•˜ê¸° ìœ„í•œ ëª¨ë“ˆ ìœ í˜•ì´ ì¶”ê°€ëìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë¶ˆí•„ìš”í•´ì§„ loaderë“¤ì„ ì œê±°í•˜ê³  ìµœì†Œí•œìœ¼ë¡œ loaderë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ëìŠµë‹ˆë‹¤.\n\n- [Asset Modules](https://webpack.kr/guides/asset-modules/)\n  - asset/resource : file-loader ëŒ€ì²´\n  - asset/inline : url-loader ëŒ€ì²´\n  - asset/source : raw-loader ëŒ€ì²´\n- ì‚¬ìš©ì˜ˆì‹œ\n  ```js\n  module: {\n      rules: [\n        {\n          test: /\\.(png|jpe?g|gif|ico|webp)$/,\n          type: 'asset/resource',\n          generator: {\n            filename: 'images/[hash][ext][query]',\n          },\n        },\n      ],\n    },\n  ```\n\n<br />\n\n## 2. loader êµì²´í•˜ê¸°\n\n#### íŠ¸ëœìŠ¤íŒŒì¼ loader êµì²´í•˜ê¸°\n\nì œì¼ ì²˜ìŒì—ëŠ” `babel-loader`ë¥¼ ì‚¬ìš©í–ˆì—ˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ íŒŒì¼ ì••ì¶• í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜ ì•ˆí–ˆì„ ë•Œ ë¹Œë“œ ì†ë„ê°€ 4.6sì˜€ê¸° ë•Œë¬¸ì— í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€ ì„¤ì¹˜í•œë‹¤ë©´ ì†ë„ê°€ ëŠ˜ì–´ë‚  ê²ƒìœ¼ë¡œ ì˜ˆìƒëìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì•„ì˜ˆ loaderë¥¼ êµì²´í•´ ë¹Œë“œ ì†ë„ë¥¼ ì¤„ì´ê³ ì í–ˆìŠµë‹ˆë‹¤.\nloader ì¢…ë¥˜ë¡œëŠ” `babel-loader`, `ts-loader`, `esbuild-loader`, `swc-loader` ë“±ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì¤‘ ì•ì„  3ê°œ ë¡œë”ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n<br />\n\n#### 1. `babel-loader` - 4.6s ì†Œìš”ë¨ (í”ŒëŸ¬ê·¸ì¸ ë¯¸ì„¤ì¹˜ ê¸°ì¤€)\n\n- ì••ì¶• í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€ ì„¤ì¹˜ í•„ìš”\n  `terser-webpack-plugin` : JS ì¶•ì†Œ í”ŒëŸ¬ê·¸ì¸(webpack v5 ì´ìƒì´ë©´ ë‚´ì¥ë˜ì–´ ìˆì–´ì„œ ì¶”ê°€ ì„¤ì¹˜ ë¶ˆí•„ìš”)\n  `css-minimizer-webpack-plugin` : CSS ì¶•ì†Œ í”ŒëŸ¬ê·¸ì¸\n\n#### 2. `ts-loader`\n\n- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© ì‹œ\n- í•œê³„ì  : íƒ€ì… ê²€ì‚¬í•˜ëŠ” ì‹œê°„ ë•Œë¬¸ì— ë¹Œë“œ ì†ë„ê°€ ì €í•˜ë¨\n- í•œê³„ì  ë³´ì™„í•˜ê¸° ìœ„í•´ `forkTsCheckerWebpackPlugin` ì„¤ì¹˜ í•„ìš”\n- `forkTsCheckerWebpackPlugin`\n  : ë³„ë„ì˜ ìŠ¤ë ˆë“œì—ì„œ íƒ€ì… ê²€ì‚¬ ì§„í–‰í•˜ë¯€ë¡œ ë¹Œë“œ ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\n  - `transpileOnly: true` ì˜µì…˜ í™œì„±í™”í•´ì„œ `ts-loader`ì˜ íƒ€ì… ê²€ì‚¬ë¥¼ í•´ì œí•˜ê³  íŠ¸ëœìŠ¤íŒŒì¼ë§ë§Œ ìˆ˜í–‰í•˜ê²Œ í•©ë‹ˆë‹¤.\n    í•´ë‹¹ ì˜µì…˜ì€ `forkTsCheckerWebpackPlugin`ì„ ì‚¬ìš©í•œë‹¤ë©´\n    `transpileOnly: true` ì˜µì…˜ì´ ìë™ í™œì„±í™”ë˜ì–´ìˆì§€ë§Œ\n    `ts-loader` v9.3.0 ë¯¸ë§Œì´ë¼ë©´ ì˜µì…˜ì„ í™œì„±í™”ì‹œì¼œì¤˜ì•¼ í•©ë‹ˆë‹¤.\n  - ì˜ˆì‹œ\n  ```js\n  const ForkTsCheckerWebpackPlugin = require('fork-ts-checker-webpack-plugin')\n  //...\n  module.exports = {\n    // ...\n    module: {\n      rules: [\n        {\n          test: /.([cm]?ts|tsx)$/,\n          loader: 'ts-loader',\n          options: {\n            transpileOnly: true, // ts-loader v9.3.0 ë¯¸ë§Œ ì‹œ ì˜µì…˜ í™œì„±í™”\n          },\n        },\n      ],\n    },\n    plugins: [\n      new ForkTsCheckerWebpackPlugin(),\n      // ...\n    ],\n  }\n  ```\n\n#### 3. `esbuild-loader` - âœ… ì„ íƒ 2.1s ì†Œìš”ë¨\n\n- ì••ì¶• í”ŒëŸ¬ê·¸ì¸ì´ ë‚´ì¥ë˜ì–´ ì¶”ê°€ ì„¤ì¹˜ ë¶ˆí•„ìš”\n  `EsbuildPlugin` - JS ì¶•ì†Œ í”ŒëŸ¬ê·¸ì¸\n- ì‚¬ìš© ì¤‘ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í˜¸í™˜ì´ ì•ˆë  ìˆ˜ ìˆì–´ì„œ ë¸Œë¼ìš°ì €ì—ì„œ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸ í•„ìš”\n- íƒ€ì… ê²€ì‚¬ë¥¼ ìœ„í•´ì„œ build scriptì— tsc ì¶”ê°€\n  ```json\n  //package.json ì˜ˆì‹œ\n  \"typecheck\": \"tsc --noEmit\",\n  \"build\": \"npm run typecheck && webpack\"\n  ```\n\n> ### esbuild ë€?\n>\n> esbuildëŠ” ì°¨ì„¸ëŒ€ ë²ˆë“¤ëŸ¬ë¡œ webpack5ë³´ë‹¤ ë¹ ë¥¸ ì†ë„ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. [(esbuildê°€ ë¹ ë¥¸ ì´ìœ  - esbuild ê³µì‹ë¬¸ì„œ)](https://esbuild.github.io/faq/) > ![](https://velog.velcdn.com/images/xmun74/post/19ce4ad4-cc92-4554-bda1-b3b7f10e101a/image.png)\n> ì´ë ‡ê²Œë‚˜ ë¹ ë¥¸ë° esbuildë¥¼ ë²ˆë“¤ëŸ¬ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ìœ ê°€ ìˆìŠµë‹ˆë‹¤!\n> ì•„ì§ê¹Œì§„ ì•ˆì •í™”ëœ ë‹¨ê³„ê°€ ì•„ë‹Œ ì ê³¼ ì£¼ì˜í•  ì‚¬í•­ìœ¼ë¡œ Hot-module reloading, TypeScript íƒ€ì… ê²€ì‚¬ ë“±ì˜ ê¸°ëŠ¥ ì§€ì›ì€ ì•ìœ¼ë¡œ ì—†ë‹¤ê³  í•©ë‹ˆë‹¤.[(ì°¸ê³ )](https://esbuild.github.io/faq/#upcoming-roadmap)\n> ê·¸ëŸ°ë° esbuildëŠ” `esbuild-loader`ë¥¼ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— webpackì˜ loaderì™€ ê²°í•©í•  ìˆ˜ ìˆì–´ì„œ webpackì˜ ë¹Œë“œ ì„±ëŠ¥ì„ ê°œì„ í•˜ëŠ” ë° í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<br /><br />\n\n### âœ… esbuild-loader ì ìš© ì˜ˆì‹œ\n\n- webpack.common.js\n\n```js\n/* eslint-disable @typescript-eslint/no-var-requires */\nconst path = require('path')\nconst dotenv = require('dotenv')\nconst HtmlWebpackPlugin = require('html-webpack-plugin')\nconst SpeedMeasurePlugin = require('speed-measure-webpack-plugin')\nconst webpack = require('webpack')\n\nconst smp = new SpeedMeasurePlugin() // ë¹Œë“œì†ë„ ì¸¡ì • í”ŒëŸ¬ê·¸ì¸\n\ndotenv.config()\nmodule.exports = smp.wrap({\n  entry: `${path.resolve(__dirname, './src')}/index.tsx`,\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: '[name].[contenthash].bundle.js',\n    chunkFilename: '[name].[contenthash].chunk.bundle.js',\n    clean: true,\n    publicPath: '/',\n  },\n  resolve: {\n    extensions: ['.js', '.jsx', '.ts', '.tsx'],\n    alias: {\n      '@': path.resolve(__dirname, 'src'),\n    },\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.[jt]sx?$/,\n        exclude: /node_modules/,\n        loader: 'esbuild-loader', //esbuild-loaderë¡œ êµì²´\n        options: {\n          target: 'es2015',\n        },\n      },\n      {\n        test: /\\.(png|jpe?g|gif|ico|webp)$/,\n        type: 'asset/resource',\n        generator: {\n          filename: 'images/[hash][ext][query]',\n        },\n      },\n      {\n        test: /\\.css?$/,\n        exclude: [],\n        use: ['style-loader', 'css-loader', 'postcss-loader'],\n      },\n      {\n        test: /\\.svg$/i,\n        issuer: /\\.[jt]sx?$/,\n        use: ['@svgr/webpack'],\n      },\n    ],\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      template: path.resolve(__dirname, './public/index.html'),\n      favicon: './public/favicons/favicon.ico',\n    }),\n    new webpack.EnvironmentPlugin(['API_URL', 'USER_IMG_FIELD', 'CLIENT_URL']),\n  ],\n})\n```\n\n- webpack.dev.js\n\n```js\n/* eslint-disable @typescript-eslint/no-var-requires */\nconst { merge } = require('webpack-merge')\nconst common = require('./webpack.common.js')\n\nmodule.exports = merge(common, {\n  mode: 'development',\n  devtool: 'eval-cheap-module-source-map',\n  devServer: {\n    port: 3000,\n    open: true, // ê°œë°œ ì„œë²„ ì‹¤í–‰í•˜ë©´ ë¸Œë¼ìš°ì € ìë™ ì˜¤í”ˆ\n    // hot: true, // HMR(Hot Module Replacement) ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•¨. 4ë²„ì „ë¶€í„° ìë™ í™œì„±í™”ë¨.\n    historyApiFallback: true, //spaì—ì„œ react-router-dom ì‚¬ìš©í•  ë•Œ 404ì—ëŸ¬ ë°œìƒ ë°©ì§€\n    compress: true, // gzip ì••ì¶•\n  },\n  optimization: {\n    minimize: false, // Terser ì••ì¶• í”ŒëŸ¬ê·¸ì¸ ë¹„í™œì„±í™”\n  },\n})\n```\n\n- webpack.prod.js\n\n```js\n/* eslint-disable @typescript-eslint/no-var-requires */\nconst { EsbuildPlugin } = require('esbuild-loader')\nconst BundleAnalyzerPlugin =\n  require('webpack-bundle-analyzer').BundleAnalyzerPlugin\nconst { merge } = require('webpack-merge')\nconst common = require('./webpack.common.js')\n\nmodule.exports = merge(common, {\n  mode: 'production',\n  plugins: [\n    new BundleAnalyzerPlugin({\n      openAnalyzer: true, //ë²ˆë“¤ ë³´ê³ ì„œë¥¼ ë¸Œë¼ìš°ì €ë¡œ ìë™ ì˜¤í”ˆ\n    }),\n  ],\n  optimization: {\n    minimizer: [\n      // EsbuildPluginìœ¼ë¡œ JS ì¶•ì†Œ\n      new EsbuildPlugin({\n        target: 'es2015',\n        css: true, // CSS assets ì¶•ì†Œ\n      }),\n    ],\n  },\n})\n```\n\n<br /><br />\n\n### ë¡œë” êµì²´ ì „/í›„ ë¹Œë“œ ì†ë„ ë¹„êµ\n\n- `babel-loader`ì¼ ë•Œ `speed-measure-webpack-plugin`ìœ¼ë¡œ ë¹Œë“œ ì‹œê°„ì„ ì¸¡ì •í•œ ê²°ê³¼ 4.65s ì†Œìš”\n  ![](https://velog.velcdn.com/images/xmun74/post/bbffbbbc-7bc1-4b2b-a988-d9518690a38b/image.png)\n- `esbuild-loader`ë¡œ ë³€ê²½ í›„ 2.12së¡œ **ì•½ 2ì´ˆ ê°ì†Œ**\n  ![](https://velog.velcdn.com/images/xmun74/post/3f624ea8-8f5d-4360-8f84-12a9fe4a4a83/image.png)\n\n<br /><br /><br /><br />\n\n## 3. Code-Splitting\n\nì—¬ëŸ¬ ê°œì˜ íŒŒì¼ë“¤ì„ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ ë²ˆë“¤ë§í•˜ë‹¤ë³´ë‹ˆ ìš©ëŸ‰ì´ ì»¤ì§€ê²Œ ë©ë‹ˆë‹¤.\nì´ë¡œ ì¸í•´ SPAì¼ ë•Œ ì‚¬ìš©ìê°€ ì²« í˜ì´ì§€ì— ì§„ì…í•˜ë©´ ëª¨ë“  ì½”ë“œê°€ í¬í•¨ëœ ëŒ€ìš©ëŸ‰ì˜ íŒŒì¼ì„ ë‹¤ìš´ë°›ë‹¤ë³´ë‹ˆ ì´ˆê¸° ë¡œë“œ ì‹œê°„ì´ ê¸¸ì–´ì§€ëŠ” ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.\në•Œë¬¸ì— ì‚¬ìš©ìì™€ì˜ ìƒí˜¸ì‘ìš©ì´ ëŠ¦ì–´ì§€ê²Œ ë˜ì–´ ì‚¬ìš©ì ê²½í—˜ì„ ì €í•˜ì‹œí‚¤ê²Œ ë©ë‹ˆë‹¤.\nì´ˆê¸° ë¡œë“œ ì‹œê°„ì´ ê¸¸ì–´ì§€ë©´ ì‚¬ìš©ì ì´íƒˆì´ ì¦ê°€í•˜ê¸° ë•Œë¬¸ì— ì´ˆê¸° ë Œë”ë§ ì‹œê°„ì„ ë‹¨ì¶•í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.\n<br />\në”°ë¼ì„œ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Code-Splittingì´ ë‚˜íƒ€ë‚˜ê²Œ ëìŠµë‹ˆë‹¤.\nëŒ€ìš©ëŸ‰ì¸ í•˜ë‚˜ì˜ ë²ˆë“¤ë§ íŒŒì¼ì„ ì—¬ëŸ¬ ê°œì˜ íŒŒì¼ë¡œ ë¶„í• í•˜ëŠ” ì‘ì—…ì…ë‹ˆë‹¤.\nì´ë ‡ê²Œ ì½”ë“œ ë¶„í• í•œ ë’¤ ì‚¬ìš©ìê°€ ì²« í˜ì´ì§€ì— ì§„ì… ì‹œ í•„ìš”í•œ ì½”ë“œë§Œ ë¶ˆëŸ¬ì˜¤ë©´ ë˜ê¸° ë•Œë¬¸ì— ì¢‹ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\n<br />\nCode-Splittingì„ ë‘ê°€ì§€ë¡œ ë‚˜ëˆ ì„œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n<br />\n\n1. [Webpackìœ¼ë¡œ ì½”ë“œ ë¶„í• í•˜ê¸°](https://webpack.kr/guides/code-splitting/)\n2. React lazyë¡œ íŠ¹ì • ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„í• í•˜ê³  ë™ì  importí•˜ê¸°\n\n<br /><br />\n\n### 1. Webpackìœ¼ë¡œ ì½”ë“œ ë¶„í• í•˜ê¸°\n\n#### ì²­í¬ ë¶„í• í•˜ê¸°\n\n- optimizationì˜ `splitChunks`\n  : í° ë²ˆë“¤ì„ ì‘ì€ ë²ˆë“¤ë¡œ ë¶„ë¦¬í•˜ì—¬ ë¡œë”© ì†ë„ ê°œì„ í•˜ëŠ” ì‘ì—…\n  ```js\n  module.exports = {\n    output: {\n      path: path.resolve(__dirname, 'dist'),\n      filename: '[name].bundle.js',\n    },\n    optimization: {\n      splitChunks: {\n        chunks: 'all', // ëª¨ë“  ìœ í˜•ì˜ ì²­í¬ í¬í•¨\n      },\n    },\n  }\n  ```\n- ë¦¬ì•¡íŠ¸ ê´€ë ¨ íŒ¨í‚¤ì§€ë¼ë¦¬ ëª¨ì•„ì„œ ë¶„ë¦¬í•˜ê¸°\n  ë¦¬ì•¡íŠ¸ë¥¼ í”„ë¡œì íŠ¸ ê±°ì˜ ëª¨ë“  ê³³ì—ì„œ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ë³„ë„ì˜ ë²ˆë“¤ë¡œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤. ì´ˆê¸°ì— ë¦¬ì•¡íŠ¸ ë²ˆë“¤ + main ë²ˆë“¤ì„ ë‹¤ìš´ë°›ê³ ë‚˜ì„œ ì—…ë°ì´íŠ¸ë¥¼ í•˜ë©´ ë¦¬ì•¡íŠ¸ ë²ˆë“¤ì„ ë‹¤ì‹œ ë‹¤ìš´ ì•ˆë°›ê¸° ìœ„í•´ì„œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.\n  ```js\n  optimization: {\n      splitChunks: {\n        chunks: 'all', // ë¦¬ì•¡íŠ¸ ì™¸ ê²ƒë“¤ ë¶„ë¦¬\n        // ë¦¬ì•¡íŠ¸ ê´€ë ¨ íŒ¨í‚¤ì§€ë“¤ì„ ë²ˆë“¤ë¡œ ë¬¶ì–´ì„œ ë¶„ë¦¬\n        cacheGroups: {\n          reactVendor: { // ì½”ë“œë¶„í• í•˜ëŠ” ê·¸ë£¹ëª… ì§€ì •\n            // ì •ê·œ í‘œí˜„ì‹ìœ¼ë¡œ ëª¨ë“ˆ ë¶„ë¦¬ ëŒ€ìƒ ì§€ì •\n            test: /[\\\\/]node_modules[\\\\/](react|react-dom|react-router-dom)[\\\\/]/,\n            name: 'vendor-react', // ì¶œë ¥ë  ë²ˆë“¤ íŒŒì¼ëª…\n            chunks: 'all', // ëª¨ë“  ìœ í˜•ì˜ ì²­í¬ì—ì„œ í•´ë‹¹ íŒ¨í‚¤ì§€ ë¶„ë¦¬\n          },\n        },\n      },\n    },\n  ```\n- build í›„ ì¶œë ¥ëœ dist/index.htmlì„ ì‚´í´ë³´ë©´ ì•„ë˜ì²˜ëŸ¼\n  vender-react ë²ˆë“¤, 674.~ë²ˆë“¤, main ë²ˆë“¤ë¡œ ë¶„í• ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n  ![](https://velog.velcdn.com/images/xmun74/post/e21797f4-74bb-461e-8a67-bb5c707b43bc/image.png)\n- `webpack-bundle-analyzer`ë¥¼ ì‚¬ìš©í•˜ì—¬ í™•ì¸í•œ ë²ˆë“¤\n  ![](https://velog.velcdn.com/images/xmun74/post/acde96b4-42d5-4ffe-91aa-fa7d999a9ecc/image.png)\n\n<br /><br /><br />\n\n### 2. React lazy ì‚¬ìš©í•˜ê¸°\n\nìœ„ì—ì„œ webpackì˜ code splittingì„ í†µí•´ ë²ˆë“¤ íŒŒì¼ì„ ë¶„í• í–ˆë‹¤ë©´\nReact lazy ê¸°ëŠ¥ìœ¼ë¡œ í•„ìš”í•  ë•Œë§Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ì  import í•´ì˜¤ë„ë¡ ì‘ì—…í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.\n\n#### React lazy, Suspense\n\n`React lazy`ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ JS Chunkìœ¼ë¡œ ë¶„ë¦¬í•˜ê²Œ í•´ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ Home í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë”°ë¡œ Home.Chunk ë²ˆë“¤ íŒŒì¼ë¡œ ë¶„í• í•´ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤.\n`Suspense`ë¥¼ ì‚¬ìš©í•˜ë©´ ì§€ì—°ì´ ë°œìƒí•  ë•Œ ë¡œë”©ì¤‘ì¸ ìŠ¤í”¼ë„ˆë¥¼ ë„ìš´ë‹¤ë˜ì§€ ë¡œë”©ìƒíƒœë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n<br />\nìœ„ì—ì„œ 674 ë²ˆë“¤ì²˜ëŸ¼ ë²ˆë“¤ëª…ì´ idë¡œ ìë™ìœ¼ë¡œ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. idë¡œ ìë™ ìƒì„±ëœ ë²ˆë“¤ëª…ì´ ì•„ë‹ˆë¼ ì§ê´€ì ì¸ ë²ˆë“¤ëª…ìœ¼ë¡œ ì§€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n<br />\n\n#### ì£¼ì„ìœ¼ë¡œ ë²ˆë“¤ëª… ì§€ì •í•˜ê¸°\n\n- `/* webpackChunkName: \"ë²ˆë“¤ëª…\" */` ì£¼ì„ìœ¼ë¡œ ë²ˆë“¤ëª… ì§€ì •í•˜ê¸°\n\n  ```tsx\n  import React, { Suspense, lazy } from 'react'\n\n  const Home = lazy(() => import(/* webpackChunkName: \"home\" */ '@/pages/Home'))\n  const Bible = lazy(\n    () => import(/* webpackChunkName: \"bible\" */ '@/pages/Bible')\n  )\n  const Profile = lazy(\n    () => import(/* webpackChunkName: \"profile\" */ '@/pages/Profile')\n  )\n\n  const App = () => (\n    <Router>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/bible\" element={<Bible />} />\n          <Route path=\"/profile\" element={<Profile />} />\n        </Routes>\n      </Suspense>\n    </Router>\n  )\n  ```\n\n- webpack.common.jsì—ì„œ ì„¤ì •\n  `chunkFilename` : ê³ ìœ  í•´ì‰¬ê°’ìœ¼ë¡œ ì²­í¬ íŒŒì¼ëª… ìƒì„±í•˜ì—¬ ì¤‘ë³µ ë°©ì§€\n  ```js\n  module.exports = {\n    output: {\n      path: path.resolve(__dirname, 'dist'),\n      filename: '[name].bundle.js',\n      // ë¶„í• ëœ ì²­í¬ íŒŒì¼ëª… ì§€ì •\n      chunkFilename: '[name].[chunkhash].bundle.js',\n    },\n  }\n  ```\n  ìœ„ì— ì§€ì •ëœ ë²ˆë“¤ëª…ìœ¼ë¡œ íŒŒì¼ì´ ì˜ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n  ![](https://velog.velcdn.com/images/xmun74/post/7a555cee-db22-4baa-b51e-225a82a2229e/image.png)\n\n#### TS ì‚¬ìš© ì‹œ tsconfig ì„¤ì • ì°¸ê³ í•˜ê¸°\n\n- module ì„¤ì •\n  `\"module\": \"esnext\"`\n  ë™ì  importë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  moduleì´ ë‹¤ìŒê³¼ ê°™ì€ ì„¤ì •ì¼ ë•Œ ë™ì‘í•©ë‹ˆë‹¤.\n  'es2020', 'es2022', 'esnext', 'commonjs', 'amd', 'system', 'umd', 'node16', 'nodenext'\n- ì£¼ì„ ì œê±° ì„¤ì • ë¹„í™œì„±í™”\n  `\"removeComments\": false`\n  TS ì»´íŒŒì¼ ê³¼ì •ì—ì„œ ì£¼ì„ì„ ì œê±°í•˜ë©´ Webpackì—ì„œ ë²ˆë“¤ëª… ì§€ì • ì£¼ì„ì„ ì½ê¸° ì „ì— ì‚­ì œë˜ì–´ ì •ìƒ ì‘ë™ì•ˆë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ Webpackì—ì„œë„ Minify ì••ì¶•í•  ë•Œ ì£¼ì„ì„ ì œê±°í•˜ë¯€ë¡œ tsconfigì—ì„œ í•´ë‹¹ ì˜µì…˜ì„ ë¹„í™œì„±í™”í•©ë‹ˆë‹¤.\n  ```json\n  compilerOptions: {\n    \"module\": \"esnext\",\n    \"removeComments\": false,\n    // ...\n  }\n  ```\n\n<br /><br />\n\n### code splitting ì „ í›„ ë²ˆë“¤ í¬ê¸° ë¹„êµ\n\nyarn buildë¥¼ í•˜ë©´ ë³´ê³ ì„œê°€ ë¸Œë¼ìš°ì €ì— ìë™ìœ¼ë¡œ ì—´ë¦½ë‹ˆë‹¤.\në°‘ ì‚¬ì§„ê³¼ ê°™ì´ mainì— ì»¤ì„œë¥¼ ì˜¬ë ¤ì„œ ìš©ëŸ‰ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n<br />\n\n> - Stat - íŒŒì¼ ì…ë ¥ í¬í‚¤ (ì¶•ì†Œ ì „ í¬ê¸°)\n> - Parsed - íŒŒì¼ ì¶œë ¥ í¬ê¸° (Minify, Uglify ë“± ì¶•ì†Œ í›„ í¬ê¸°)\n> - Gzipped - ì••ì¶•ë¼ì„œ ë„¤íŠ¸ì›Œí¬ì— ë¡œë“œë˜ëŠ” í¬ê¸°\n\n<br />\n\n- ì „ - Stat : 738KB / Parsed : 739KB / Gzipped : 179KB\n  ![](https://velog.velcdn.com/images/xmun74/post/6c97f601-b227-4de8-b9b1-ba417cb526b6/image.png)\n- í›„ - Stat : 753KB / Parsed : 400KB / Gzipped : 130KB\n  Gzipped ê¸°ì¤€ìœ¼ë¡œ **ì•½ 27% ê°ì†Œ**\n  ![](https://velog.velcdn.com/images/xmun74/post/91e32d7a-8252-4232-8452-09ae829d85a9/image.png)\n\n<br /><br /><br /><br />\n\n---\n\n<br /><br /><br /><br />\n\n# ì°¸ê³ \n\n[Webpack ê³µì‹ë¬¸ì„œ - ë¹Œë“œ ì„±ëŠ¥](https://webpack.kr/guides/build-performance/)\n[esbuild-loader github](https://github.com/esbuild-kit/esbuild-loader)\nhttps://www.codemzy.com/blog/react-bundle-size-webpack-code-splitting\n",
  },
  {
    slug: 'pitfalls-of-jwt',
    title: 'JWTë„ í•¨ì •ì€ ìˆë‹¤!',
    content:
      '\n### ë“¤ì–´ê°€ê¸°ì— ì•ì„œ\n\në¨¼ì € ë¡œê·¸ì¸ì„ êµ¬í˜„í•˜ëŠ” ì¸ì¦ë°©ì‹ìœ¼ë¡œ Session(ì„¸ì…˜ì¸ì¦)ê³¼ JWT(í† í°ì¸ì¦)ê°€ ìˆìŠµë‹ˆë‹¤.\në¹„êµì  ìµœì‹ ì— ë‚˜ì˜¨ JWTëŠ” ë§ì€ ê¸°ìˆ  ë¸”ë¡œê·¸ì—ì„œë„ ì†Œê°œê°€ ë˜ë©´ì„œ ë¬´ì¡°ê±´ ê¸°ë³¸ìœ¼ë¡œ ì±„íƒí•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤.\nê·¸ëŸ°ë° ì •ë§ JWTê°€ ì¢‹ìœ¼ë‹ˆê¹ ê¸°ë³¸ìœ¼ë¡œ ì±„íƒí•´ì•¼ í• ê¹Œìš”?\n\n<br />\n\në¨¼ì € ì„¸ì…˜ - í† í° ì¸ì¦ë°©ì‹ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ì‚´í´ë³´ê¸° ìœ„í•´ ê° íŠ¹ì§•ì— ëŒ€í•´ì„œ ê°„ë‹¨íˆ ì‚´í´ë³´ê³ ì í•©ë‹ˆë‹¤.\n\n# 1. ì„¸ì…˜(ì„œë²„)ê¸°ë°˜ ì¸ì¦ë°©ì‹\n\n: ì„œë²„ë‚˜ DBì— ì‚¬ìš©ì ì¸ì¦ì •ë³´ ì €ì¥í•˜ëŠ” ë°©ì‹\n\n- ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ì„ í•˜ë©´ ì¸ì¦ì •ë³´ë¥¼ ì„œë²„ì˜ ì„¸ì…˜ ì €ì¥ì†Œì— ì €ì¥í•˜ê³  ì‚¬ìš©ìì—ê²Œ ì‹ë³„ìë¡œ Session IDë¥¼ ë°œê¸‰í•´ì£¼ê²Œ ë©ë‹ˆë‹¤. ì‹ë³„ìì¸ Session IDëŠ” ì¿ í‚¤ë¡œ ì €ì¥ë˜ì–´ ì „ì†¡,ì „ë‹¬í•˜ì§€ë§Œ ì‹¤ì œ ì¤‘ìš”í•œ ì¸ì¦ì •ë³´ëŠ” ì„œë²„ë‚˜ DBì— ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n#### ì¥ì \n\n- í”„ë¡ íŠ¸ì—”ë“œì¸¡ì˜ ì¸ì¦ì´ ì‰¬ì›Œì§„ë‹¤.\n- ë³´ì•ˆ ì¸¡ë©´ì—ì„œ ì¡°ê¸ˆ ìœ ë¦¬\n  ì„œë²„ì—ì„œ ì¸ì¦ì •ë³´ë¥¼ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë§Œì•½ í•´ì»¤ê°€ ì„¸ì…˜ IDë¥¼ íƒˆì·¨í•˜ë”ë¼ë„ ì„œë²„ì—ì„œ í•´ë‹¹ ì„¸ì…˜ì„ ë¬´íš¨í™”í•˜ì—¬ ë¡œê·¸ì•„ì›ƒì‹œí‚¤ë©´ ë©ë‹ˆë‹¤.\n\n#### ë‹¨ì \n\n- í™•ì¥ì„± ë¬¸ì œë¡œ ì„œë²„ì¸¡ ë¹„ìš© ì¦ê°€\n  ì‚¬ìš©ìê°€ ì¦ê°€í•˜ê²Œ ë˜ë©´ ë§ì€ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•´ì•¼ ë˜ë¯€ë¡œ ê·¸ë§Œí¼ DB ë¦¬ì†ŒìŠ¤ê°€ ë” í•„ìš”í•´ì§€ê²Œ ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì„œë²„ í™•ì¥í•˜ê±°ë‚˜ ì„¸ì…˜ ë¶„ì‚° ì„¤ê³„ê°€ ë³µì¡í•´ì§„ë‹¤ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.\n\n# 2. í† í°ê¸°ë°˜ ì¸ì¦ë°©ì‹\n\n: í´ë¼ì´ì–¸íŠ¸ ì¸¡ì— ì‚¬ìš©ì ì¸ì¦ì •ë³´ ì €ì¥í•˜ëŠ” ë°©ì‹\n\n#### ì¥ì \n\n- ì„œë²„ì˜ ë¬´ìƒíƒœì„±\n  í´ë¼ì´ì–¸íŠ¸ì¸¡ì— í† í°ì„ ì €ì¥ë˜ê¸°ë•Œë¬¸ì— ìœ ì €ì˜ ì •ë³´ë¥¼ ì„œë²„ì— ì €ì¥í•´ë‘ì§€ ì•ŠìŠµë‹ˆë‹¤. ì„œë²„ëŠ” í† í° í•´ë… ì—¬ë¶€ë§Œ íŒë‹¨í•˜ê²Œ ë©ë‹ˆë‹¤.\n- ì„œë²„ í™•ì¥ì— ìš©ì´\n  ì„œë²„ê°€ ë¬´ìƒíƒœì„±ì„ ê°€ì§€ê²Œ ë˜ë©´ì„œ ì„œë²„ ë©”ëª¨ë¦¬ ê³¼ë¶€í™”ì— ëŒ€í•œ ë¬¸ì œê°€ í•´ê²°ë˜ê³  ì‚¬ìš©ìê°€ ëŠ˜ì–´ë‚˜ë„ í™•ì¥ì— ìš©ì´í•´ì§€ê²Œ ë©ë‹ˆë‹¤.\n\n## í† í°ë°©ì‹ì˜ í•¨ì •\n\n### 1. í¬ê¸° ë¬¸ì œ\n\nì„¸ì…˜ì€ ì¿ í‚¤ì— ì„¸ì…˜ IDë§Œì„ ë‹´ì•„ ì „ì†¡í•˜ê¸° ë•Œë¬¸ì— íŠ¸ë˜í”½ì´ ì ê²Œ ì‚¬ìš©ë©ë‹ˆë‹¤. [ì°¸ê³  ê¸€](https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens#size)ì—ì„œì˜ ë¹„êµë¥¼ ë³´ë©´ ì„¸ì…˜ì˜ í¬í‚¤ëŠ” 6 byteì¸ ë°˜ë©´, JWT(ìµœì†Œí•œì˜ ì •ë³´-`iss`, `sub`, `nbf`, `exp`, `Ã¬at`, `jti`, `typ`)ëŠ” 304 byteë¡œ ì„¸ì…˜ë³´ë‹¤ ì•½ 50ë°° ì´ìƒì˜ í¬ê¸°ë¥¼ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤.\në”°ë¼ì„œ JWTê°€ ìƒëŒ€ì ìœ¼ë¡œ í¬ê¸° ë•Œë¬¸ì— ì¿ í‚¤ì—ì„œ ì‚¬ìš©ë  ë•Œ, ìš”ì²­ ë‹¹ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒë  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ ìˆìŠµë‹ˆë‹¤.\n\n### 2. ì„œë²„ì—ì„œ ë¡œê·¸ì•„ì›ƒ ì œì–´ ë¶ˆê°€\n\në§Œì•½ í•´ì»¤ê°€ í† í°ì„ íƒˆì·¨í–ˆë‹¤ê³  í•œë‹¤ë©´, í† í°ì´ ë§Œë£Œë˜ì§€ ì•ŠëŠ” í•œ í•´ì»¤ëŠ” ì„œë²„ì— ìš”ì²­ì„ í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì„œë²„ì˜ ë¬´ìƒíƒœì„± íŠ¹ì§•ë•Œë¬¸ì— í† í°ì´ íƒˆì·¨ë¼ë„ ë¡œê·¸ì•„ì›ƒì„ ê°•ì œë¡œ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë³´ì•ˆí•˜ê¸° ìœ„í•´ì„œ ë‹¤ìŒì˜ ì‘ì—…ë“¤ì„ ìˆ˜í–‰í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n#### 1. access í† í° ì§§ì€ ë§Œë£Œê¸°í•œ ì§€ì •\n\n: ì§§ì€ ë§Œë£Œê¸°í•œì„ ì¤˜ì„œ íƒˆì·¨ë¼ë„ ì˜¤ë˜ ì‚¬ìš©í•˜ì§€ ëª»í•˜ë„ë¡ í•©ë‹ˆë‹¤.\n\n- **ë‹¨ì **\n  ë§Œë£Œë˜ê¸° ì „ê¹Œì§€ í•´ì»¤ê°€ ìš”ì²­ì„ ë³´ë‚´ê²Œ ëœë‹¤ëŠ” ì ì´ ìˆê³ ,\n  ì‚¬ìš©ìê°€ ë§¤ë²ˆ ë¡œê·¸ì¸í•´ì•¼ë˜ë¯€ë¡œ í¸ì˜ì„±ì´ ì•ˆì¢‹ì•„ì§€ëŠ” ë‹¨ì ì´ ìƒê¹ë‹ˆë‹¤.\n\n#### 2. refresh í† í° ê¸´ ë§Œë£Œê¸°í•œ ì‚¬ìš©\n\n: ë¡œê·¸ì¸ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ access í† í° ë°œê¸‰ë°›ê¸° ìœ„í•œ ê¸´ ë§Œë£Œê¸°í•œì„ ê°€ì§„ í† í°ì…ë‹ˆë‹¤. accessì˜ ì§§ì€ ë§Œë£Œê¸°í•œìœ¼ë¡œ ì‚¬ìš©ìê°€ ë§¤ë²ˆ ë¡œê·¸ì¸í•˜ì§€ ì•Šë„ë¡ refreshê°€ ìˆë‹¤ë©´ ê°±ì‹ í•  ìˆ˜ ìˆë„ë¡ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\n- **ë‹¨ì **\n  - access ë§Œë£Œê¸°í•œ ì§§ê¸° ë•Œë¬¸ì— refresh ìš”ì²­ì´ ì¦ê°€ë©ë‹ˆë‹¤.\n  - ë§Œì•½ í•´ì»¤ê°€ refresh í† í°ì„ íƒˆì·¨í–ˆë‹¤ë©´ ë¬¸ì œê°€ ì‹¬ê°í•´ì§‘ë‹ˆë‹¤. ê·¸ë˜ì„œ ë³´ì•ˆì´ ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ì—ì„œëŠ” refresh í† í°ì„ ì‚¬ìš©í•˜ì§€ ì•Šê¸°ë„ í•©ë‹ˆë‹¤.\n\n> #### Q) refresh í† í°ì´ íƒˆì·¨ë¼ì„œ ì´ë¥¼ ë¡œê·¸ì•„ì›ƒì„ ì‹œí‚¤ê¸° ìœ„í•´ ì„œë²„ ì €ì¥ì†Œë¥¼ ë‘ê²Œ ëœë‹¤ë©´?\n>\n> A) refresh í† í° ê²€ì¦ì„ ìœ„í•´ ì¤‘ì•™ ì§‘ì¤‘ì‹ ì €ì¥ì†Œê°€ í•„ìš”í•˜ê²Œ ëœë‹¤. ê·¸ë ‡ë‹¤ë©´ ì„œë²„ ì €ì¥ì†Œ, í´ë¼ì´ì–¸íŠ¸ ì €ì¥ì´ í•„ìš”í•´ì§€ë©´ì„œ JWTì˜ ìµœëŒ€ ì¥ì ì´ì—ˆë˜ ë¬´ìƒíƒœì„±ì´ ë¬´íš¨í™”ë©ë‹ˆë‹¤. ë”°ë¼ì„œ ì„¸ì…˜ê³¼ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ê´€ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤.\n\n<br/>\n\n### 3. í´ë¼ì´ì–¸íŠ¸ ì¸¡ì˜ í† í° ì €ì¥ìœ„ì¹˜ë¡œ ì¸í•œ ë³´ì•ˆë¬¸ì œ\n\në¸Œë¼ìš°ì €ì˜ ì›¹ ì €ì¥ì†Œ(LocalStorage, SessionStorage)ë‚˜ ì¿ í‚¤ì— í† í°ì„ ì €ì¥í•˜ê²Œ ë˜ë©´ XSS, CSRF ê³µê²©ì— ì·¨ì•½í•˜ë‹¤ëŠ” ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.\n\n#### 1. LocalStorage | SessionStorage ì €ì¥ ì‹œ\n\nì €ì¥í•˜ëŠ” ë°©ë²•ì´ í¸ë¦¬í•˜ê¸´ í•˜ì§€ë§Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ `document.cookie`ìœ¼ë¡œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ê²Œ ë˜ë©´ì„œ XSS(Cross Site Scripting) ê³µê²©ì— ì·¨ì•½í•˜ê²Œ ë˜ë¯€ë¡œ ë¹„ê¶Œì¥ë©ë‹ˆë‹¤.\n\n#### 2. Cookie ì €ì¥ ì‹œ\n\nì¿ í‚¤ì— ì˜µì…˜ì„ ì£¼ë©´ XSS, CSRF ê³µê²©ì— ì¡°ê¸ˆ ì•ˆì „í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- ì˜µì…˜\n  - `httpOnly` : XSS ê³µê²©ì— ì¡°ê¸ˆ ì•ˆì „ (JSì—ì„œ `document.cookie`ë¡œ ì ‘ê·¼ ë¶ˆê°€)\n  - `secure=true` : `HTTPS` ì¼ë•Œë§Œ ì¿ í‚¤ ì „ì†¡ê°€ëŠ¥\n  - `sameSite=strict` : **CSRF(Cross-Site Request Forgery ì‚¬ì´íŠ¸ ê°„ ìš”ì²­ ìœ„ì¡°)** ë°©ì§€.\n    ê°™ì€ ë„ë©”ì¸ì¼ë•Œë§Œ ì¿ í‚¤ ì „ì†¡ê°€ëŠ¥\n    - `lax`\n      ëª…ì‹œì•ˆí•˜ë©´ ì ìš©ë˜ëŠ” ê¸°ë³¸ê°’. GET ìš”ì²­ì—ì„  ì¿ í‚¤ ì „ì†¡ê°€ëŠ¥. ë‹¤ë¥¸ ë„ë©”ì¸ìœ¼ë¡œ ì¿ í‚¤ ì „ì†¡ë¶ˆê°€\n    - `none`\n      ë„ë©”ì¸ ë‹¬ë¼ë„ í•­ìƒ ì¿ í‚¤ ì „ì†¡ê°€ëŠ¥. `secure` ì˜µì…˜ ë¶™ì—¬ì•¼ ì‘ë™í•¨\n    - `strict`\n      ë™ì¼ ë„ë©”ì¸ì¼ë•Œë§Œ ì¿ í‚¤ ì „ì†¡ê°€ëŠ¥\n\n<br/>\n\n> **ğŸ˜± ì¿ í‚¤ secure ì„¤ì • ì‹œ ì£¼ì˜ì‚¬í•­**\n>\n> - ê°™ì€ ë„ë©”ì¸ì´ë”ë¼ë„ `(FE ë¡œì»¬)http - (ì„œë²„)https` í™˜ê²½ì—ì„œëŠ” refresh ì¿ í‚¤ ì „ë‹¬ ëª»ë°›ìŒ.\n>   ì„œë¡œ schemeì´ ë‹¬ë¼ì„œ ë‹¤ë¥¸ ì‚¬ì´íŠ¸ë¡œ ì¸ì‹í•œë‹¤. FE ë¡œì»¬ì—ì„œ ì‘ì—…í•  ë•ŒëŠ” [ì¶”ê°€ ì‘ì—…](https://velog.io/@yaytomato/React-%EC%9B%B9%EC%82%AC%EC%9D%B4%ED%8A%B8-https%EB%A1%9C-%EB%A1%9C%EC%BB%AC-%ED%85%8C%EC%8A%A4%ED%8C%85%ED%95%98%EA%B8%B0)ì´ í•„ìš”í•˜ë‹¤.\n\n> **ğŸ˜± ì¿ í‚¤ sameSite ì„¤ì • ì‹œ ì£¼ì˜ì‚¬í•­**\n>\n> - BE ì„œë²„ê°€ FEì™€ ê°™ì€ ë„ë©”ì¸ì¼ë•Œë§Œ ì‚¬ìš©ê°€ëŠ¥.\n>   ë°°í¬í™˜ê²½ì€ BE-FE ê°™ì€ ë„ë©”ì¸ì´ë¼ ê´œì°®ì§€ë§Œ\n>   ê°œë°œí™˜ê²½ì—ì„œ BE, FEê°€ ë‹¤ë¥´ë©´ í¬ë¡œìŠ¤ë„ë©”ì¸ ì´ìŠˆ ë°œìƒ\n>\n> - ì¶”ê°€ ì„¸íŒ… í•„ìš”\n>   ë„ë©”ì¸ì´ ì„œë¡œ ë‹¤ë¥´ë©´ ì„œë²„ì—ì„œ cors headerë¥¼ ì„¤ì •í•˜ê±°ë‚˜ refresh í† í° ìš”ì²­ì„ ì¸ì¦ëœ ì‚¬ì´íŠ¸ì—ì„œë§Œ í•˜ë„ë¡ ì„¸íŒ…í•´ì¤˜ì•¼í•œë‹¤.\n>   FEì—ì„œ `axios.defaults.withCredentials = true;` ì„¤ì •ë„ í•„ìš”í•˜ë‹¤.\n\n<br/>\n\n#### ê° í† í°ì˜ ì €ì¥ ìœ„ì¹˜ëŠ”?\n\n1. access í† í° ì €ì¥ì†Œ - ë¡œì»¬ ë³€ìˆ˜ë¡œ ì €ì¥\n\n   - ë³€ìˆ˜ì— ì €ì¥í•´ì„œ XSS, CSRFê³µê²©ìœ¼ë¡œë¶€í„° ì•ˆì „.\n   - ë‹¨, ìƒˆë¡œê³ ì¹¨í•˜ë©´ ë³€ìˆ˜ê°€ ì—†ì–´ì§€ë¯€ë¡œ refreshë¡œ ì¬ê°±ì‹  ë°›ëŠ” ìš”ì²­ì„ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤. (slient refresh)\n\n2. refresh í† í° - `secure httpOnly sameSite` ì¿ í‚¤ì— ì €ì¥\n   - `httpOnly`- XSSì— ì¡°ê¸ˆ ì•ˆì „\n   - `secure` - HTTPSìœ¼ë¡œë§Œ ì ‘ì† ê°€ëŠ¥\n   - `sameSite=strict`- CSRFì— ì¡°ê¸ˆ ì•ˆì „\n\n#### JWT ì „ë‹¬ë°©ì‹ ì •ë¦¬\n\n1. ë¡œê·¸ì¸ ìš”ì²­ ì„±ê³µ ì‹œ, ì‘ë‹µìœ¼ë¡œ Access(ì§¦ì€ ìœ íš¨ê¸°í•œ) ë°œê¸‰ë°›ê³  ì¿ í‚¤ë¡œ Refresh(ê¸´ ìœ íš¨ê¸°í•œ) í† í°ì„ ë°œê¸‰ë°›ê¸°.\n2. RefreshëŠ” ì„œë²„ì—ì„œ `httpOnly secure sameSite` ì˜µì…˜ ì„¤ì •í•œ ì¿ í‚¤ë¡œ ì €ì¥í•˜ì—¬ ì „ì†¡.\n3. AccessëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë¡œì»¬ ë³€ìˆ˜ì— ì €ì¥í•˜ê³ , ê¶Œí•œ í•„ìš”í•œ ìš”ì²­ë§ˆë‹¤ Authorization í—¤ë”ì— `Bearer ${accessToken}`ì˜ ê·œê²©ìœ¼ë¡œ ì „ì†¡.\n4. slient refreshë¡œ Access ì¬ë°œê¸‰ í›„ ê°±ì‹ í•˜ê¸°\n\n- Access ë§Œë£Œ ì‹œ)\n  ì¿ í‚¤ì— Refreshê°€ ì´ë¯¸ ë‹´ê²¨ì§„ ìƒíƒœë¡œ ìš”ì²­ë§ˆë‹¤ ì „ì†¡ë˜ì–´ì„œ refreshë¡œ ì¬ë°œê¸‰ë°›ëŠ” API(`/refresh`)ì— ìš”ì²­í•˜ê³  ì‘ë‹µìœ¼ë¡œ Access ë°›ì•„ì„œ ê°±ì‹ í•˜ê¸°\n- ìƒˆë¡œê³ ì¹¨ ì‹œ)\n  ë³€ìˆ˜ë¡œ ì €ì¥í•œ Accessê°€ ì—†ì–´ì ¸ì„œ ì¬ë°œê¸‰ì„ ë°›ì•„ì•¼ í•¨.\n  ì¿ í‚¤ì— Refreshê°€ ì´ë¯¸ ë‹´ê²¼ê¸° ë•Œë¬¸ì— refreshë¡œ ì¬ë°œê¸‰ë°›ëŠ” API(`/refresh`)ì— ìš”ì²­í•˜ê³  ì‘ë‹µìœ¼ë¡œ Access ë°›ì•„ì„œ ê°±ì‹ í•˜ê¸°\n\n5. Refresh ë§Œë£Œ ì‹œ ì¬ë°œê¸‰ í›„ ê°±ì‹ í•˜ê±°ë‚˜ or ë¡œê·¸ì•„ì›ƒ ì‹œí‚¤ëŠ” ë¡œì§ìœ¼ë¡œ êµ¬í˜„\n\n#### ì¶”ê°€ ì°¸ê³ ì‚¬í•­\n\n- ê°•ì œ ë¡œê·¸ì•„ì›ƒì„ ìœ„í•´ refreshë¥¼ ì„œë²„ì— ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ë‹¨, JWTì—ì„œ ì„œë²„ì˜ ë¬´ìƒíƒœì„±ì´ë€ ì¥ì ì€ ë¬´íš¨í™”ë˜ê³  ì„¸ì…˜ê³¼ ë¹„ìŠ·í•˜ê²Œ ê´€ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤.\n\n<br/><br/><br/><br/>\n\n---\n\n<br/><br/>\n\n# ë§ˆì¹˜ë©°\n\nê²°êµ­ ìƒí™©ì— ë§ê²Œ ê³ ë ¤í•´ì„œ ë°©ì‹ì„ ì±„íƒí•´ì•¼ í•©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ì˜ ê·œëª¨, ë™ì‹œ ì ‘ì†ì ìˆ˜, ë³´ì•ˆì´ ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ ë“±ë“± ìƒí™©ë“¤ì„ ë”°ì ¸ë³´ê³  ì„ íƒí•˜ê±°ë‚˜ ë‘ê°€ì§€ ì¸ì¦ ë°©ì‹ì„ ê²°í•©í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\nê°ê°ì˜ íŠ¸ë ˆì´ë“œ ì˜¤í”„ê°€ ë¬´ì—‡ì¸ì§€ í™•ì¸í•´ë³´ë©´ì„œ ì „í†µì ì¸ ë°©ì‹ì˜ ì„¸ì…˜ê³¼ ë¹„êµì  ìµœì‹ ë°©ì‹ì˜ í† í° ì¤‘ ìƒí™©ì— ë§ì¶°ì„œ ì„ íƒí•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.\n<br/>\në”°ë¼ì„œ JWTë¥¼ ë¬´ì¡°ê±´ ê¹ƒí—™ì˜ í…œí”Œë¦¿(ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸)ì— ê¸°ë³¸ìœ¼ë¡œ êµ¬ì„±í•œë‹¤ë˜ì§€ ì•ìœ¼ë¡œì˜ í”„ë¡œì íŠ¸ì— ì‚¬ìš©í•  ì§€ëŠ” ì¶©ë¶„íˆ ê³ ë¯¼ì„ í•´ ë³¸ í›„ì— ì ìš©í•˜ëŠ” ê²ƒì´ ì ì ˆí•˜ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\n<br/>\në§Œì•½, ë³´ì•ˆì´ ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ì—ì„œ ê°•ì œ ë¡œê·¸ì•„ì›ƒì„ êµ¬í˜„í•´ì•¼í•œë‹¤ë©´ ì„œë²„ì˜ refresh ì €ì¥ì†Œ êµ¬ì¶•ì— ëŒ€í•´ì„œëŠ” ê²°êµ­ ì„¸ì…˜ê³¼ ìœ ì‚¬í•œ ë°©ì‹ì´ ë˜ê¸° ë•Œë¬¸ì— ì´ë ‡ê²Œ ëœë‹¤ë©´ ê·¸ëƒ¥ ì„¸ì…˜ì„ ì‚¬ìš©í•˜ë©´ ë˜ì§€ ì•Šì„ê¹Œë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.\në˜í•œ ì—¬ê¸°ì„œ ì†Œê°œí•œ ë°©ë²•ë“¤ì´ ëª¨ë‘ ì™„ë²½í•œ ì •ë‹µì€ ì•„ë‹ˆë¯€ë¡œ ì°¸ê³ í•œë‹¤ëŠ” ì˜ë¯¸ë¡œ ë´ì£¼ì‹œê³  í˜¹ì‹œë‚˜ ì˜ëª»ëœ ì •ë³´ê°€ ìˆì—ˆë‹¤ë©´ ììœ ë¡­ê²Œ ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.\n\n---\n\n<br/><br/><br/><br/>\n\n# ì°¸ì¡°\n\n- [JWT should not be your default for sessions](https://evertpot.com/jwt-is-a-bad-default/)\n- [LocalStorage vs. Cookies: All You Need to Know About Storing JWT Tokens Securely in the Front-End](https://codeburst.io/localstorage-vs-cookies-all-you-need-to-know-about-storing-jwt-tokens-securely-in-the-front-end-70dc0a9b3ad3)\n- [ğŸª í”„ë¡ íŠ¸ì—ì„œ ì•ˆì „í•˜ê²Œ ë¡œê·¸ì¸ ì²˜ë¦¬í•˜ê¸° (ft. React)](https://velog.io/@yaytomato/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%90%EC%84%9C-%EC%95%88%EC%A0%84%ED%95%98%EA%B2%8C-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0#%F0%9F%A7%9E%E2%99%82%EF%B8%8Ftldr)\n- [[í”„ë¡œì íŠ¸] Refresh Token ì ìš©í•˜ê¸°](https://pomo0703.tistory.com/208#recentComments)\n- [Access Tokenê³¼ Refresh Tokenì„ ì–´ë””ì— ì €ì¥í•´ì•¼ í• ê¹Œ?](https://velog.io/@ohzzi/Access-Token%EA%B3%BC-Refresh-Token%EC%9D%84-%EC%96%B4%EB%94%94%EC%97%90-%EC%A0%80%EC%9E%A5%ED%95%B4%EC%95%BC-%ED%95%A0%EA%B9%8C#%EA%B8%B0%ED%98%B8-1%EB%B2%88-%EB%A1%9C%EC%BB%AC-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-or-%EC%84%B8%EC%85%98-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80)\n- ë¡œê·¸ì•„ì›ƒ ê´€ë ¨ ì°¸ê³  - [SpringBoot + Jwtë¥¼ ì´ìš©í•œ ë¡œê·¸ì•„ì›ƒ](https://velog.io/@joonghyun/SpringBoot-Jwt%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%A1%9C%EA%B7%B8%EC%95%84%EC%9B%83)\n',
  },
  {
    slug: 'sitemap-seo',
    title: 'NextJSë¡œ ë§Œë“  ë¸”ë¡œê·¸ ê¸€ ê²€ìƒ‰ë˜ê²Œ í•˜ì! - sitemap, ê²€ìƒ‰ì—”ì§„',
    content:
      '\nì‘ì„±í•œ ë¸”ë¡œê·¸ ê¸€ì´ ë„¤ì´ë²„, êµ¬ê¸€ ë“±ì—ì„œ ê²€ìƒ‰ë˜ê²Œ í•˜ê³  ì‹¶ë‹¤ë©´?\nê° ì‚¬ì´íŠ¸ ê²€ìƒ‰ì—”ì§„ì— ë¸”ë¡œê·¸ ì£¼ì†Œë¥¼ ë“±ë¡í•˜ê³  sitemapì„ ìƒì„±í•´ì•¼í•œë‹¤!\n\n# 1. sitemap\n\n[êµ¬ê¸€ ì‚¬ì´íŠ¸ë§µ ì„¤ëª…](https://developers.google.com/search/docs/crawling-indexing/sitemaps/overview?hl=ko)\nsitemapì´ë€?\nì‚¬ì´íŠ¸ì— ìˆëŠ” í˜ì´ì§€, ë™ì˜ìƒ ë“±ì˜ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” íŒŒì¼ì´ë‹¤.\nê²€ìƒ‰ì—”ì§„ì´ sitemap íŒŒì¼ì„ ì½ê³  ë” íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ì´íŠ¸ë¥¼ í¬ë¡¤ë§í•  ìˆ˜ ìˆê²Œ ë„ì›€ì„ ì¤€ë‹¤.\në”°ë¼ì„œ ê²€ìƒ‰í–ˆì„ ë•Œ í•´ë‹¹ ì‚¬ì´íŠ¸ê°€ ê²€ìƒ‰ë˜ê²Œ í•˜ë ¤ë©´? sitemapì„ ìƒì„±í•´ì„œ ë“±ë¡í•´ì£¼ë©´ ëœë‹¤.\nê²€ìƒ‰ì—”ì§„ì— ì‚¬ì´íŠ¸ë§µ URLì„ ì¶”ê°€í•´ì•¼ë˜ê¸° ë•Œë¬¸ì— ë¨¼ì € sitemap íŒŒì¼ë¶€í„° ìƒì„±í•´ë³´ì!\n\n## ë°©ë²• 1. `next-sitemap` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ sitemap.xml ë§Œë“¤ê¸°\n\n- [next-sitemap](https://github.com/iamvishnusankar/next-sitemap) ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜\n\n```bash\nnpm i -D next-sitemap\n```\n\n- `next-sitemap.config.js` ìƒì„±í•˜ê³ \n\n  ```js:next-sitemap.config.js\n  /** @type {import(\'next-sitemap\').IConfig} */\n  module.exports = {\n    siteUrl: \'ë³¸ì¸ ì‚¬ì´íŠ¸ url\',\n    changefreq: \'daily\',\n    priority: 0.7,\n    sitemapSize: 7000,\n    generateRobotsTxt: true,\n    exclude: [],\n  }\n  ```\n\n- `tsconfig.json`ì— "next-sitemap.config.js"ì„ ì¶”ê°€í•œë‹¤\n\n  ```json:tsconfig.json {6} showLineNumbers\n  "include": [\n    "next-env.d.ts",\n    "**/*.ts",\n    "**/*.tsx",\n    "**/*.d.ts",\n    "next-sitemap.config.js"\n  ],\n  ```\n\n- `package.json` ìˆ˜ì •\n  ` "build": "next build && next-sitemap && next export",`\n\n- npm run build í•˜ë©´\n  `public/robots.txt`, `public/sitemap.xml`, `public/sitemap-0.xml` íŒŒì¼ ìƒì„±ë¨\n  ì›ê²© push ì•ˆë˜ê²Œ gitignoreì— ì¶”ê°€í•˜ê¸°\n\n> - `sitemap.xml` - ì–´ë–¤ URLì„ í¬ë¡¤ë§í•˜ëŠ” ì§€ ì•Œë ¤ì£¼ëŠ” ì—­í• \n> - `robots.txt` - ì–´ë–¤ URLì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ ê²€ìƒ‰ì—”ì§„ í¬ë¡¤ëŸ¬ì— ì•Œë ¤ì£¼ëŠ” ì—­í• \n\n## ë°©ë²• 2. ì§ì ‘ sitemap.xml ë§Œë“¤ê¸°\n\nì›ë˜ëŠ” `next-sitemap` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í–ˆëŠ”ë° ìê¾¸ êµ¬ê¸€ ì½˜ì†”ì— ì¸ì‹ì´ ì•ˆë˜ì„œ ì§ì ‘ ë§Œë“¤ê¸°ë¡œ í–ˆë‹¤.\n\n# 2. ê²€ìƒ‰ì—”ì§„ ë“±ë¡ ë°©ë²•\n\n### ê²€ìƒ‰ì—”ì§„ ì¢…ë¥˜\n\në‚´ ë¸”ë¡œê·¸ëŠ” ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” êµ¬ê¸€ê³¼ ë„¤ì´ë²„ ê²€ìƒ‰ì—”ì§„ì„ ë“±ë¡í•˜ê¸°ë¡œ í–ˆë‹¤.\n\n- êµ¬ê¸€ ì„œì¹˜ ì½˜ì†” - [Google Search Console](https://search.google.com/search-console/welcome?utm_source=about-page)\n- ë„¤ì´ë²„ ì„œì¹˜ ì–´ë“œë°”ì´ì €- [Naver Search Advisor](https://searchadvisor.naver.com/)\n- [ë‹¤ìŒ ê²€ìƒ‰ë“±ë¡](https://register.search.daum.net/index.daum)\n\n## [Google Search Console](https://search.google.com/search-console/welcome?utm_source=about-page)\n\n1. ì‚¬ì´íŠ¸ ë“±ë¡ - ë„ë©”ì¸ì´ ìˆë‹¤ë©´ ë„ë©”ì¸ì„ ë“±ë¡í•˜ê±°ë‚˜, URLì ‘ë‘ì–´ë¥¼ ë“±ë¡í•˜ê¸°\n   ![230308-123054](/images/posts/sitemap-seo/230308-123054.png)\n\n2. ì•„ë˜ì˜ HTML `meta` íƒœê·¸ë¥¼ `_document.tsx` `Head`ì— ì¶”ê°€\n   ![230308-123528](/images/posts/sitemap-seo/230308-123528.png)\n\n```js:_document.tsx {4-7} showLineNumbers\n    return (\n      <Html>\n        <Head>\n          <meta\n            name="google-site-verification"\n            content="ë³µë¶™"\n          />\n          {/*  */}\n        </Head>\n          {/*  */}\n      </Html>\n    )\n```\n\n3. ë°°í¬ê¹Œì§€ í•˜ë©´ `í™•ì¸` í´ë¦­\n4. ì‚¬ì´íŠ¸ë§µ url `sitemap.xml` ì œì¶œ\n\n![230309-111659](/images/posts/sitemap-seo/230309-111659.png)\n\n## [Naver Search Advisor](https://searchadvisor.naver.com/console/board)\n\n1. ì‚¬ì´íŠ¸ ë“±ë¡\n2. `_document.tsx`ì— HTML `meta` íƒœê·¸ ì¶”ê°€\n3. ë°°í¬ í›„ `ì†Œìœ í™•ì¸` í´ë¦­\n4. ìš”ì²­ - ì‚¬ì´íŠ¸ë§µ ì œì¶œ `ë³¸ì¸ url/sitemap.xml` ì…ë ¥\n5. ê²€ì¦ - robots.txt - ìˆ˜ì§‘ìš”ì²­ í´ë¦­, ê²€ì¦ í™•ì¸ë°›ê¸°\n6. ì„¤ì • - ìˆ˜ì§‘ì£¼ê¸°ì„¤ì • - `ë¹ ë¥´ê²Œ`\n',
  },
  {
    slug: 'v8-engine-01',
    title: 'JavaScript ì‹¤í–‰í•˜ê¸° ì „ ê³¼ì •: V8 ì—”ì§„ì˜ ì‘ì—… íë¦„',
    content:
      '\n# V8 ì—”ì§„ì´ë€?\n\nC++ë¡œ ì‘ì„±ëœ Googleì˜ ì˜¤í”ˆì†ŒìŠ¤ **ìë°”ìŠ¤í¬ë¦½íŠ¸ ë° WebAssembly ì—”ì§„**ì…ë‹ˆë‹¤. ì˜¤í”ˆì†ŒìŠ¤ì´ê¸° ë•Œë¬¸ì— [v8 github](https://github.com/v8/v8/tree/main)ì—ì„œ ì†ŒìŠ¤ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në¬¼ë¡  ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì—ëŠ” v8 ì™¸ì—ë„ Firefox (SpiderMonkey), Safari (JavaScriptCore), Microsoft Edge (Chakra ê¸°ë°˜ì´ì—ˆì§€ë§Œ ìµœê·¼ [Chromium](https://support.microsoft.com/en-us/microsoft-edge/download-the-new-microsoft-edge-based-on-chromium-0f4a3dd7-55df-60f5-739f-00010dba52cf), V8ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì‹œ ë§Œë“¤ì–´ì§) ë“±ì´ ìˆìŠµë‹ˆë‹¤.\nChromeê³¼ Node.js ë“±ì—ì„œ ì‚¬ìš©ë˜ê³ , ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ íŒŒì‹±í•˜ê³  ì‹¤í–‰í•©ë‹ˆë‹¤. ë˜í•œ ì‹¤í–‰ ì†ë„ë¥¼ ë†’ì´ëŠ” ë“±ì˜ ìµœì í™” ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œ JIT(Just In Time)ì»´íŒŒì¼ëŸ¬ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\n<br /><br /><br />\n\n---\n\n<br /><br /><br />\n\n## íŒŒì´í”„ë¼ì¸\n\nV8 ì—”ì§„ì˜ ì‘ì—…íë¦„ì„ ì „ì²´ì ìœ¼ë¡œ íŒŒì•…í•˜ê¸° ìœ„í•´ì„œ íŒŒì´í”„ë¼ì¸ì„ ì‚´í´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° íŒŒì´í”„ë¼ì¸ì˜ ì—­ì‚¬?ë„ ì¡°ê¸ˆì”© ë³€ê²½ëœ ë¶€ë¶„ë“¤ì´ ìˆì–´ì„œ ê°„ë‹¨í•˜ê²Œ ì‚´í´ë³´ê³  ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤.\n\n#### íŒŒì´í”„ë¼ì¸ì˜ ë³€ê²½\n\n- 2017ë…„ ì´ì „ : Full-codegen + Crankshaft (+Ignition +TurboFan)\n  ì´í›„ì— Ignitionê³¼ TurboFanë¡œ ëŒ€ì²´ë˜ê²Œ ë©ë‹ˆë‹¤. [(ì‚¬ì§„ì¶œì²˜)](https://v8.dev/blog/ignition-interpreter)\n\n  - ![](https://velog.velcdn.com/images/xmun74/post/e77dd87e-c8ec-42b0-8e00-f47b58c5954f/image.png)\n\n- 2017~2021ë…„ : Ignition + TurboFan [(ì‚¬ì§„ì¶œì²˜)](https://docs.google.com/presentation/d/1OqjVqRhtwlKeKfvMdX6HaCIu9wpZsrzqpIVIwQSuiXQ/edit#slide=id.g1453eb7f19_0_391)\n\n  - ![](https://velog.velcdn.com/images/xmun74/post/28911015-48f5-49d1-b2c1-946fa792f6e5/image.png)\n\n- 2021ë…„(v9.1ë¶€í„° ë³€ê²½ëœ íŒŒì´í”„ë¼ì¸) : Ignition + `Sparkplug` + TurboFan [(ì‚¬ì§„ì¶œì²˜)](https://v8.dev/blog/sparkplug)\n\n  - ì¤‘ê°„ì— Sparkplugê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ![](https://velog.velcdn.com/images/xmun74/post/a8b0f6bf-bd50-4658-87cf-be50cbeed96f/image.png)\n\n---\n\n- [(ì‚¬ì§„ì¶œì²˜)](https://medium.com/@yanguly/sparkplug-v8-baseline-javascript-compiler-758a7bc96e84)![](https://velog.velcdn.com/images/xmun74/post/52b0873d-fe19-41cd-945e-4dcb8f47372f/image.png)\n\nì´ë ‡ê²Œ ê°€ì¥ ìµœì‹ ì˜ íŒŒì´í”„ë¼ì¸ì„ ê°€ì§€ê²Œ ë˜ì—ˆê³  ë°‘ ë‚´ìš©ëŒ€ë¡œ ì‘ì—…ì´ ì´ë¤„ì§€ê²Œ ë©ë‹ˆë‹¤.\n\n#### 1. JS ì½”ë“œ -> ASTë¡œ Parsing\n\n- JavaScript ì½”ë“œ -> AST(Abstract Syntax Tree: ì¶”ìƒêµ¬ë¬¸íŠ¸ë¦¬ë¡œ)ë¡œ íŒŒì‹±\n  ì½”ë“œë¥¼ ì»´í“¨í„°ê°€ ì‰½ê²Œ ì´í•´í•˜ë„ë¡ êµ¬ì¡°í™”í•˜ëŠ” ì‘ì—…ì…ë‹ˆë‹¤.\n\n#### 2. Ignition(ì¸í„°í”„ë¦¬í„°)ìœ¼ë¡œ Byte code ìƒì„±\n\n- ASTë¥¼ ë°”íƒ•ìœ¼ë¡œ ë°”ì´íŠ¸ì½”ë“œ(Byte code)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n- ê°€ìƒë¨¸ì‹ ì—ì„œ ì‹¤í–‰ë˜ë©° ì´ë•Œ ì¸í„°í”„ë¦¬í„°ê°€ ì‘ë™ë©ë‹ˆë‹¤.\n\n#### 3. Sparkplug(ë¹„ìµœì í™” ì»´íŒŒì¼ëŸ¬)ë¡œ ê¸°ê³„ì–´ ìƒì„±\n\n- ë¹„ìµœì í™”ëœ ì»´íŒŒì¼ëŸ¬ë¡œ ë°”ì´íŠ¸ì½”ë“œë¥¼ ë¹ ë¥´ê²Œ ë„¤ì´í‹°ë¸Œ ì½”ë“œ(ê¸°ê³„ì–´)ë¡œ ë³€í™˜\n\n#### 3. TurboFan(ì„±ëŠ¥ ìµœì í™” ì»´íŒŒì¼ëŸ¬)ë¡œ ê¸°ê³„ì–´ ìƒì„±\n\n- JIT ì»´íŒŒì¼ëŸ¬ ì‚¬ìš©í•´ì„œ ë°”ì´íŠ¸ì½”ë“œë¥¼ ë„¤ì´í‹°ë¸Œ ì½”ë“œ(ê¸°ê³„ì–´)ë¡œ ë³€í™˜\n\n#### 4. ì‹¤í–‰\n\n- ìƒì„±í•œ ë„¤ì´í‹°ë¸Œ ì½”ë“œë¥¼ CPUì—ì„œ ì‹¤í–‰\n  - ì´ˆê¸°ì‹¤í–‰ì—ì„œëŠ” ë¹„ìµœì í™”ëœ ë„¤ì´í‹°ë¸Œ ì½”ë“œê°€ ì‹¤í–‰ë˜ê³ \n  - ì´í›„ ì„±ëŠ¥ìµœì í™” ì‘ì—…ì„ ê±°ì³ ìµœì í™”ëœ ë„¤ì´í‹°ë¸Œ ì½”ë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.\n\n<br /><br />\n\n---\n\n## 1. JSë¥¼ ASTë¡œ íŒŒì‹± : ì½”ë“œ êµ¬ì¡° ì´í•´í•˜ê¸°\n\nì‚¬ëŒì´ ì‘ì„±í•œ JS ì½”ë“œë¥¼ ì»´í“¨í„°ê°€ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ê³„ì¸µì  êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ì¤˜ì•¼ í•©ë‹ˆë‹¤.\n\n```js\nlet x = \'ë¬¸ìì—´\' // ì§€ê¸ˆì€ ë¬¸ìì—´ String\nx = 1 // ì´ì œëŠ” ìˆ«ì Number\n```\n\nê·¸ë¦¬ê³  JSëŠ” ë™ì  ì–¸ì–´ì´ê¸° ë•Œë¬¸ì— ì‹¤í–‰ì¤‘ì— íƒ€ì…ì´ ë°”ë€Œê¸°ë„ í•©ë‹ˆë‹¤. ì‹¤í–‰ ì „ì— íƒ€ì…ì„ ê³ ì •í•˜ê¸°ê°€ ì–´ë µìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ JSì˜ ë³µì¡í•œ ë™ì‘ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € ì½”ë“œ êµ¬ì¡°ë¥¼ íŒŒì•…í•´ì•¼í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— ì»´í“¨í„°ê°€ ì´í•´í•˜ê¸° ì‰¬ìš´ ASTë¡œ êµ¬ì¡°í™”í•´ë‘ê²Œ ë©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•´ë‘ë©´ ì´í›„ ì»´íŒŒì¼ì´ë‚˜ ìµœì í™” ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íƒ€ì… ì •ë³´ëŠ” ì´í›„ ì½”ë“œë¥¼ ì‹¤í–‰í•  ë•Œ ë™ì ìœ¼ë¡œ í•™ìŠµí•˜ê²Œ ë©ë‹ˆë‹¤.\n<br/>\n\n1. parser\n   ì¦‰ì‹œ ì‹¤í–‰ì— í•„ìš”í•œ ì½”ë“œë¥¼ ì „ì²´ íŒŒì‹±í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì²˜ë¦¬ì‹œê°„ì´ ìƒëŒ€ì ìœ¼ë¡œ ê¹ë‹ˆë‹¤.\n\n   - AST, ìŠ¤ì½”í”„ ìƒì„±\n   - ë¬¸ë²• ì˜¤ë¥˜ ê²€ì¶œ\n   - ì†ŒìŠ¤ì½”ë“œ [(v8/src/parsing/parser.cc)](https://github.com/v8/v8/blob/main/src/parsing/parser.cc)\n\n2. [pre-parser](https://v8.dev/blog/preparser)\n   ì¦‰ì‹œ ì‹¤í–‰ì— í•„ìš”í•œ ì½”ë“œê°€ ì•„ë‹ˆê³  ë‚˜ì¤‘ì— ì‹¤í–‰ë  ì½”ë“œì¼ ë•Œ ì‚¬ìš©í•˜ëŠ” íŒŒì„œì…ë‹ˆë‹¤.\n\n   - AST ë¯¸ìƒì„±, ìŠ¤ì½”í”„ ìƒì„±\n   - ì¼ë¶€ ë¬¸ë²• ì˜¤ë¥˜ë§Œ ê²€ì¶œ\n   - ì†ŒìŠ¤ì½”ë“œ [(v8/src/parsing/preparser.cc)](https://github.com/v8/v8/blob/main/src/parsing/preparser.cc)\n\n<br/>\níŒŒì„œëŠ” ìœ„ì— parserì™€ pre-parser(lazy-parser) 2ê°œë¡œ êµ¬ë¶„ë˜ì–´ ì‚¬ìš©ë©ë‹ˆë‹¤.\nì‹¤í–‰ë˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ë‚˜ ì½”ë“œë¥¼ ì „ë¶€ ì¼ë°˜ íŒŒì„œë¡œ ì²˜ë¦¬í•˜ë©´ ì´ˆê¸° ë¡œë”©ì‹œê°„ì´ ê¸¸ì–´ì§€ê¸° ë•Œë¬¸ì— pre-parser(lazy-parser)ë¡œ ì´ˆê¸° ë¡œë”© ì‹œê°„ì„ ë‹¨ì¶•ì‹œí‚¤ëŠ” ê²ƒì´ ëª©ì ì…ë‹ˆë‹¤.\n\n- ì˜ˆì‹œ ì½”ë“œ\n\n  ```js\n  const name = \'ìœ ì¬ì„\'\n  console.log(name) // parser\n\n  function greeting() {\n    console.log(\'Hello!\') // pre-parser\n  }\n\n  greeting() // ë‚˜ì¤‘ì— í˜¸ì¶œë  ë•Œ parser\n  ```\n\n<br/><br/>\nê·¸ë¦¬ê³  ë°‘ì²˜ëŸ¼ ASTë¡œ íŒŒì‹±í•œ ê²°ê³¼ë¬¼ì„ ë³´ê³  ì‹¶ë‹¤ë©´ [AST Explorer](https://astexplorer.net/) ì‚¬ì´íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- JS ì½”ë“œ\n\n```js\nconst name = \'ìœ ì¬ì„\'\n```\n\n- AST íŒŒì‹± í›„\n\n```json\n{\n  "type": "Program",\n  "start": 0,\n  "end": 19,\n  "body": [\n    {\n      "type": "VariableDeclaration", // ë³€ìˆ˜ ì„ ì–¸\n      "start": 0,\n      "end": 19,\n      "declarations": [\n        {\n          "type": "VariableDeclarator", // ëŒ€ì…ë¬¸\n          "start": 6,\n          "end": 18,\n          "id": {\n            "type": "Identifier", // ë³€ìˆ˜ ì‹ë³„ì\n            "start": 6,\n            "end": 10,\n            "name": "name" // ì‹ë³„ìëª…\n          },\n          "init": {\n            "type": "Literal", // ë¦¬í„°ëŸ´ ê°’\n            "start": 13,\n            "end": 18,\n            "value": "ìœ ì¬ì„", // ì‹¤ì œ ê°’\n            "raw": "\'ìœ ì¬ì„\'"\n          }\n        }\n      ],\n      "kind": "const"\n    }\n  ],\n  "sourceType": "module"\n}\n```\n\n<br /><br />\n\n---\n\n## 2. Ignition interpreterë¡œ Byte codeë¡œ ë³€í™˜í•˜ê¸°\n\n- [ì´ë¯¸ì§€ ì¶œì²˜ - v8](https://v8.dev/blog/background-compilation)\n  ![](https://velog.velcdn.com/images/xmun74/post/55e235c0-1763-480e-b152-4ce4c86ac7d0/image.png)\n\n: ì½”ë“œ í•œì¤„ ì‹¤í–‰í• ë•Œë§ˆë‹¤ ASTë¥¼ ë°›ì•„ì„œ ë°”ì´íŠ¸ì½”ë“œë¡œ ë°˜í™˜í•´ì£¼ëŠ” ì¸í„°í”„ë¦¬í„°\n<br/>\n\n- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ê°ì†Œ**í•˜ê¸° ìœ„í•´ ì»´íŒŒì¼ëŸ¬ê°€ ì•„ë‹Œ ì¸í„°í”„ë¦¬í„°ë¥¼ ì‚¬ìš©\n  : ì»´íŒŒì¼ëŸ¬ëŠ” ì‹¤í–‰ë˜ì§€ ì•Šì„ ì½”ë“œê¹Œì§€ ë„¤ì´í‹°ë¸Œ ì½”ë“œ(ê¸°ê³„ì–´)ë¡œ ë³€í™˜í•´ì„œ ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ë°œìƒí•˜ì§€ë§Œ,\n  ì¸í„°í”„ë¦¬í„°ëŠ” ë°”ì´íŠ¸ì½”ë“œë¡œ ë³€í™˜í•˜ê¸° ë•Œë¬¸ì— ìƒëŒ€ì ìœ¼ë¡œ ìš©ëŸ‰ë„ ì‘ê³ , í•œ ì¤„ì”© ì‹¤í–‰ë ë•Œë§ˆë‹¤ ë³€í™˜í•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš©ì— íš¨ìœ¨ì ì…ë‹ˆë‹¤.\n  <br />\n\n- ì´ì „ ë°©ì‹ì´ì—ˆë˜ Full-codegen ëŒ€ì²´í•˜ëŠ” ì¸í„°í”„ë¦¬í„°\n  Full-codegen ì»´íŒŒì¼ì˜ ë‹¨ì ìœ¼ë¡œ ì¸í•´ ì¸í„°í”„ë¦¬í„° ë‹¨ê³„ê°€ ì¶”ê°€ë˜ì—ˆë‹¤ê³  ë³´ì‹œë©´ ë©ë‹ˆë‹¤. ì´ˆê¸°ì— ì½”ë“œ ì‹¤í–‰ ì‹œ ë³µì¡í•œ ë„¤ì´í‹°ë¸Œ ì½”ë“œ ìƒì„±ì´ë‚˜ ìµœì í™”ë¥¼ ê±´ë„ˆë›°ê³ , ë¹ ë¥´ê²Œ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì‚¬ìš©í•´ì„œ ì‹¤í–‰ì‹œí‚¤ëŠ” ê²ƒì— ì´ˆì ì´ ë§ì¶°ì ¸ ìˆìŠµë‹ˆë‹¤.\n  <br />\n\n  > ë§ˆì§€ë§‰ìœ¼ë¡œ ë°”ì´íŠ¸ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ Full-codegenì˜ ê¸°ì¤€ ì»´íŒŒì¼ëœ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë³´ë‹¤ ë¹ ë¥´ê¸° ë•Œë¬¸ì— Ignitionì„ í™œì„±í™”í•˜ë©´ ì¼ë°˜ì ìœ¼ë¡œ ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘ ì‹œê°„ì´ ê°œì„ ë˜ê³  ê²°ê³¼ì ìœ¼ë¡œ ì›¹ í˜ì´ì§€ ë¡œë“œë„ ê°œì„ ë©ë‹ˆë‹¤.\n  >\n  > [- v8 Launching Ignition and TurboFan ë³¸ë¬¸ ì¤‘ -](https://v8.dev/blog/launching-ignition-and-turbofan)\n\n<br />\n- í„°ë¯¸ë„ì—ì„œ ë°”ì´íŠ¸ì½”ë“œ ì¶œë ¥í•´ë³´ê¸°\n  ì½”ë“œë¥¼ ë°”ì´íŠ¸ì½”ë“œë¡œ ë³´ê³  ì‹¶ìœ¼ë©´ `node --print-bytecode index.js`ë¥¼ ì‹¤í–‰í•´ë³´ë©´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ê³ ì‚¬í•­ìœ¼ë¡œëŠ” ë§Œì•½ í•¨ìˆ˜ë©´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ì•¼ ê²°ê³¼ë¬¼ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<br /><br />\n\n---\n\n## 3. Sparkplug ë¹„ìµœì í™” ì»´íŒŒì¼ëŸ¬ ë„ì…\n\n: í„°ë³´íŒ¬ê³¼ ë‹¬ë¦¬ ìµœì í™”ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šê³  ë°”ì´íŠ¸ì½”ë“œë¥¼ -> ê¸°ê³„ì–´ ì½”ë“œë¡œ ë¹ ë¥´ê²Œ ìƒì„±í•˜ëŠ” ì»´íŒŒì¼ëŸ¬\n\n- ì´ê·¸ë‹ˆì…˜ - í„°ë³´íŒ¬ì˜ ì¤‘ê°„ë‹¨ê³„ì¸ **ë¹„ìµœì í™” ì»´íŒŒì¼ëŸ¬**\n- ë°”ì´íŠ¸ì½”ë“œ ê¸°ë°˜ìœ¼ë¡œ ë„¤ì´í‹°ë¸Œì½”ë“œ(ê¸°ê³„ì–´) ìƒì„±í•˜ë¯€ë¡œ ì†ë„ê°€ ë¹ ë¦„\n- í„°ë³´íŒ¬ì— ë¹„í•´ì„œ ìµœì í™” ì‘ì—…ì„ ìƒëµí•˜ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì ìŒ(ìµœì í™”ëŠ” í„°ë³´íŒ¬ì— ë§¡ê¹€)\n  ìµœì í™”í•˜ëŠ” ë°ì—ëŠ” ë¹„ìš©ì´ ë°œìƒí•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ì´ì „ì— ë„ˆë¬´ ì„£ë¶€ë¦° ìµœì í™”ë¡œ ì¸í•œ ë¹„ìš©ì´ ë°œìƒí–ˆì—ˆê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ëœê³ ì ì‹¬í”Œí•œ ë¹„ìµœì í™” ì»´íŒŒì¼ëŸ¬ë¥¼ ë„ì…í•˜ê²Œ ë©ë‹ˆë‹¤.\n\n## 4. í•„ìš”ì‹œ Turbofan compilerë¡œ ì„±ëŠ¥ ìµœì í™”\n\n: ìµœì í™” ì‘ì—…ì„ ìˆ˜í–‰í•´ì„œ ë°”ì´íŠ¸ì½”ë“œë¥¼ ë¨¸ì‹ ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ì»´íŒŒì¼ëŸ¬\n\n- ë°”ì´íŠ¸ì½”ë“œë¥¼ ë¶„ì„í•´ì„œ JIT ì»´íŒŒì¼ëŸ¬ë¡œ ì„±ëŠ¥ ìµœì í™” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n- í„°ë¯¸ë„ì—ì„œ ìµœì í™” ì½”ë“œ ë¡œê·¸ ì¶œë ¥í•´ë³´ê¸°\n  `node --trace-opt index.js`\n\n<br/><br/><br/><br/>\n\n> ### ìë™ì°¨ ì—”ì§„ì˜ êµ¬ì¡°ë¥¼ ë©”íƒ€í¬ë¡œ ì‚¬ìš©í•œ ìš©ì–´ ì„¤ëª…\n\nì²˜ìŒì— ì‘ì—…íë¦„ì„ ì­‰ ì‚´í´ë³´ë©´ ìš©ì–´ë“¤ì´ êµ‰ì¥íˆ ìƒì†Œí•˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ìš©ì–´ë“¤ì´ ì–´ë””ì„œ ì°¨ìš©ë˜ì—ˆëŠ”ì§€ë¥¼ ì´í•´í•˜ë©´ ë‚˜ì¤‘ì— í•´ë‹¹ ë‚´ìš©ë“¤ì„ ë‹¤ì‹œë´ë„ ì§ê´€ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë§ˆì§€ë§‰ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n#### V8\n\n: ê²½ì£¼ìš© ìë™ì°¨ë‚˜ ë¹„í–‰ê¸°ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì—”ì§„ìœ¼ë¡œ, vì í˜•íƒœì˜ 8ê¸°í†µ ê³ ì„±ëŠ¥ ì—”ì§„ì¸ [v8](https://en.wikipedia.org/wiki/V8_engine)ì˜ ì´ë¦„ì„ ë”°ì„œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. (ì´ê²Œ ì§„ì§œ ì—”ì§„ì´ë¦„ì¸ ì¤„ì€ ëª°ëìŠµë‹ˆë‹¤..)\n\n<img\n  src="/images/posts/v8-engine-01/241123-223547.png"\n  width="200"\n  height="200"\n/>\n\n#### Ignition(ì í™”)\n\n: ì—”ì§„ì„ ê°€ë™ì‹œí‚¤ëŠ” ì í™” ì‘ì—…ìœ¼ë¡œ, JSì½”ë“œë¥¼ ë¹ ë¥´ê²Œ ì‹¤í–‰ê°€ëŠ¥í•œ ë‹¨ê³„ì¸ ë°”ì´íŠ¸ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ì‘ì—…ì„ ë– ì˜¬ë¦¬ë©´ ë©ë‹ˆë‹¤.\n\n#### TurboFan\n\n: ìë™ì°¨ ì—”ì§„ì˜ í„°ë³´ì°¨ì €ë¡œ ê³ ì„±ëŠ¥ ê°€ì† ì‘ì—…ì— í•´ë‹¹í•©ë‹ˆë‹¤. ì´ëŠ” ì„±ëŠ¥ ìµœì í™” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” JIT ì»´íŒŒì¼ëŸ¬ë¥¼ ë– ì˜¬ë¦¬ë©´ ë©ë‹ˆë‹¤.\n\n<br /><br /><br /><br />\n\n---\n\n<br /><br /><br /><br />\n\nì—¬ê¸°ê¹Œì§€ V8 ì—”ì§„ì˜ ì‘ì—… íë¦„ì— ëŒ€í•´ì„œ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ë²ˆ í¸ì—ì„œëŠ” Spartplugë‚˜ TurboFanì— ëŒ€í•´ì„œ ê¹Šê²Œ ë³´ì§€ ì•Šì•˜ëŠ”ë°... ê´€ë ¨ ë‚´ìš©ë“¤ì´ ì‚´í´ë³¼ê²Œ ì¢€ ìˆê³ , ë­”ê°€ ê¸€ì´ ë„ˆë¬´ ê¸¸ì–´ì§ˆ ê²ƒ ê°™ì•„ì„œ ë‹¤ìŒ ë¸”ë¡œê·¸ ê¸€ë¡œ ì¨ë³´ë ¤ê³  í•©ë‹ˆë‹¤!\n\n<br /><br /><br /><br />\n\n---\n\n# ì°¸ê³ \n\n- [V8 github](https://github.com/v8/v8)\n- https://evan-moon.github.io/2019/06/28/v8-analysis/\n- [Youtube - BlinkOn 6 Day 1 Talk 2: Ignition - an interpreter for V8](https://www.youtube.com/watch?v=r5OWCtuKiAk)\n',
  },
]
